"use strict";function A3xa2IEnvironmentVariables()
{var jr_I={enable:function(ji_typeStorage,ji_b){return false;},readv:function(){return false;},writev:function(){return false;},setVar:function(ji_name,ji_val){return false;},getVar:function(ji_name){return null;}};return jr_I;}
function A3xa2EnvironmentVariables()
{var jr_o={jm_sEnvarsKey:"A3XAENVARS",jm_bEnableSS:false,jm_oEnvars:{},ev:A3xa2IEnvironmentVariables()};jr_o.ev.enable=function(ji_typeStorage,ji_b)
{if(ji_typeStorage=="SS")
jr_o.jm_bEnableSS=(ji_b||false);return true;};jr_o.ev.readv=function()
{if(!jr_o.jm_bEnableSS)
return false;var jt_oEnvars={};var jt_jsonEnvars=sessionStorage.getItem(jr_o.jm_sEnvarsKey);if(jt_jsonEnvars)
{jt_oEnvars=JSON.parse(jt_jsonEnvars,function(ji_k,ji_v)
{return ji_v;});}
jr_o.jm_oEnvars=jt_oEnvars;return true;};jr_o.ev.writev=function()
{if(!jr_o.jm_bEnableSS)
return false;var jt_jsonEnvars="";if(jr_o.jm_oEnvars)
{jt_jsonEnvars=JSON.stringify(jr_o.jm_oEnvars,function(ji_k,ji_v)
{return ji_v;});}
if(!jt_jsonEnvars)
jt_jsonEnvars="";sessionStorage.setItem(jr_o.jm_sEnvarsKey,jt_jsonEnvars);return true;};jr_o.ev.setVar=function(ji_name,ji_val,ji_bUpdateEnvars)
{if(!ji_name)
return false;jr_o.jm_oEnvars[ji_name]=ji_val;var jr_b=true;if(ji_bUpdateEnvars)
jr_b=jr_o.ev.writev();return true;};jr_o.ev.getVar=function(ji_name)
{if(!ji_name)
return null;return jr_o.jm_oEnvars[ji_name];};return jr_o;}"use strict";var jg_oe=null;function A3xaAbsEnvironment()
{jg_oe=this;this.jm_bCanEdit=false;this.jm_bCanLike=false;this.jm_sWebbot="";this.jm_sDirIcons="/";this.jm_sDirHome="/";this.jm_sLang="en";var jt_this=this;this.jc_oStorage=null;this.jc_oXUR=null;this.jc_oA3xaDatabase=null;this.jc_oA3xaDbZero=null;this.jc_oEntity=null;this.jc_oEntityInfo=null;this.jc_oHtml=null;this.jc_oIcons=null;this.jc_oUrls=null;this.jm_bReady=false;jQuery(document).ready(function(){jt_this.jm_bReady=true;jt_this._OnDocumentReady();});this._OnDocumentReady=function()
{return true;};this.IsReady=function(){return this.jm_bReady;};this.jm_DebugLevel=0;this.jm_oModule={};this.Set_Debug=function(ji_DebugLevel,ji_oModule)
{this.jm_DebugLevel=ji_DebugLevel;this.jm_oModule=(ji_oModule||{});return true;};this.CanLogInfo=function(ji_oModule)
{if(!(this.jm_DebugLevel>0))
return false;if(!ji_oModule)
return false;if(ji_oModule.DB&&ji_oModule.DB<=this.jm_oModule.DB)
{if(!this.jm_oModule.DBT||ji_oModule.DBT==this.jm_oModule.DBT)
return true;}
if(ji_oModule.VW&&ji_oModule.VW<=this.jm_oModule.VW)
return true;return false;};this.LogInfo=function(ji_sMessage,ji_sTask,ji_sMethodName)
{if(!ji_sMessage)
ji_sMessage="*";if(!ji_sTask)
ji_sTask="*";if(!ji_sMethodName)
ji_sMethodName="*";var jt_s=ji_sMessage+" [tk: "+ji_sTask+", md: "+ji_sMethodName+" ]";try
{if(window.console)
console.log(jt_s);}
catch(e)
{}
return true;};this.LogErr=function(ji_sMessage,ji_sTask,ji_sMethodName)
{if(!ji_sMessage)
ji_sMessage="*";if(!ji_sTask)
ji_sTask="*";if(!ji_sMethodName)
ji_sMethodName="*";var jt_s="Error: "+ji_sMessage+" [tk: "+ji_sTask+", md: "+ji_sMethodName+" ]";try
{if(window.console)
console.log(jt_s);}
catch(e)
{}
return true;};this.ExceptionMessage=function(ji_exception,ji_procedure)
{if(!ji_procedure)
ji_procedure="";var jt_sMessage=(ji_exception&&ji_exception.message?ji_exception.message:"unknown");var jt_sFileName=(ji_exception&&ji_exception.fileName?ji_exception.fileName:"unknown");var jt_line=(ji_exception&&ji_exception.lineNumber?ji_exception.lineNumber:"unknown");alert("Turbo Mode Experimental - "+ji_procedure+"Fails with: "+
jt_sMessage+" - in file: "+jt_sFileName+" - at line: "+jt_line);return true;};this.jm_blsbReady=false;this.jm_alsb=[];this.IsStatusBarReady=function()
{if(this.jm_blsbReady===true)
return true;if(this.jm_blsbReady==-1)
return false;if(!this.IsReady())
return false;this.jm_blsbReady=-1;var jt_delay=setTimeout(function()
{jt_this.jm_blsbReady=true;},500);return false;};this.LogStatusBar=function(ji_sText,ji_bAsChild,ji_bClear)
{return this.LogStatusBar2(new A3xaString([ji_sText,ji_sText,ji_sText,ji_sText]),ji_bAsChild,ji_bClear);};this.LogStatusBar2=function(ji_o3xsText,ji_bAsChild,ji_bClear)
{if(!ji_o3xsText)
ji_o3xsText=new A3xaString();if(ji_bClear)
this.jm_alsb=[];if(!this.IsReady())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("suspend:"+ji_o3xsText.Get_LString(),"","A3xaAbsEnvironment.LogStatusBar");this.jm_alsb.push({text:ji_o3xsText,bchild:ji_bAsChild,bclean:ji_bClear});return true;}
if(ji_bClear)
{if(!this._ExecLogStatusBar2(null,ji_bAsChild,ji_bClear));}
while(this.jm_alsb&&this.jm_alsb.length)
{var jt_oText=this.jm_alsb.shift();jg_oe.CanLogInfo()&&jg_oe.LogInfo("grant:"+jt_oText.text,"","A3xaAbsEnvironment.LogStatusBar");if(!this._ExecLogStatusBar2(jt_oText.text,jt_oText.bchild,jt_oText.bclean));}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("w2sb:"+ji_o3xsText.Get_LString(),"","A3xaAbsEnvironment.LogStatusBar");if(!this._ExecLogStatusBar2(ji_o3xsText,ji_bAsChild,ji_bClear));return true;};this._ExecLogStatusBar2=function(ji_o3xsText,ji_bAsChild,ji_bClear){return false;};this.jm_o3x2Envars=A3xa2EnvironmentVariables();this.jm_oGLData={};this.Get_GLPreloadedData=function(){return this.jm_oGLData;};this.Get_WebbotName=function(){return this.jm_sWebbot;};this.Set_CommonValues2=function(ji_ohia)
{return this.A3xaAbsEnvironment_Set_CommonValues2(ji_ohia);}
this.A3xaAbsEnvironment_Set_CommonValues2=function(ji_ohia)
{if(!ji_ohia)
return false;this.jm_bDebug=(ji_ohia.bDebug==true);this.jm_bCanEdit=ji_ohia.bCanEdit;this.jm_bCanLike=ji_ohia.bCanLike;this.jm_sWebbot=ji_ohia.webbot;this.jm_sDirIcons=(ji_ohia.dirIcons?ji_ohia.dirIcons:"/");this.jm_sDirHome=(ji_ohia.dirHome?ji_ohia.dirHome:"/");this.jm_sLang=(ji_ohia.lang?ji_ohia.lang:"en");this.jm_sSitemapDate=(ji_ohia.dateSitemap?ji_ohia.dateSitemap:"");this.jm_oGLData=ji_ohia.oGLData;return true;};this.CheckInitDone=function(){return true;};this.jm_oMgrStorage=null;this.Get_MgrStorage=function(){return this.jm_oMgrStorage;};this.jm_odb=null;this.Set_Database=function(ji_odb){this.jm_odb=ji_odb;return true;};this.Get_Database=function(){return this.jm_odb;};this.jm_oHostReporter=null;this.Set_Reporter=function(ji_oHostReporter)
{this.jm_oHostReporter=ji_oHostReporter;return true;};this.Get_Reporter=function(){return this.jm_oHostReporter;};this.jm_oheSet=null;this.Get_HtmlSetEntity=function(){return this.jm_oheSet;};this.Set_HtmlSetEntity=function(ji_oheSet){this.jm_oheSet=ji_oheSet;return true;};this.AbortHttpRequests=function()
{var jt_o3xAppWindow=new A3xaAppWindow();jt_o3xAppWindow.Stop();return true;};this.HideLeftPanel=function()
{var qt_navLeftPanel=jQuery("#nav");if(qt_navLeftPanel&&qt_navLeftPanel.length)
{qt_navLeftPanel.hide();return true;}
return false;};this.ShowPageHeader=function(ji_bShow)
{var qt_oc=jQuery("#contentarea");var qt_oh=jQuery("#header");if(qt_oh&&qt_oh.length&&qt_oc&&qt_oc.length)
{if(ji_bShow)
{qt_oh.css({"visibility":"","position":"","top":"","left":"","height":""});qt_oh.show();qt_oc.css({"position":"","top":"","left":""});}
else
{qt_oh.css({"visibility":"hidden","position":"absolute","top":"0","left":"0","height":"0px"});qt_oh.hide();qt_oc.css({"position":"absolute","top":"0","left":"0"});}
return true;}
return false;};this.AppendPageBreadCrumbs=function(ji_IdHtmlItem,ji_IdHtmlHook)
{if(!ji_IdHtmlItem)
return false;var qt_ohitem=jQuery("#"+ji_IdHtmlItem);if(!(qt_ohitem&&qt_ohitem.length))
return false;var qt_obc=jQuery("#breadcrumbs");if(!(qt_obc&&qt_obc.length))
return false;var qt_ohook=null;if(ji_IdHtmlHook)
{qt_ohook=jQuery("#"+ji_IdHtmlHook);if(!(qt_ohook&&qt_ohook.length))
return false;}
qt_ohitem.detach();if(qt_ohook&&qt_ohook.length)
qt_ohook.append(qt_ohitem);else
qt_obc.append(qt_ohitem);return true;};this.Get_Lang=function(){return this.jm_sLang;};}"use strict";function A3xaDebugReference(ji_o,ji_s){return" "+(ji_s||"")+(ji_o?" ok ":" nok ");}
function A3xaMathFloor(ji_v,ji_d)
{if(!ji_d)
return Math.floor(Number(ji_v));if(ji_v>=1)
return Math.floor((Number(0.000001)+Number(ji_v))/Number(ji_d));return Math.floor((Number(ji_v)*Number(1.000001))/Number(ji_d));}
function A3xaIsDigit(ji_ch)
{if(!ji_ch)return false;var jt_chcode=ji_ch.charCodeAt(0);return((jt_chcode>47)&&(jt_chcode<58));}
function EmailAntispam_Write(ji_Id,ji_email)
{document.getElementById(ji_Id).setAttribute("href",EmailAntispam_UrlLink(ji_email));}
function EmailAntispam_UrlLink(ji_email)
{return"mai"+"lto:"+ji_email.replace(/__nosp__/g,"").replace(/ba__at__/g,"@").replace(/__at2__/g,"@").replace(/__at__/g,"@").replace(/__dot__/g,".");}"use strict";function A3xaAppWindow()
{var jt_this=this;this.Stop=function()
{var jt_bIE=false;if(navigator.appName=="Microsoft Internet Explorer")
jt_bIE=true;if(!jt_bIE)
{try
{window.stop();}
catch(e)
{jt_bIE=true;}}
if(jt_bIE)
window.document.execCommand("Stop");return true;};this.Set_EHResize=function(ji_fnEventHandler)
{if(ji_fnEventHandler)
jQuery(window).resize(ji_fnEventHandler);else
jQuery(window).off("resize");return true;};}"use strict";function A3xaDateTime(ji_DateJS)
{this.jm_DateJS=(ji_DateJS||null);this.IsValid=function(){return this.jm_DateJS?true:false;};this.Set_Now=function(){this.jm_DateJS=new Date();}
this.Get_Date=function()
{if(!this.IsValid())
return"";var jt_YYYY=this.jm_DateJS.getFullYear()+10000;var jt_MM=this.jm_DateJS.getMonth()+101;var jt_DD=this.jm_DateJS.getDate()+100;return jt_YYYY.toString().substr(1,4)+"-"+
jt_MM.toString().substr(1,2)+"-"+jt_DD.toString().substr(1,2);};this.Get_Time=function()
{if(!this.IsValid())
return"";var jt_hh=this.jm_DateJS.getHours()+100;var jt_mm=this.jm_DateJS.getMinutes()+100;var jt_ss=this.jm_DateJS.getSeconds()+100;return jt_hh.toString().substr(1,2)+":"+
jt_mm.toString().substr(1,2)+":"+jt_ss.toString().substr(1,2);};this.Get_DateTime=function(ji_sepdt)
{if(!this.IsValid())
return(ji_sepdt?ji_sepdt:"");return this.Get_Date()+(ji_sepdt?ji_sepdt:" ")+this.Get_Time();};this.Set_DateTime=function(ji_sDateTime)
{if(!(ji_sDateTime&&ji_sDateTime.length==19))
return false;if(!this.jm_DateJS)
this.jm_DateJS=new Date();var jt_YYYY=ji_sDateTime.substr(0,4);var jt_MM=ji_sDateTime.substr(5,2);var jt_DD=ji_sDateTime.substr(8,2);var jt_hh=ji_sDateTime.substr(11,2);var jt_mm=ji_sDateTime.substr(14,2);var jt_ss=ji_sDateTime.substr(17,2);jt_MM=Number(jt_MM)-1;this.jm_DateJS.setFullYear(jt_YYYY,jt_MM,jt_DD);this.jm_DateJS.setHours(jt_hh,jt_mm,jt_ss,0);return true;};this.Compare=function(ji_o3xDateTime)
{var jt_delta=this.jm_DateJS.getFullYear()-ji_o3xDateTime.jm_DateJS.getFullYear();if(jt_delta!=0)
return jt_delta<0?-1:1;jt_delta=this.jm_DateJS.getMonth()-ji_o3xDateTime.jm_DateJS.getMonth();if(jt_delta!=0)
return jt_delta<0?-1:1;jt_delta=this.jm_DateJS.getDate()-ji_o3xDateTime.jm_DateJS.getDate();if(jt_delta!=0)
return jt_delta<0?-1:1;jt_delta=this.jm_DateJS.getHours()-ji_o3xDateTime.jm_DateJS.getHours();if(jt_delta!=0)
return jt_delta<0?-1:1;jt_delta=this.jm_DateJS.getMinutes()-ji_o3xDateTime.jm_DateJS.getMinutes();if(jt_delta!=0)
return jt_delta<0?-1:1;jt_delta=this.jm_DateJS.getSeconds()-ji_o3xDateTime.jm_DateJS.getSeconds();if(jt_delta!=0)
return jt_delta<0?-1:1;return 0;};this.DeltaMSec=function(ji_o3xDateTime)
{if(!(this.IsValid()&&ji_o3xDateTime&&ji_o3xDateTime.IsValid()))
return null;var jr_deltaMSec=this.jm_DateJS.getTime()-ji_o3xDateTime.jm_DateJS.getTime();return jr_deltaMSec;};this.DeltaSeconds=function(ji_o3xDateTime)
{var jt_deltaMSec=this.DeltaMSec(ji_o3xDateTime);if(jt_deltaMSec==null)
return null;return(jt_deltaMSec/1000);};this.DeltaDays=function(ji_o3xDateTime)
{var jt_deltaSec=this.DeltaSec(ji_o3xDateTime);if(jt_deltaSec==null)
return null;return(jt_deltaSec/86400);};this.AddSeconds=function(ji_seconds)
{if(!(this.IsValid()))
return false;this.jm_DateJS.setTime(this.jm_DateJS.getTime()+(ji_seconds*1000));return true;};}
﻿"use strict";function A3xa3IArray()
{var jr_I={I:function(){return null;},O:function(){return null;},getCount:function(){return 0;},checkIndex:function(ji_ix){return false;},getItem_ByIndex:function(ji_ix){return null;},foreachItem:function(ji_fnDo){return null;},findItem:function(ji_fnCheck){return null;},findItem2:function(ji_fnCheck){return null;},sortItems:function(ji_fnCompare){return false;},getKeys:function(){return null;},merge:function(ji_Iar){return false;},setItem:function(ji_key,ji_value){return false;},addItem:function(ji_key,ji_value){return false;},getItem:function(ji_key){return null;},getKey:function(ji_ix){return null;},clear:function(){return false;},getArray:function(ji_fnFilter){return null;}};jr_I.checkIndex=function(ji_ix){return ji_ix>=0&&ji_ix<jr_I.getCount();};jr_I.getItem_ByIndex=function(ji_ix){return jr_I.getItem(jr_I.getKey(ji_ix));};jr_I.findItem=function(ji_fnCheck)
{var jt_item2=jr_I.findItem2(ji_fnCheck);if(!jt_item2)
return jt_item2;return jt_item2.itm;};jr_I.findItem2=function(ji_fnCheck)
{if(!ji_fnCheck)
return null;var jt_count=jr_I.getCount();for(var i=0;i<jt_count;i++)
{var jr_oi=jr_I.getItem_ByIndex(i);if(!jr_oi)
continue;if(ji_fnCheck(jr_oi))
return{itm:jr_oi,ix:i};}
return null;};return jr_I;}
function A3xa3IArrayIt()
{var jr_I={I:function(){return null;},O:function(){return null;},set3x2Array:function(ji_IArray_Target){false;},getTargetIArray:function(){return null;},selectItems:function(ji_fnSelect,ji_MaxItems){return true;},getIndex:function(){return-1;},resetIndex:function(){return false;},getCurrentKey:function(){return null;},getCurrentItem:function(){return null;},next:function(){return false;},iseof:function(){return true;}};return jr_I;}
function A3xa3Array()
{var jr_o={jm_am:new Map(),jm_ax:[],ar:A3xa3IArray(),};jr_o.ar.O=function(){return jr_o;};jr_o.ar.I=function(){return jr_o._IPool();};jr_o._IPool=function(){return{Iar:jr_o.ar};};jr_o.ar.clear=function(){jr_o.jm_ax=[];jr_o.jm_am=new Map();return true;};jr_o.ar.getKeys=function(){return jr_o.jm_ax;};jr_o.ar.getCount=function(){return(jr_o.jm_ax&&jr_o.jm_am.size)?jr_o.jm_ax.length:0;};jr_o.ar.merge=function(ji_Iar)
{if(!ji_Iar)
return false;ji_Iar.foreachItem(function(ji_value,ji_ix,ji_key)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("ji_key="+ji_key,"","A3xa3Array.merge");jr_o.ar.setItem(ji_key,ji_value);return true;});return true;};jr_o.ar.setItem=function(ji_key,ji_value)
{if(!ji_key)
return false;if(ji_value==null)
return false;if(jr_o.jm_am.get(ji_key)!=null)
{jr_o.jm_am.set(ji_key,ji_value);return true;}
jr_o.jm_am.set(ji_key,ji_value);jr_o.jm_ax.push(ji_key);return true;};jr_o.ar.addItem=function(ji_key,ji_value)
{if(!ji_key)
return false;if(ji_value==null)
return false;if(jr_o.jm_am.get(ji_key)!=null)
return false;jr_o.jm_am.set(ji_key,ji_value);jr_o.jm_ax.push(ji_key);return true;};jr_o.ar.getItem=function(ji_key)
{if(!ji_key)
return null;var jr_v=jr_o.jm_am.get(ji_key);return(jr_v==null?null:jr_v);};jr_o.ar.getKey=function(ji_ix)
{if(!jr_o.ar.checkIndex(ji_ix))
return null;return jr_o.jm_ax[ji_ix];};jr_o.ar.foreachItem=function(ji_fnDo)
{if(!ji_fnDo)
return false;var jt_bBreak=false;jr_o.jm_ax.forEach(function(ji_key,ji_ix,ji_ax)
{if(!jt_bBreak&&!ji_fnDo(jr_o.ar.getItem_ByIndex(ji_ix),ji_ix,ji_key))
jt_bBreak=true;});return true;};jr_o.ar.sortItems=function(ji_fnCompare)
{if(!(jr_o.jm_am.size&&jr_o.jm_ax))
return false;jr_o.jm_ax.sort(function(ji_key_a,ji_key_b)
{if(!ji_fnCompare)
{if(ji_key_a<ji_key_b)
return-1;return 1;}
return ji_fnCompare(jr_o.jm_am.get(ji_key_a)||null,jr_o.jm_am.get(ji_key_b)||null,ji_key_a,ji_key_b);});return true;};jr_o.ar.getArray=function(ji_fnFilter)
{var jr_a=[];var jt_c=jr_o.ar.getCount();for(var i=0;i<jt_c;i++)
{var jt_key=jr_o.ar.getKey(i);var jt_item=jr_o.ar.getItem(jt_key);if(!ji_fnFilter||ji_fnFilter(jt_key,jt_item,i))
jr_a.push(jt_item);}
return jr_a;};jr_o.Get_I3x3=function(){return jr_o.ar;};jr_o.Get_Count=jr_o.ar.getCount;jr_o.Set_Item=jr_o.ar.setItem;jr_o.Add_Item=jr_o.ar.addItem;jr_o.Get_Item=jr_o.ar.getItem;jr_o.Get_Key=jr_o.ar.getKey;jr_o.Sort=jr_o.ar.sortItems;jr_o.Get_Item_ByIndex=jr_o.ar.getItem_ByIndex;jr_o.Find=jr_o.ar.findItem;return jr_o.ar;}
function A3xa3ArrayIt(ji_IArray_Target)
{var jr_o={jm_IArray:null,jm_ix:-1,jm_If:null,ar:A3xa3IArray(),arit:A3xa3IArrayIt(),};jr_o.ar.O=function(){return jr_o;};jr_o.arit.O=function(){return jr_o;};jr_o.ar.I=function(){return jr_o._IPool();};jr_o.arit.I=function(){return jr_o._IPool();};jr_o._IPool=function(){return{Iar:jr_o.ar,Iarit:jr_o.arit};};jr_o.arit.getTargetIArray=function(){return jr_o.jm_IArray;};jr_o.ar.getKeys=function()
{if(!jr_o.arit.getTargetIArray())
return[];if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().getKeys();return jr_o.jm_If.getKeys();};jr_o.ar.getCount=function()
{if(!jr_o.arit.getTargetIArray())
return 0;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().getCount();return jr_o.jm_If.getCount();};jr_o.ar.merge=function(ji_Iar)
{if(!jr_o.arit.getTargetIArray())
return false;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().merge(ji_Iar);return jr_o.arit.getTargetIArray().merge(ji_Iar);};jr_o.ar.setItem=function(ji_key,ji_value)
{if(!jr_o.arit.getTargetIArray())
return false;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().setItem(ji_key,ji_value);return jr_o.arit.getTargetIArray().setItem(ji_key,ji_value);};jr_o.ar.addItem=function(ji_key,ji_value)
{if(!jr_o.arit.getTargetIArray())
return false;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().addItem(ji_key,ji_value);return jr_o.arit.getTargetIArray().addItem(ji_key,ji_value);};jr_o.ar.getItem=function(ji_key)
{if(!jr_o.arit.getTargetIArray())
return null;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().getItem(ji_key);if(jr_o.jm_If.getItem(ji_key))
return jr_o.arit.getTargetIArray().getItem(ji_key);return null;};jr_o.ar.getKey=function(ji_ix)
{if(!jr_o.arit.getTargetIArray())
return null;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().getKey(ji_ix);return jr_o.jm_If.getKey(ji_ix);};jr_o.ar.getItem_ByIndex=function(ji_ix)
{if(!jr_o.arit.getTargetIArray())
return null;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().getItem_ByIndex(ji_ix);return jr_o.arit.getTargetIArray().getItem(jr_o.jm_If.getKey(ji_ix));};jr_o.ar.foreachItem=function(ji_fnDo)
{if(!jr_o.arit.getTargetIArray())
return null;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().foreachItem(ji_fnDo);if(!ji_fnDo)
return false;jr_o.jm_If.foreachItem(function(ji_bdummy,ji_ix,ji_key)
{return ji_fnDo(jr_o.arit.getTargetIArray().getItem(ji_key),ji_ix,ji_key);});return true;};jr_o.ar.findItem=function(ji_fnCheck)
{if(!jr_o.arit.getTargetIArray())
return null;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().findItem(ji_fnCheck);var jt_c=jr_o.jm_If.getCount();if(!(jt_c>0))
return null;for(var ix=0;ix<jt_c;ix++)
{var jr_v=jr_o.arit.getTargetIArray().getItem(jr_o.jm_If.getKey(ix));if(jr_v&&ji_fnCheck(jr_v))
return jr_v;}
return null;};jr_o.ar.sortItems=function(ji_fnCompare)
{if(!jr_o.arit.getTargetIArray())
return false;if(!jr_o.jm_If)
return jr_o.arit.getTargetIArray().sortItems(ji_fnCompare);jr_o.jm_If.sortItems(ji_fnCompare?function(ji_value_a,ji_value_b,ji_key_a,ji_key_b)
{return ji_fnCompare(jr_o.arit.getTargetIArray().getItem(ji_key_a),jr_o.arit.getTargetIArray().getItem(ji_key_b),ji_key_a,ji_key_b);}:null);return true;};jr_o.arit.getCurrentKey=function(){return jr_o.ar.getKey(jr_o.arit.getIndex());};jr_o.arit.getCurrentItem=function(){return jr_o.ar.getItem(jr_o.arit.getCurrentKey());};jr_o.arit.next=function(){return false;};jr_o.arit.iseof=function()
{var jt_ix=jr_o.arit.getIndex();return(jt_ix<0||jt_ix>=jr_o.ar.getCount());};jr_o.arit.set3x2Array=function(ji_IArray_Target)
{jr_o.jm_IArray=(ji_IArray_Target||null);return jr_o.arit.resetIndex();};jr_o.arit.selectItems=function(ji_fnSelect,ji_MaxItems)
{jr_o.jm_If=null;if(!ji_fnSelect)
return true;var jt_c=(jr_o.arit.getTargetIArray()?jr_o.arit.getTargetIArray().getCount():0);if(!(jt_c>0))
return true;jr_o.jm_If=A3xa3Array();var ixadd=0;for(var ix=0;ix<jt_c;ix++)
{if(ji_MaxItems>0&&ixadd>=ji_MaxItems)
break;var jt_k=jr_o.arit.getTargetIArray().getKey(ix);var jt_v=jr_o.arit.getTargetIArray().getItem(jt_k);if(jt_k&&jt_v)
{var jt_result=ji_fnSelect(jt_k,jt_v);if(jt_result===1||jt_result===true)
{jr_o.jm_If.addItem(jt_k,true);ixadd++;}}}
return true;};jr_o.arit.getIndex=function(){return jr_o.jm_ix;};jr_o.arit.resetIndex=function()
{jr_o.jm_ix=-1;if(jr_o.ar.getCount()>0)
jr_o.jm_ix=0;return true;};jr_o.arit.next=function()
{if(jr_o.arit.iseof())
return false;jr_o.jm_ix++;return!jr_o.arit.iseof();};jr_o.arit.iseof=function()
{return(jr_o.jm_ix<0||jr_o.jm_ix>=jr_o.ar.getCount());};jr_o.Get_I3x3=function(){return jr_o.arit;};jr_o.Get_Count=jr_o.ar.getCount;jr_o.Set_Item=jr_o.ar.setItem;jr_o.Add_Item=jr_o.ar.addItem;jr_o.Get_Item=jr_o.ar.getItem;jr_o.Get_Key=jr_o.ar.getKey;jr_o.Get_Item_ByIndex=jr_o.ar.getItem_ByIndex;jr_o.Find=jr_o.ar.findItem;jr_o.Sort=jr_o.ar.sortItems;jr_o.SelectItems=jr_o.arit.selectItems;jr_o.Get_Index=jr_o.arit.getIndex;jr_o.Reset=jr_o.arit.resetIndex;jr_o.Get_CurrentItem=jr_o.arit.getCurrentItem;jr_o.Next=jr_o.arit.next;jr_o.IsEOF=jr_o.arit.iseof;jr_o.arit.set3x2Array(ji_IArray_Target);return jr_o.arit;}"use strict";function A3xaString(ji_as)
{var jt_this=this;this.jm_as=["","","",""];this.Set_LString=function(ji_lang,ji_s)
{if(ji_lang=="es")
this.jm_as[1]=(ji_s||"");else if(ji_lang=="pt")
this.jm_as[2]=(ji_s||"");else if(ji_lang=="it")
this.jm_as[3]=(ji_s||"");else if(ji_lang=="en")
this.jm_as[0]=(ji_s||"");else
this.jm_as[0]=(ji_s||"");return true;};this.Set_IString=function(ji_id,ji_s)
{if(ji_id==2)
this.jm_as[1]=(ji_s||"");else if(ji_id==3)
this.jm_as[2]=(ji_s||"");else if(ji_id==4)
this.jm_as[3]=(ji_s||"");else if(ji_id==1)
this.jm_as[0]=(ji_s||"");else
this.jm_as[0]=(ji_s||"");return true;};this.Set_MString=function(ji_sen,ji_ses,ji_spt,ji_sit)
{this.jm_as[0]=ji_sen;this.jm_as[1]=ji_ses;this.jm_as[2]=ji_spt;this.jm_as[3]=ji_sit;return true;};this.Set_AString=function(ji_as)
{for(var i=0;i<this.jm_as.length;i++)
this.jm_as[i]="";if(!ji_as)
return true;for(i=0;i<ji_as.length;i++)
this.jm_as[i]=(ji_as[i]||"");return true;};this.Get_AString=function(){return this.jm_as;};this.Get_LString=function(ji_lang)
{if(!ji_lang)
ji_lang=jg_oe.Get_Lang();if(ji_lang=="es")
return this.jm_as[1];else if(ji_lang=="pt")
return this.jm_as[2];else if(ji_lang=="it")
return this.jm_as[3];else if(ji_lang=="en")
return this.jm_as[0];return this.jm_as[0];};this.CopyFrom=function(ji_o3xs)
{if(!ji_o3xs)
return false;return this.Set_AString(ji_o3xs.Get_AString());};this.Set_AString(ji_as);}
function A3xaToString(ji_v){return ji_v?ji_v:"";}"use strict";function A3xaUrl(ji_sUrlBase,ji_sUrlParams)
{this.IsValid=A3xaUrl_IsValid;this.CopyFrom=A3xaUrl_CopyFrom;this.Get_Url=A3xaUrl_Get_Url;this.Set_UrlBase=A3xaUrl_Set_UrlBase;this.Get_UrlBase=A3xaUrl_Get_UrlBase;this.Set_UrlParams=A3xaUrl_Set_UrlParams;this.Get_UrlParams=A3xaUrl_Get_UrlParams;this.Get_UrlParams_Array=A3xaUrl_Get_UrlParams_Array;this.Set_UrlParams_Array=A3xaUrl_Set_UrlParams_Array;this.Add_UrlParam2=A3xaUrl_Add_UrlParam2;this.Get_UrlParam=A3xaUrl_Get_UrlParam;this.Modify_UrlParam=A3xaUrl_Modify_UrlParam;this.Redirect=A3xaUrl_Redirect;this.History_ReplaceState=function(ji_sState,ji_sTitle)
{var jt_sUrl=this.Get_Url();if(!jt_sUrl)
return true;window.history.replaceState(ji_sState?ji_sState:{foo:"bar"},ji_sTitle?ji_sTitle:"A3xaPage",jt_sUrl);return true;};this.jm_sUrlBase=ji_sUrlBase;if(ji_sUrlParams&&ji_sUrlParams.charAt(0)!="&")
this.jm_sUrlParams="&"+ji_sUrlParams;else
this.jm_sUrlParams=ji_sUrlParams;}
function A3xaUrl_IsValid(){return!(!this.jm_sUrlBase);}
function A3xaUrl_CopyFrom(ji_o)
{if(!ji_o)
return false;this.jm_sUrlBase=ji_o.Get_UrlBase();this.jm_sUrlParams=ji_o.Get_UrlParams();return true;}
function A3xaUrl_Get_Url()
{if(!this.IsValid())
return"";var jt_sup=(this.jm_sUrlParams?this.jm_sUrlParams:"");if(!jt_sup)
return this.jm_sUrlBase;if(this.jm_sUrlBase.slice(-1)=="?"&&jt_sup.slice(0,1)=="&")
return this.jm_sUrlBase+jt_sup.slice(1);return this.jm_sUrlBase+jt_sup;}
function A3xaUrl_Set_UrlBase(ji_s){this.jm_sUrlBase=ji_s;}
function A3xaUrl_Get_UrlBase(){return this.jm_sUrlBase;}
function A3xaUrl_Set_UrlParams(ji_sUrlParams){this.jm_sUrlParams=ji_sUrlParams;}
function A3xaUrl_Get_UrlParams(){return this.jm_sUrlParams;}
function A3xaUrl_Get_UrlParams_Array()
{if(this.jm_sUrlParams==null)
return null;var jt_aUrlParamsDirty=this.jm_sUrlParams.replace(/&amp;/g,"&").replace(/&equals;/g,"=").split("&");if(jt_aUrlParamsDirty==null)
return null;var jr_aUrlParams=[];for(var i=0;i<jt_aUrlParamsDirty.length;i++)
{if(jt_aUrlParamsDirty[i]==null||jt_aUrlParamsDirty[i]=="")
continue;var jt_aNV=jt_aUrlParamsDirty[i].split("=");if(jt_aNV==null||(!jt_aNV.length)||jt_aNV[0]=="")
continue;if(jt_aNV.length<2)
jt_aNV.push("");jr_aUrlParams.push(jt_aNV);}
return jr_aUrlParams;}
function A3xaUrl_Set_UrlParams_Array(ji_aUrlParams)
{if(ji_aUrlParams==null)
{this.jm_sUrlParams=null;return true;}
var jt_sUrlParams="";for(var i=0;i<ji_aUrlParams.length;i++)
{var jt_aup=ji_aUrlParams[i];if(jt_aup[0])
{jt_sUrlParams+="&"+jt_aup[0]+"="+jt_aup[1];}}
this.jm_sUrlParams=jt_sUrlParams;return true;}
function A3xaUrl_Add_UrlParam2(ji_sUrlParamName,ji_sUrlParamValue,ji_bEscape)
{if(!ji_sUrlParamName)
return false;if(ji_bEscape==true&&typeof(ji_sUrlParamValue)=="string")
ji_sUrlParamValue=ji_sUrlParamValue.replace(/=/g,"__equ__");if(this.jm_sUrlParams==null)
this.jm_sUrlParams="";this.jm_sUrlParams+="&"+ji_sUrlParamName+"="+ji_sUrlParamValue;return true;}
function A3xaUrl_Get_UrlParam(ji_sUrlParamName)
{if(!ji_sUrlParamName)
return null;var jt_aUrlParams=this.Get_UrlParams_Array();if(!jt_aUrlParams)
return null;for(var i=0;i<jt_aUrlParams.length;i++)
{if(ji_sUrlParamName==jt_aUrlParams[i][0])
return jt_aUrlParams[i][1];}
return null;}
function A3xaUrl_Modify_UrlParam(ji_sUrlParamName,ji_sUrlParamValue)
{if(!ji_sUrlParamName)
return false;var jt_sUrlParamValueEscaped=ji_sUrlParamValue.replace(/=/g,"__equ__");var jt_aUrlParams=this.Get_UrlParams_Array();if(!jt_aUrlParams)
return false;var jt_aUrlParamsModified=[];for(var i=0;i<jt_aUrlParams.length;i++)
{var jt_aup=jt_aUrlParams[i];if(ji_sUrlParamName==jt_aup[0])
{var jt_aupm=new Array(jt_aup[0],jt_sUrlParamValueEscaped);jt_aUrlParamsModified.push(jt_aupm);}
else
jt_aUrlParamsModified.push(jt_aup);}
return this.Set_UrlParams_Array(jt_aUrlParamsModified);}
function A3xaUrl_Redirect()
{var jt_sUrl=this.Get_Url();if(!jt_sUrl)
return true;window.location.href=jt_sUrl;return true;}"use strict";function A3xaHtmlItem2(ji_FullName)
{this.jm_htmlItem=null;this.jm_FullName=ji_FullName;this.Get_FullName=function(){return this.jm_FullName;};this.IsValid=function()
{if(!this.jm_htmlItem)
{if(this.jm_FullName)
{this.jm_htmlItem=document.getElementById(this.jm_FullName);}}
return this.jm_htmlItem!=null;};this.IsVisible=function()
{if(!this.IsValid())
return false;return!(this.jm_htmlItem.style.visibility=="hidden");};this.Set_BkgndPosition=function(ji_right,ji_top)
{var jt_htmlItem=document.getElementById(this.jm_FullName);if(jt_htmlItem)
{jt_htmlItem.style.backgroundPosition=ji_right+"px "+ji_top+"px";}
return true;};this.Set_BkgndPosition2=function(ji_opos)
{if(!ji_opos)
return false;var jt_htmlItem=document.getElementById(this.jm_FullName);if(jt_htmlItem)
{jt_htmlItem.style.backgroundPosition=ji_opos.x+"px "+ji_opos.y+"px";}
return true;};this.Set_Src=function(ji_Src)
{var jt_htmlItem=document.getElementById(this.jm_FullName);if(jt_htmlItem)
{jt_htmlItem.src=ji_Src;}
return true;};this.Show=function(ji_bShow)
{if(!this.IsValid())
return false;if(ji_bShow==true)
{this.jm_htmlItem.style.visibility="inherit";this.jm_htmlItem.style.position="relative";this.jm_htmlItem.style.left="none";this.jm_htmlItem.style.top="none";}
else
{this.jm_htmlItem.style.visibility="hidden";this.jm_htmlItem.style.position="absolute";this.jm_htmlItem.style.left="0px";this.jm_htmlItem.style.top="0px";}
return true;};}"use strict";function A3xaHtmItemInfo(ji_sUrlImg,ji_sHtmId,ji_ItemId)
{this.jm_sUrlImg=(ji_sUrlImg||"");this.jm_sHtmId=(ji_sHtmId||"");this.jm_ItemId=(ji_ItemId||null);this.jm_width=null;this.jm_height=null;this.jm_sTitle="";this.jm_sAlt="";this.jm_sUrlLink="";this.jm_bTargetNew=false;this.jm_bShadow=false;this.jm_bParagraph=false;this.jm_BkgndColor=null;this.jm_bRepeatH=null;this.jm_bRepeatW=null;this._A3xaHtmItemInfo=function()
{};this.Set_Image=function(ji_sUrlImg,ji_sHtmId,ji_ItemId)
{return this._A3xaHtmItemInfo_Set_Image(ji_sUrlImg,ji_sHtmId,ji_ItemId);};this._A3xaHtmItemInfo_Set_Image=function(ji_sUrlImg,ji_sHtmId,ji_ItemId)
{this.jm_sUrlImg=(ji_sUrlImg||"");this.jm_sHtmId=(ji_sHtmId||"");this.jm_ItemId=(ji_ItemId||null);return true;};this.Set_Dim=function(ji_width,ji_height,ji_bNotNull)
{if(!ji_bNotNull||(ji_width||ji_width===0))
this.jm_width=(ji_width||null);if(!ji_bNotNull||(ji_height||ji_height===0))
this.jm_height=(ji_height||null);return true;};this.Set_Title=function(ji_sTitle,ji_sAlt)
{this.jm_sTitle=(ji_sTitle||"");this.jm_sAlt=(ji_sAlt||ji_sTitle);return true;};this.Set_UrlLink=function(ji_sUrlLink,ji_bTargetNew)
{this.jm_sUrlLink=(ji_sUrlLink||"");if(ji_bTargetNew===true)
this.jm_bTargetNew=true;else if(ji_bTargetNew===false)
this.jm_bTargetNew=false
return true;};this.Set_Options=function(ji_bShadow,ji_bParagraph,ji_BkgndColor,ji_bRepeatH,ji_bRepeatW)
{if(ji_bShadow===true)
this.jm_bShadow=true;else if(ji_bShadow===false)
this.jm_bShadow=false;if(ji_bParagraph===true)
this.jm_bParagraph=true;else if(ji_bParagraph===false)
this.jm_bParagraph=false;if(ji_BkgndColor!=null)
this.jm_BkgndColor=ji_BkgndColor;if(ji_bRepeatH===true)
this.jm_bRepeatH=true;else if(ji_bRepeatH===false)
this.jm_bRepeatH=false;if(ji_bRepeatW===true)
this.jm_bRepeatW=true;else if(ji_bRepeatW===false)
this.jm_bRepeatW=false;return true;};this.Get_UrlImage=function(){return this.jm_sUrlImg;};this.Get_HtmId=function(){return this.jm_sHtmId;};this.Set_HtmId=function(ji_v){this.jm_sHtmId=(ji_v||null);return true;};this.Get_ItemId=function(){return this.jm_ItemId;};this.Get_Width=function(){return this.jm_width;};this.Get_Height=function(){return this.jm_height;};this.Get_Title=function(){return this.jm_sTitle;};this.Get_Alt=function(){return this.jm_sAlt;};this.Get_UrlLink=function(){return this.jm_sUrlLink;};this.IsTargetNew=function(){return this.jm_bTargetNew;};this.HasShadow=function(){return this.jm_bShadow;};this.HasParagraph=function(){return this.jm_bParagraph;};this.Get_BkgndColor=function(){return this.jm_BkgndColor;};this._A3xaHtmItemInfo();}
function A3xaStaticSpriteInfo()
{this.iddivisor=null;this.rows=null;this.cols=null;this.steprows=null;this.stepcols=null;this.height=null;this.width=null;this.path=null;}
function A3xaHtmIconInfo(ji_sUrlImg,ji_sHtmId,ji_ItemId,ji_oSpriteInfo)
{A3xaHtmItemInfo.call(this);this.jm_oSpriteInfo=(ji_oSpriteInfo||null);this.jm_sUrlImgTransparent=null;this.jm_SpriteRow=null;this.jm_SpriteColumn=null;this._A3xaHtmItemInfo=function()
{this.Set_ImageSprite(ji_sUrlImg,ji_sHtmId,ji_ItemId,ji_oSpriteInfo);};this.Set_ImageSprite=function(ji_sUrlImg,ji_sHtmId,ji_ItemId,ji_oSpriteInfo)
{if(!this._A3xaHtmItemInfo_Set_Image(ji_sUrlImg,ji_sHtmId,ji_ItemId))
return false;this.jm_oSpriteInfo=ji_oSpriteInfo;return this._InitSprite();}
this._InitSprite=function()
{if(!this.IsSprite())
return false;var jt_relcol=(this.Get_ItemId()%this.Get_SpriteInfo().iddivisor);var jt_block=A3xaMathFloor(this.Get_ItemId(),this.Get_SpriteInfo().iddivisor);var jt_col=jt_relcol;var jt_row=jt_block;if(jt_block>this.Get_SpriteInfo().rows)
{jt_row=((jt_block-1)%this.Get_SpriteInfo().rows)+1;jt_col=(A3xaMathFloor((jt_block-1),this.Get_SpriteInfo().rows)*this.Get_SpriteInfo().stepcols+jt_relcol);}
else
{}
this.jm_SpriteRow=jt_row;this.jm_SpriteColumn=jt_col;return true;};this.Set_ImageTransparent=function(ji_sUrlImg)
{this.jm_sUrlImgTransparent=(ji_sUrlImg||null);return true;};this.Get_UrlImageTransparent=function(){return this.jm_sUrlImgTransparent;};this.Get_SpriteInfo=function(){return this.jm_oSpriteInfo;};this.IsSprite=function()
{return this.Get_UrlImage()&&this.Get_ItemId()&&this.Get_SpriteInfo()&&this.Get_SpriteInfo().iddivisor;};this.Get_SpriteRow=function(){return this.jm_SpriteRow;};this.Get_SpriteColumn=function(){return this.jm_SpriteColumn;};this.Get_XHeight=function()
{var jr_h=this.Get_Height();if(jr_h)
return jr_h;return A3xaMathFloor(this.Get_SpriteInfo().height,this.Get_SpriteInfo().rows);};this.Get_XWidth=function()
{var jr_w=this.Get_Width();if(jr_w)
return jr_w;return A3xaMathFloor(this.Get_SpriteInfo().width,this.Get_SpriteInfo().cols);};this.Get_XDim=function(){return{w:this.Get_XWidth(),h:this.Get_XHeight()};};this.Get_XSpriteDim=function(ji_oxcelldim)
{if(!ji_oxcelldim)
ji_oxcelldim=this.Get_XDim();return{celldim:ji_oxcelldim,spw:ji_oxcelldim.w*this.Get_SpriteInfo().cols,sph:ji_oxcelldim.h*this.Get_SpriteInfo().rows};};this.Get_XPos=function(ji_rowOffset,ji_colOffset,ji_oxcelldim)
{var jt_row=this.Get_SpriteRow();var jt_col=this.Get_SpriteColumn();if(!(jt_row>0&&jt_col>0))
return null;if(ji_rowOffset>0)
jt_row+=ji_rowOffset;if(ji_colOffset>0)
jt_col+=ji_colOffset;if(!ji_oxcelldim)
ji_oxcelldim=this.Get_XDim();if(!(ji_oxcelldim.h&&ji_oxcelldim.w))
return null;return{celldim:ji_oxcelldim,x:(1-jt_col)*ji_oxcelldim.w,y:(1-jt_row)*ji_oxcelldim.h};};this.Get_XPos_String=function(ji_rowOffset,ji_colOffset,ji_oxcelldim)
{var jt_oxpos=this.Get_XPos(ji_rowOffset,ji_colOffset,ji_oxcelldim);if(!jt_oxpos)
return"";return jt_oxpos.x+"px "+jt_oxpos.y+"px";}
this.Get_StyleArray=function(ji_rowOffset,ji_colOffset)
{var jr_oCSS={};if(this.IsSprite())
{var jt_oxpos=this.Get_XPos(ji_rowOffset,ji_colOffset);if(!jt_oxpos)
return null;var jt_oxspdim=this.Get_XSpriteDim(jt_oxpos.celldim);jr_oCSS={"background-image":"url(\""+this.Get_UrlImage()+"\")","background-position":jt_oxpos.x+"px "+jt_oxpos.y+"px","background-repeat":this.jm_bRepeatH?"repeat-y":(this.jm_bRepeatW?"repeat-x":"no-repeat"),"background-size":jt_oxspdim.spw+"px "+jt_oxspdim.sph+"px"};return jr_oCSS;}
if(this.jm_bShadow)
jr_oCSS={"box-shadow":"1px 1px 0px #404040"};else
jr_oCSS=null;return jr_oCSS;};this.Get_StyleString=function(ji_rowOffset,ji_colOffset)
{var jr_s="";if(this.IsSprite())
{var jt_oxpos=this.Get_XPos(ji_rowOffset,ji_colOffset);if(!jt_oxpos)
return null;var jt_oxspdim=this.Get_XSpriteDim(jt_oxpos.celldim);jr_s=" background-image: url(\""+this.Get_UrlImage()+"\"); "+" background-position: "+jt_oxpos.x+"px "+jt_oxpos.y+"px; "+" background-repeat: "+
(this.jm_bRepeatH?"repeat-y; ":(this.jm_bRepeatW?"repeat-x; ":"no-repeat; "))+" background-size: "+jt_oxspdim.spw+"px "+jt_oxspdim.sph+"px; ";return jr_s;}
jr_s=(this.jm_bShadow?" box-shadow: 1px 1px 0px #404040; ":"");return jr_s;};this._A3xaHtmItemInfo();}"use strict";function A3pButtonStatus()
{this.dis=true;this.off=false;this.on=false;this.mover=false;this.mclick=false;}
function A3xaSimpleButton3(ji_o3xhIconInfo)
{var jt_this=this;this.jm_o3xhIconInfo=ji_o3xhIconInfo;this.jm_fnOnClick=null;this.jm_bMagnificPopup=false;this.jm_bTipPopup=false;this.jm_oPopupPluginInfo=null;this.jm_o3pbtnStatus=null;this.Get_HtmIconInfo=function(){return this.jm_o3xhIconInfo;};this.IsValid=function()
{return this.jm_o3xhIconInfo&&(this.jm_o3xhIconInfo.Get_UrlImage()||this.jm_o3xhIconInfo.Get_Title());};this.Set_Status=function(ji_o3pbtnStatus)
{this.jm_o3pbtnStatus=(ji_o3pbtnStatus||null);return true;};this.Set_EventClick=function(ji_fn){this.jm_fnOnClick=(ji_fn||null);return true;};this.Set_Options2=function(ji_bTipPopup,ji_oPopupPluginInfo)
{if(ji_bTipPopup==true)
this.jm_bTipPopup=true;if(ji_oPopupPluginInfo)
this.jm_oPopupPluginInfo=ji_oPopupPluginInfo;return true;};this.BtnStatus2Offsets=function(ji_o3pbtnStatus)
{if(!ji_o3pbtnStatus)
return{};if(ji_o3pbtnStatus.dis)
return(ji_o3pbtnStatus.on?{row:3}:{});if(ji_o3pbtnStatus.off)
{if(ji_o3pbtnStatus.mclick)
return{row:2,col:2};if(ji_o3pbtnStatus.mover)
return{col:2};return{row:2};}
if(ji_o3pbtnStatus.on)
{if(ji_o3pbtnStatus.mclick)
return{row:4,col:2};if(ji_o3pbtnStatus.mover)
return{row:3,col:2};return{row:4};}
return{};};this.Get_Html=function()
{if(!this.IsValid())
return"";var jt_sHtmIdSuffix=this.jm_o3xhIconInfo.Get_HtmId();var jt_ooffsets=this.BtnStatus2Offsets(this.jm_o3pbtnStatus);var jt_shStyle=this.jm_o3xhIconInfo.Get_StyleString((jt_ooffsets&&jt_ooffsets.row)?jt_ooffsets.row-1:null,(jt_ooffsets&&jt_ooffsets.col)?jt_ooffsets.col-1:null);if(jt_shStyle)
jt_shStyle=" style='"+jt_shStyle+"' ";var jr_shImg="";if(!this.jm_o3xhIconInfo.Get_UrlImage())
{if(!this.jm_o3xhIconInfo.HasShadow())
jr_shImg=this.jm_o3xhIconInfo.Get_Alt();else
jr_shImg="<span style='color: #8080F0; text-shadow: 1px 1px 0px #000000;'>"+"<strong>"+this.jm_o3xhIconInfo.Get_Alt()+"</strong></span>";}
else
{if(this.jm_o3xhIconInfo.IsSprite())
{if(this.jm_o3xhIconInfo.Get_SpriteRow()>0&&this.jm_o3xhIconInfo.Get_SpriteColumn()>0)
{jr_shImg="<img src='"+this.jm_o3xhIconInfo.Get_UrlImageTransparent()+"' "+" width='"+this.jm_o3xhIconInfo.Get_Width()+"' "+" height='"+this.jm_o3xhIconInfo.Get_Height()+"' "+" alt='"+this.jm_o3xhIconInfo.Get_Alt()+"' "+" title='"+this.jm_o3xhIconInfo.Get_Title()+"' "+
jt_shStyle+"/>";}}
else
{jr_shImg="<img src='"+this.jm_o3xhIconInfo.Get_UrlImage()+"' "+" border='0' "+" width='"+this.jm_o3xhIconInfo.Get_Width()+"' "+" height='"+this.jm_o3xhIconInfo.Get_Height()+"' "+" alt='"+this.jm_o3xhIconInfo.Get_Alt()+"' "+" title='"+this.jm_o3xhIconInfo.Get_Title()+"' "+
jt_shStyle+"/>";}}
var jt_sul=this.jm_o3xhIconInfo.Get_UrlLink();var jt_oPopupPluginInfo=this.jm_oPopupPluginInfo;var jr_sh="";if(this.jm_oPopupPluginInfo)
{this.jm_bMagnificPopup=true;if(this.jm_bMagnificPopup&&(jt_oPopupPluginInfo.mediatype=="youtube"||jt_oPopupPluginInfo.mediatype=="vimeo"||jt_oPopupPluginInfo.mediatype=="gmap"))
{var jt_shmfpbUrl=jt_sul;jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"<p>":"");jr_sh+="<a id='mfpa_"+jt_sHtmIdSuffix+"'"+" href='"+jt_shmfpbUrl+"'"+" title='"+this.jm_o3xhIconInfo.Get_Title()+"'"+" target='_blank'>"+jr_shImg+"</a>";jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"</p>":"");}
else if(this.jm_bMagnificPopup&&(jt_oPopupPluginInfo.mediatype=="flickrset"))
{var jt_shmfpbUrl=jt_sul;jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"<p>":"");jr_sh+="<a id='mfpa_"+jt_sHtmIdSuffix+"'"+" href='"+jt_shmfpbUrl+"'"+" title='"+this.jm_o3xhIconInfo.Get_Title()+"'"+" target='_blank'>"+jr_shImg+"</a>";jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"</p>":"");jr_sh+="<div id='mfpc_"+jt_sHtmIdSuffix+"'"+" class='white-popup mfp-hide'>"+"</div>";}
else
{jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"<p>":"");jr_sh+="<a id='"+jt_sHtmIdSuffix+"' "+" href='#spu_"+this.jm_o3xhIconInfo.Get_HtmId()+"'"+" title='"+this.jm_o3xhIconInfo.Get_Title()+"'>"+jr_shImg+"</a>";jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"</p>":"");jr_sh+="<div style='display: none;'><div id='spu_"+
this.jm_o3xhIconInfo.Get_HtmId()+"' class='spu_content'>";jr_sh+="</div></div>";}
return jr_sh;}
if(this.jm_bTipPopup&&!jt_sul)
{this.jm_bMagnificPopup=true;if(this.jm_bMagnificPopup)
{jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"<p>":"");jr_sh+="<a id='mfpa_"+jt_sHtmIdSuffix+"'"+" href='#mfpc_"+jt_sHtmIdSuffix+"'"+" data-effect='mfp-3d-unfold'>"+jr_shImg+"</a>"+"<div id='mfpc_"+jt_sHtmIdSuffix+"'"+" class='white-popup mfp-with-anim mfp-hide'>"+
this.jm_o3xhIconInfo.Get_Title()+"</div>";jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"</p>":"");}
else
{jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"<p>":"");jr_sh+="<a href='javascript: alert(&quot;"+this.jm_o3xhIconInfo.Get_Title()+"&quot;);'"+" title='"+this.jm_o3xhIconInfo.Get_Title()+"'>"+jr_shImg+"</a>";jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"</p>":"");}
return jr_sh;}
if(!jt_sul)
{jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"<p>":"");jr_sh+=jr_shImg;jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"</p>":"");return jr_sh;}
jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"<p>":"");jr_sh+="<a"+(jt_sHtmIdSuffix?" id='sba_"+jt_sHtmIdSuffix+"'":"");jr_sh+=" href='"+this.jm_o3xhIconInfo.Get_UrlLink()+"' "+" title='"+this.jm_o3xhIconInfo.Get_Title()+"'"+
(this.jm_o3xhIconInfo.IsTargetNew()?" target='_blank'":"")+">"+
jr_shImg+"</a>";jr_sh+=(this.jm_o3xhIconInfo.HasParagraph()?"</p>":"");return jr_sh;};this.PrintHtml=function(qi_oParent,ji_bPrepend)
{if(!(qi_oParent&&qi_oParent.length))
return false;var jt_sHtmIdSuffix=this.jm_o3xhIconInfo.Get_HtmId();var jt_sh=this.Get_Html();if(!(jt_sh&&jt_sh.length))
return false;if(ji_bPrepend)
qi_oParent.prepend(jt_sh);else
qi_oParent.append(jt_sh);var jt_oPopupPluginInfo=this.jm_oPopupPluginInfo;if(!this.jm_bMagnificPopup&&jt_oPopupPluginInfo)
{var qt_spuId="#spu_"+jt_sHtmIdSuffix;jQuery("#"+jt_sHtmIdSuffix).fancybox({"titlePosition":"inside","transitionIn":"elastic","transitionOut":"elastic","hideOnOverlayClick":false,"hideOnContentClick":false,"showCloseButton":true,"autoDimensions":true,"titleShow":true,"centerOnScroll":true,"onStart":function()
{var qt_ospu=jQuery(qt_spuId);var qt_ospuContent=qt_ospu.children().eq(0);var jt_contents="";if(!(qt_ospuContent&&qt_ospuContent.length))
{if(jt_oPopupPluginInfo.info&&jt_oPopupPluginInfo.info.length)
{if(jt_oPopupPluginInfo.mediatype=="youtube")
{jt_contents="<iframe width='"+(jt_oPopupPluginInfo.width||40)+"' height='"+(jt_oPopupPluginInfo.height||40)+"' src='http://www.youtube.com/embed/"+jt_oPopupPluginInfo.info
+"' frameborder='0' allowfullscreen></iframe>";}
else if(jt_oPopupPluginInfo.mediatype=="vimeo")
{jt_contents="<iframe src='http://player.vimeo.com/video/"+
jt_oPopupPluginInfo.info+"' width='"+(jt_oPopupPluginInfo.width||40)+"' height='"+(jt_oPopupPluginInfo.height||40)+"' frameborder='0'"+" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>";}}
qt_ospu.append(jt_contents);qt_ospuContent=qt_ospu.children().eq(0);}
if(qt_ospuContent&&qt_ospuContent.length&&jt_oPopupPluginInfo.fnAlt)
{var jt_oPopupPluginInfoDyn=jt_oPopupPluginInfo.fnAlt();if(jt_oPopupPluginInfoDyn.width>10&&jt_oPopupPluginInfoDyn.height>10)
{qt_ospuContent.width(jt_oPopupPluginInfoDyn.width);qt_ospuContent.height(jt_oPopupPluginInfoDyn.height);}}}});}
else if(this.jm_bMagnificPopup&&jt_oPopupPluginInfo&&(jt_oPopupPluginInfo.mediatype=="youtube"||jt_oPopupPluginInfo.mediatype=="vimeo"||jt_oPopupPluginInfo.mediatype=="gmap"))
{var jt_shmfpc="";if(jt_oPopupPluginInfo.mediatype=="youtube")
{jt_shmfpc="<div class='white-popup'>"+"<iframe id='mfpi_"+jt_sHtmIdSuffix+"'"+" width='"+(jt_oPopupPluginInfo.width||40)+"'"+" height='"+(jt_oPopupPluginInfo.height||40)+"'"+" src='"+jg_oe.jc_oUrls.jc_surlEmbedVideoYoutube+jt_oPopupPluginInfo.info+"'"+" frameborder='0' allowfullscreen>"+"</iframe></div>";}
else if(jt_oPopupPluginInfo.mediatype=="vimeo")
{jt_shmfpc="<div class='white-popup'>"+"<iframe id='mfpi_"+jt_sHtmIdSuffix+"'"+" width='"+(jt_oPopupPluginInfo.width||40)+"'"+" height='"+(jt_oPopupPluginInfo.height||40)+"'"+" src='"+jg_oe.jc_oUrls.jc_surlEmbedVideoVimeo+jt_oPopupPluginInfo.info+"'"+" frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen>"+"</iframe></div>";}
else if(jt_oPopupPluginInfo.mediatype=="gmap")
{jt_shmfpc="<div class='white-popup'>"+"<iframe id='mfpi_"+jt_sHtmIdSuffix+"'"+" width='"+(jt_oPopupPluginInfo.width||40)+"'"+" height='"+(jt_oPopupPluginInfo.height||40)+"'"+" src='"+jg_oe.jc_oUrls.jc_surlGoogleMap+jt_oPopupPluginInfo.info+"&output=embed'"+" frameborder='0' allowFullScreen>"+"</iframe></div>";}
var qt_omfpbtn=$("#mfpa_"+jt_sHtmIdSuffix);qt_omfpbtn.magnificPopup({items:{src:jt_shmfpc,type:"inline"},callbacks:{open:function()
{var qt_omfpiframe=$("#mfpi_"+jt_sHtmIdSuffix);var jt_oPopupPluginInfoDyn=jt_oPopupPluginInfo;if(jt_oPopupPluginInfo.fnAlt)
jt_oPopupPluginInfoDyn=jt_oPopupPluginInfo.fnAlt();if(qt_omfpiframe&&qt_omfpiframe.length)
{qt_omfpiframe.width(jt_oPopupPluginInfoDyn.width);qt_omfpiframe.height(jt_oPopupPluginInfoDyn.height);}}},closeBtnInside:true});}
else if(this.jm_bMagnificPopup&&jt_oPopupPluginInfo&&(jt_oPopupPluginInfo.mediatype=="flickrset"))
{var qt_omfpbtn=$("#mfpa_"+jt_sHtmIdSuffix);var qt_omfp_flickrset=$("#mfpc_"+jt_sHtmIdSuffix);var jt_flickrdata={};qt_omfpbtn.on("click",function()
{if(qt_omfp_flickrset&&qt_omfp_flickrset.children().length>0)
{qt_omfp_flickrset.children().first().trigger("click");return false;}
jQuery("body").css("cursor","wait");var jt_surlJsonAjax=jg_oe.jc_oUrls.Get_UrlAjaxFlickrset_Avenidaazul(jt_oPopupPluginInfo.info);$.getJSON(jt_surlJsonAjax).done(function(ji_flickrdata)
{jt_flickrdata=ji_flickrdata;$.each(jt_flickrdata.photoset.photo,function(ji_index,ji_photo)
{var jt_sUrlImg=jg_oe.jc_oUrls.Get_UrlAjaxFlickrset_PhotoInfo(ji_photo,"c");qt_omfp_flickrset.append("<a fpsid='"+ji_index+"'"+" title='"+ji_photo.title+"'"+" href='"+jt_sUrlImg+"'></a>");});qt_omfp_flickrset.children().first().trigger("click");}).fail(function(ji_state)
{alert("Fail to get flickrset:"+jt_oPopupPluginInfo.info+","+jt_this.jm_o3xhIconInfo.Get_Title());}).always(function(ji_state)
{jQuery("body").css("cursor","auto");});return false;});qt_omfp_flickrset.magnificPopup({delegate:"a",type:"image",tLoading:'Loading image #%curr%...',mainClass:"mfp-with-zoom",gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(item)
{var jt_fpsid=item.el.attr("fpsid");var jt_photo=jt_flickrdata.photoset.photo[jt_fpsid];var jt_flink=jg_oe.jc_oUrls.Get_UrlAjaxFlickrset_Photo(jt_flickrdata.photoset,jt_photo);var jt_fstitle=jt_flickrdata.photoset.title;return"<a href='"+jt_flink+"' target='_blank'>"+
item.el.attr("title")+"</a>"+"<small>"+jt_fstitle+"</small>";}}});return true;}
else if(this.jm_bMagnificPopup)
{var qt_omfpbtn=$("#mfpa_"+jt_sHtmIdSuffix);qt_omfpbtn.magnificPopup({type:"inline",removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect");}},midClick:true});}
else if(!this.jm_bMagnificPopup&&!jt_oPopupPluginInfo)
{var qt_osimplebtn=$("#sba_"+jt_sHtmIdSuffix);if(qt_osimplebtn&&qt_osimplebtn.length)
{if(this.jm_fnOnClick)
qt_osimplebtn.on("click",this.jm_fnOnClick);}}
return true;};}"use strict";function A3xaDDItem2(ji_sKey,ji_sValue,ji_asDescr)
{this.jm_TreeLevel=1;this.jm_bVisible=true;this.jm_bOnChange=true;this.jm_CountChildren=Number(0);this.jm_CountRestricted=Number(0);this.jm_Count=Number(0);this.jm_sKey=(ji_sKey||"");this.jm_sValue=(ji_sValue||"");this.jm_a3xsDescr=new A3xaString(ji_asDescr);this.jm_bHighlight=false;this.jm_aoddiChildren=null;this.Get_Children=function(){return this.jm_aoddiChildren;};this.Remove_Children=function(){this.jm_aoddiChildren=null;return true;};this.IsHighlight=function(){return this.jm_bHighlight;};this.IsRestricted=function()
{if(this.jm_CountRestricted>0)
return false;return true;};this.Get_CountChildren=function()
{return(this.jm_aoddiChildren?this.jm_aoddiChildren.Get_Count():0);};this.Add_Child=function(ji_oddi)
{if(!ji_oddi)
return false;ji_oddi.jm_TreeLevel=this.jm_TreeLevel+1;if(!this.jm_aoddiChildren)
this.jm_aoddiChildren=A3xa3Array().O();return this.jm_aoddiChildren.Add_Item(ji_oddi.Get_Key(),ji_oddi);};this.Get_Child=function(ji_key)
{if(!this.jm_aoddiChildren)
return null;return this.jm_aoddiChildren.Get_Item(ji_key);};this.Get_Child_ByIndex=function(ji_index)
{if(!this.jm_aoddiChildren)
return null;return this.jm_aoddiChildren.Get_Item_ByIndex(ji_index);};this.Get_ChildKey=function(ji_index)
{if(!this.jm_aoddiChildren)
return null;return this.jm_aoddiChildren.Get_Key(ji_index);};this.Sort_Children=function(ji_fnCompare,ji_bAllTreeRecursion)
{if(!this.jm_aoddiChildren)
return false;this.jm_aoddiChildren.Sort(ji_fnCompare);if(ji_bAllTreeRecursion)
{var jt_count=this.jm_aoddiChildren.Get_Count();for(var k=0;k<jt_count;k++)
this.jm_aoddiChildren.Get_Item_ByIndex(k).Sort_Children(ji_fnCompare,ji_bAllTreeRecursion);}
return true;};this.IsEmpty=function()
{if(this.Get_Key())
return false;return true;};this.IncrementCounters=function(ji_bRestricted)
{this.jm_Count+=Number(1);if(ji_bRestricted)
this.jm_CountRestricted+=Number(1);return true;};this.Set_Counters=function(ji_Count,ji_CountRestricted)
{this.jm_Count=Number(ji_Count||0);this.jm_CountRestricted=Number(ji_CountRestricted||0);return true;};this.Get_Count=function(ji_bRestricted)
{if(!ji_bRestricted)
return Number(this.jm_Count);return Number(this.jm_CountRestricted);};this.Set_Key=function(ji_s)
{this.jm_sKey=(ji_s||"");return true;};this.Get_Key=function()
{return this.jm_sKey;};this.Get_Value=function(){return this.jm_sValue||"";};this.Set_Value=function(ji_s)
{this.jm_sValue=(ji_s||"");return true;};this.ValueMatch=function(ji_s)
{if(!ji_s)
return!this.jm_sValue;return this.jm_sValue==ji_s;};this.Set_ADescr=function(ji_as){return this.Get_3xsDescr().Set_AString(ji_as);};this.Get_LDescr=function(){return this.Get_3xsDescr().Get_LString();};this.Set_3xsDescr=function(ji_o3xs)
{this.jm_a3xsDescr=(ji_o3xs||new A3xaString());return true;};this.Get_3xsDescr=function(){return this.jm_a3xsDescr;};this.Set_DDValue=function(ji_sDD)
{if(!ji_sDD)
return false;var jt_aDD=ji_sDD.split("_;_");if(!(jt_aDD&&jt_aDD.length>=3))
return false;var jt_aDDParams=jt_aDD[0].split(",");if(!(jt_aDDParams&&jt_aDDParams.length>=4))
return false;if(!(jt_aDDParams[0]>0))
return false;this.jm_TreeLevel=jt_aDDParams[0];this.jm_bVisible=(jt_aDDParams[1]=="V");this.jm_bOnChange=(jt_aDDParams[2]=="E");this.jm_CountChildren=jt_aDDParams[3];this.jm_CountRestricted=jt_aDDParams[4];this.jm_Count=jt_aDDParams[5];this.Set_Key(jt_aDD[1]);this.Set_Value(jt_aDD[2]);return true;};this.Get_DDValue=function()
{var jr_s=this.jm_TreeLevel+","+
(this.jm_bVisible?"V":"")+","+
(this.jm_bOnChange?"E":"")+","+
this.Get_CountChildren()+","+
this.Get_Count(true)+","+this.Get_Count(false)+"_;_"+
(this.Get_Key()||"")+"_;_"+(this.Get_Value()||"");return jr_s;};this.Get_DDDescr=function(ji_bShowCount)
{var jt_CR=this.Get_Count(true);var jt_CC=this.Get_Count(false);var jr_s="";if(!(ji_bShowCount===false))
{jr_s+=(jt_CR>=0?jt_CR:"")+(jt_CC>=0?" ("+jt_CC+") ":"");}
if(this.jm_TreeLevel==1)
jr_s+=this.Get_LDescr().toUpperCase();else if(this.jm_TreeLevel==2)
jr_s+="---- "+this.Get_LDescr().toUpperCase()+" ----";else if(this.jm_TreeLevel>=3)
jr_s=".  "+jr_s+this.Get_LDescr();return jr_s;};this.FindDDItem=function(ji_oddi)
{if(!ji_oddi)
return null;if(ji_oddi.jm_TreeLevel==this.jm_TreeLevel)
{if(ji_oddi.Get_Key()==this.Get_Key())
return this;return null;}
if(ji_oddi.jm_TreeLevel>this.jm_TreeLevel)
{var jt_countChildren=this.Get_CountChildren();if(!(jt_countChildren>0))
return null;for(var i=0;i<jt_countChildren;i++)
{var jt_oddiChild=this.Get_Child_ByIndex(i);var jr_oddiFound=(jt_oddiChild?jt_oddiChild.FindDDItem(ji_oddi):null);if(jr_oddiFound)
return jr_oddiFound;}}
return null;};}
function A3xaDDItem(ji_sKey,ji_sValue,ji_sDescr)
{A3xaDDItem2.call(this,ji_sKey,ji_sValue,[ji_sDescr,ji_sDescr,ji_sDescr,ji_sDescr]);this.Set_Descr=function(ji_s){return this.Set_ADescr([ji_s,ji_s,ji_s,ji_s]);};this.Get_Descr=function(){return this.Get_LDescr();};}
function A3xaDDItem_Iterator(ji_oddi)
{this.jm_oddi=ji_oddi;this.jm_IndexChild=-1;this.jm_oddiitCurrent=null;this.IsEnd=function()
{if(this.jm_IndexChild<0)
return false;if(this.jm_IndexChild<this.jm_oddi.Get_CountChildren())
return false;return true;};this.Get_DDItem=function()
{if(this.jm_IndexChild<0)
return this.jm_oddi;if(!this.jm_oddiitCurrent)
return null;return this.jm_oddiitCurrent.Get_DDItem();};this.Next=function()
{if(this.IsEnd())
return false;if(this.jm_IndexChild<0)
this.jm_IndexChild=0;else
{if(this.jm_oddiitCurrent&&this.jm_oddiitCurrent.Next())
return true;this.jm_IndexChild++;}
this.jm_oddiitCurrent=null;if(this.jm_IndexChild>=this.jm_oddi.Get_CountChildren())
return false;var jt_oddiChild=this.jm_oddi.Get_Child_ByIndex(this.jm_IndexChild);jg_oe.CanLogInfo()&&jg_oe.LogInfo("Child.dddescr: "+
(jt_oddiChild?jt_oddiChild.Get_DDDescr():"null")+" at:"+this.jm_IndexChild,"","A3xaDDItem_Iterator.Next");this.jm_oddiitCurrent=new A3xaDDItem_Iterator(jt_oddiChild);return true;};}
function A3xaDDSelectBox(ji_oddiRoot,ji_sName,ji_asLabel)
{var jt_this=this;this.jm_oddiRoot=(ji_oddiRoot||null);this.jm_sName=(ji_sName||"");this.jm_o3xsLabel=new A3xaString(ji_asLabel);this.jm_sKeySelected=null;this.jm_sKeyGroupFocus=null;this.jm_bVisibleGroupFocus=false;this.jm_bShowCount=true;this.jm_bGrayRestricted=true;this.jm_bHighlight=true;jg_oe.CanLogInfo()&&jg_oe.LogInfo("Label="+this.jm_o3xsLabel.Get_LString(),"","A3xaDDSelectBox");this.jm_aColors=[[["808080","808080"],["808080","808080"]],[["FFFFFF","B0B0B0"],["000000","202020"]],[["FFFFFF","C0C0C0"],["000000","202020"]],[["FFFFFF","E0E0E0"],["000000","404040"]]];this.Set_ColorsBGHL=function(ji_aRGB)
{if(!ji_aRGB)
return false;for(var i=0;i<ji_aRGB.length;i++)
this.jm_aColors[i+1][0][0]=ji_aRGB[i];return true;}
this.Get_Color=function(ji_TreeLevel,ji_Type,ji_bFont)
{if(!ji_TreeLevel)
ji_TreeLevel=0;if(ji_TreeLevel>3)
ji_TreeLevel=3;if(!(ji_Type>=0&&ji_Type<=1))
ji_Type=0;return this.jm_aColors[ji_TreeLevel][ji_bFont?1:0][ji_Type];};this.NewDDItem=function(){return new A3xaDDItem();};this.Get_DDItemUpdated=function(ji_oddiReference)
{if(!ji_oddiReference)
return null;if(!this.jm_oddiRoot)
return null;var jt_LevelReference=ji_oddiReference.jm_TreeLevel;var jt_KeyReference=ji_oddiReference.Get_Key();var jt_oddiit=new A3xaDDItem_Iterator(this.jm_oddiRoot);while(!jt_oddiit.IsEnd())
{var jt_oddiUpd=jt_oddiit.Get_DDItem();if(jt_oddiUpd&&jt_oddiUpd.jm_TreeLevel==jt_LevelReference&&jt_oddiUpd.Get_Key()==jt_KeyReference)
return jt_oddiUpd;jt_oddiit.Next();}
return null;};this.Add_ChildAndHtml=function(ji_oddiParent,ji_oddiChild,ji_bNoHtml)
{if(!ji_oddiChild)
return false;if(!ji_oddiChild.jm_bVisible)
return false;if(!ji_oddiParent)
return false;if(!this.jm_oddiRoot)
return false;if(!this.jm_sName)
return false;ji_oddiParent.Add_Child(ji_oddiChild);if(ji_bNoHtml)
return true;var qt_odd=jQuery("#"+this.jm_sName);if(!(qt_odd&&qt_odd.length))
return false;var jt_selected="";if(!this.jm_sKeySelected||this.jm_sKeySelected==ji_oddiChild.Get_Key())
jt_selected=" selected='selected'";var jt_style="background-color:#"+this.Get_Color(ji_oddiChild.jm_TreeLevel,0,false)+";";var jt_shDDItem="<option value='"+ji_oddiChild.Get_DDValue()+"'"+jt_selected+" style='"+jt_style+"'>"+
ji_oddiChild.Get_DDDescr(this.jm_bShowCount)+"</option>";qt_odd.append(jt_shDDItem);return true;};this.PrintHtml=function(qi_oParent)
{if(!(qi_oParent&&qi_oParent.length))
return false;if(!this.jm_oddiRoot)
return false;if(!this.jm_sName)
return false;var jt_oddiit=new A3xaDDItem_Iterator(this.jm_oddiRoot);var jt_shDD="<div class='ccms_form_element cfdiv_select label_over'"+" id='"+this.jm_sName+"1_container_div' style=''>"+"<label>"+this.jm_o3xsLabel.Get_LString()+"</label>"+"<select size='1' class='' title=''"+" id='"+this.jm_sName+"' name='"+this.jm_sName+"'"+" style='width:180px;'>";var jt_selected=" selected='selected'";var jt_bSelected=false;var jt_style="background-color:#"+this.ColorHLRoot+";";var jt_idebug=0;while(!jt_oddiit.IsEnd())
{++jt_idebug;var jt_oddi=jt_oddiit.Get_DDItem();if(jt_oddi.jm_bVisible)
{if(jt_selected&&(!this.jm_sKeySelected||this.jm_sKeySelected==jt_oddi.Get_Key()))
jt_bSelected=true;jg_oe.CanLogInfo()&&jg_oe.LogInfo("Sel,Y/N,Selkey==key: "+jt_selected+","+(jt_bSelected?"Y":"N")+","+(this.jm_sKeySelected||"")+"=="+(jt_oddi?jt_oddi.Get_Key():"null"),"","A3xaDDSelectBox.PrintHtml");jg_oe.CanLogInfo()&&jg_oe.LogInfo("dddescr: "+(jt_oddi?jt_oddi.Get_DDDescr():"null")+" at:"+jt_idebug,"","A3xaDDSelectBox.PrintHtml");jt_style="background-color:#"+this.Get_Color(jt_oddi.jm_TreeLevel,0,false)+";";jt_shDD+="<option value='"+jt_oddi.Get_DDValue()+"'"+(jt_bSelected?jt_selected:"")+" style='"+jt_style+"'>"+
jt_oddi.Get_DDDescr(this.jm_bShowCount)+"</option>";if(jt_bSelected)
{jt_bSelected=false;jt_selected="";}}
jt_oddiit.Next();}
jt_shDD+="</select><div class='clear'></div>"+"<div id='error-message-"+this.jm_sName+"'></div></div>";qi_oParent.append(jt_shDD);var qt_odd=jQuery("#"+this.jm_sName);if(qt_odd&&qt_odd.length)
{qt_odd.change(function(){return jt_this.A3xaDDSelectBox_OnChange(qt_odd);});}
return true;};this.A3xaDDSelectBox_OnChange=function(qi_oddbox)
{var jt_oddi=null;var jt_eddbox=qi_oddbox.get(0);if(!jt_eddbox)
return true;jt_oddi=this.NewDDItem();var jt_selIndex=jt_eddbox.selectedIndex;var jt_selValue=jt_eddbox.options[jt_selIndex].value;jt_oddi.Set_DDValue(jt_selValue);if(!jt_oddi.jm_bOnChange)
return true;return this.OnChange(jt_eddbox,jt_oddi);};this.OnChange=function(ji_eddbox,ji_oddi){return true;};this.ClearAllOptions=function(ji_bClearData)
{if(!this.jm_oddiRoot)
return false;if(!this.jm_sName)
return false;var qt_aoptions=jQuery("#"+this.jm_sName+" option");if(!(qt_aoptions&&qt_aoptions.length))
return false;qt_aoptions.each(function()
{var jt_oddiToRemove=jt_this.NewDDItem();jt_oddiToRemove.Set_DDValue(this.value);if(jt_oddiToRemove.jm_TreeLevel>=2)
jQuery(this).remove();});if(ji_bClearData!==false&&this.jm_oddiRoot)
this.jm_oddiRoot.Remove_Children();return true;};this.Refresh=function()
{if(!this.jm_oddiRoot)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx-1","","A3xaDDSelectBox.Refresh");return false;}
if(!this.jm_sName)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx-2","","A3xaDDSelectBox.Refresh");return false;}
var jt_oddiit=new A3xaDDItem_Iterator(this.jm_oddiRoot);jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx1","","A3xaDDSelectBox.Refresh");var jt_this=this;var jt_bVisibleCurrentGroupFocus=true;if(this.jm_bVisibleGroupFocus)
jt_bVisibleCurrentGroupFocus=false;if(this.jm_bVisibleGroupFocus)
{jQuery("#"+this.jm_sName+" option").each(function()
{var jt_oddiOld=new A3xaDDItem();jt_oddiOld.Set_DDValue(this.value);if(jt_oddiOld.jm_TreeLevel>=3)
jQuery(this).remove();});jQuery("#"+this.jm_sName+" option").each(function()
{var jt_oddiOld=new A3xaDDItem();jt_oddiOld.Set_DDValue(this.value);if(jt_oddiOld.jm_TreeLevel==2)
{if(jt_oddiOld.Get_Key()==jt_this.jm_sKeyGroupFocus)
{var jt_oddiGroup=jt_this.jm_oddiRoot.Get_Child(jt_this.jm_sKeyGroupFocus);var jt_CountChildren=jt_oddiGroup.Get_CountChildren();for(var i=jt_CountChildren-1;i>=0;i--)
{var jt_oddiChild=jt_oddiGroup.Get_Child_ByIndex(i);jg_oe.CanLogInfo()&&jg_oe.LogInfo("+Focus items:"+jt_oddiChild.Get_DDValue()+";;;"+
jt_oddiChild.Get_DDDescr(),"","A3xaDDSelectBox.Refresh");jQuery(this).after(jQuery("<option></option>").val(jt_oddiChild.Get_DDValue()).text(jt_oddiChild.Get_DDDescr()).prop("selected",jt_this.jm_sKeySelected&&jt_this.jm_sKeySelected==jt_oddiChild.Get_Key()));}}}});}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx2","","A3xaDDSelectBox.Refresh");jQuery("#"+this.jm_sName+" option").each(function()
{var jt_value=this.value;var jt_text=this.text;jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx3","","A3xaDDSelectBox.Refresh");if(!jt_oddiit.IsEnd())
{var jt_oddiNew=null;var jt_bVisible=false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx4","","A3xaDDSelectBox.Refresh");while(!jt_bVisible)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx5","","A3xaDDSelectBox.Refresh");jt_oddiNew=jt_oddiit.Get_DDItem();jt_bVisible=jt_oddiNew.jm_bVisible;if(jt_bVisible&&jt_this.jm_bVisibleGroupFocus)
{if(jt_oddiNew.jm_TreeLevel==2)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("GroupFocus key:"+jt_oddiNew.Get_Key()+"=="+
jt_this.jm_sKeyGroupFocus,"","A3xaDDSelectBox.Refresh");if(!jt_bVisibleCurrentGroupFocus)
{if(jt_oddiNew.Get_Key()==jt_this.jm_sKeyGroupFocus)
jt_bVisibleCurrentGroupFocus=true;}
else
{if(jt_oddiNew.Get_Key()!=jt_this.jm_sKeyGroupFocus)
jt_bVisibleCurrentGroupFocus=false;}}
else if(jt_oddiNew.jm_TreeLevel>=3)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Hide-Show key:"+jt_oddiNew.Get_Key()+":"+
(jt_bVisibleCurrentGroupFocus?"Show":"Hide"),"","A3xaDDSelectBox.Refresh");jt_bVisible=jt_bVisibleCurrentGroupFocus;}}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx6","","A3xaDDSelectBox.Refresh");if(!jt_bVisible)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx7","","A3xaDDSelectBox.Refresh");jt_oddiit.Next();if(jt_oddiit.IsEnd())
return true;}}
var jt_oddiOld=new A3xaDDItem();jt_oddiOld.Set_DDValue(this.value);if(jt_oddiNew)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("itemnew:l,k,dv,dd"+
jt_oddiNew.jm_TreeLevel+","+jt_oddiNew.Get_Key()+","+
jt_oddiNew.Get_DDValue()+","+jt_oddiNew.Get_DDDescr(),"","A3xaDDSelectBox.Refresh");jg_oe.CanLogInfo()&&jg_oe.LogInfo("itemold:l,k,dv,dd"+
jt_oddiOld.jm_TreeLevel+","+jt_oddiOld.Get_Key()+","+
jt_oddiOld.Get_DDValue()+","+jt_oddiOld.Get_DDDescr(),"","A3xaDDSelectBox.Refresh");var jt_boddiNewOK=false;if(jt_oddiNew&&jt_oddiNew.jm_TreeLevel==jt_oddiOld.jm_TreeLevel&&jt_oddiNew.Get_Key()==jt_oddiOld.Get_Key())
{jt_boddiNewOK=true;}
else
{jt_oddiNew=jt_this.jm_oddiRoot.FindDDItem(jt_oddiOld);if(jt_oddiNew)
jt_boddiNewOK=true;}
if(jt_boddiNewOK)
{var jt_ValueNew=jt_oddiNew.Get_DDValue();var jt_DescrNew=jt_oddiNew.Get_DDDescr(jt_this.jm_bShowCount);this.value=jt_ValueNew;this.text=jt_DescrNew;var qt_oItem=jQuery(this);var jt_sFontWeight="";if(jt_this.jm_bHighlight&&jt_oddiNew.IsHighlight())
jt_sFontWeight="bold";else
jt_sFontWeight="normal";if(jt_this.jm_bGrayRestricted&&jt_oddiNew.IsRestricted())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx8-Gray: "+jt_DescrNew,"","A3xaDDSelectBox.Refresh");qt_oItem.css({"background-color":"#"+jt_this.Get_Color(jt_oddiNew.jm_TreeLevel,1,false),"font-style":"italic","font-weight":jt_sFontWeight,"color":"#"+jt_this.Get_Color(jt_oddiNew.jm_TreeLevel,1,true)});if(jt_oddiNew.jm_TreeLevel==1)
{}}
else
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx8-HL: "+jt_DescrNew,"","A3xaDDSelectBox.Refresh");qt_oItem.css({"background-color":"#"+jt_this.Get_Color(jt_oddiNew.jm_TreeLevel,0,false),"font-style":"normal","font-weight":jt_sFontWeight,"color":"#"+jt_this.Get_Color(jt_oddiNew.jm_TreeLevel,0,true)});}
qt_oItem.prop("selected",jt_this.jm_sKeySelected&&jt_this.jm_sKeySelected==jt_oddiNew.Get_Key());}
jt_oddiit.Next();}});jg_oe.CanLogInfo()&&jg_oe.LogInfo("pxx9","","A3xaDDSelectBox.Refresh");return true;};}"use strict";function A3xa2IHtmBox()
{var jr_I={setInline:function(ji_b){return false;},isInline:function(){return false;},setLabelPos:function(ji_pos){return false;},getLabelPos:function(){return""},setSizeChars:function(ji_sizech,ji_maxch,ji_rows){return false;},getSizeChars:function(){return 0;},getRows:function(){return 0;},getMaxChars:function(){return 0;},setWidth:function(ji_px){return false;},getWidth:function(){return 0;},setText:function(ji_Text,ji_HintText){return false;},getText:function(){return"";},getInitText:function(){return"";},getHintText:function(){return"";},setName:function(ji_Name){return false;},getName:function(){return"";},getHtmIdBody:function(){return"";},getHtmIdFrame:function(){return"";},setLabel:function(ji_Label){return false;},getLabel:function(){return"";},setType:function(ji_Type){return false;},getType:function(){return"";},setEventChange:function(ji_fn){return false;},getEventChange:function(){return null;},getQBody:function(){return null;},printHtml:function(qi_oParent){return false;},updateHtml:function(){return false;}};return jr_I;}
function A3xa2HtmBox()
{var jr_o={jm_bInline:true,jm_LabelPos:"O",jm_SizeChars:0,jm_MaxChars:0,jm_Rows:1,jm_Width:0,jm_Text:"",jm_HintText:"",jm_Name:"",jm_Label:"",jm_Type:"",jm_fnevh:null,hb:A3xa2IHtmBox()};jr_o.hb.setInline=function(ji_b){jr_o.jm_bInline=(ji_b||false);return true;};jr_o.hb.isInline=function(){return jr_o.jm_bInline;};jr_o.hb.setLabelPos=function(ji_pos){jr_o.jm_LabelPos=(ji_pos||"O");return true;};jr_o.hb.getLabelPos=function(){return jr_o.jm_LabelPos};jr_o.hb.setSizeChars=function(ji_sizech,ji_maxch,ji_Rows)
{jr_o.jm_SizeChars=ji_sizech;jr_o.jm_MaxChars=ji_maxch;jr_o.jm_Rows=(ji_Rows>0?ji_Rows:1);return true;};jr_o.hb.getSizeChars=function(){return jr_o.jm_SizeChars;};jr_o.hb.getMaxChars=function(){return jr_o.jm_MaxChars;};jr_o.hb.getRows=function(){return(jr_o.jm_Rows||1);};jr_o.hb.setWidth=function(ji_px){jr_o.jm_Width=ji_px;return true;};jr_o.hb.getWidth=function(){return jr_o.jm_Width;};jr_o.hb.setText=function(ji_Text,ji_HintText)
{jr_o.jm_Text=ji_Text;jr_o.jm_HintText=ji_HintText;return true;};jr_o.hb.getText=function(){return jr_o.jm_Text;};jr_o.hb.getInitText=function(){return jr_o.jm_Text;};jr_o.hb.getHintText=function(){return jr_o.jm_HintText;};jr_o.hb.setName=function(ji_s){jr_o.jm_Name=ji_s;return true;};jr_o.hb.getName=function(){return jr_o.jm_Name;};jr_o.hb.getHtmIdBody=function(){return(jr_o.hb.getName()?"he_"+jr_o.hb.getName():"");};jr_o.hb.getHtmIdFrame=function(){return(jr_o.hb.getName()?"hb_"+jr_o.hb.getName():"");};jr_o.hb.setLabel=function(ji_s){jr_o.jm_Label=ji_s;return true;};jr_o.hb.getLabel=function(){return jr_o.jm_Label;};jr_o.hb.setType=function(ji_Type){jr_o.jm_Type=(ji_Type||"text");return true;};jr_o.hb.getType=function(){return jr_o.jm_Type;};jr_o.hb.setEventChange=function(ji_fn){jr_o.jm_fnevh=(ji_fn||null);return true;};jr_o.hb.getEventChange=function(){return jr_o.jm_fnevh;};jr_o.hb.getQBody=function()
{var qr_hbody=(jr_o.hb.getHtmIdBody()?jQuery("#"+jr_o.hb.getHtmIdBody()):null);return((qr_hbody&&qr_hbody.length)?qr_hbody:null);};jr_o.hb.printHtml=function(qi_oParent)
{if(!(qi_oParent&&qi_oParent.length))
return false;var jt_sh=jr_o._getHtml();if(!(jt_sh&&jt_sh.length))
return false;var qt_hbox=jQuery(jt_sh);if(!(qt_hbox&&qt_hbox.length))
return false;qt_hbox.appendTo(qi_oParent);if(jr_o.hb.getEventChange())
{var qt_hbody=jr_o.hb.getQBody();if(qt_hbody&&qt_hbody.length)
qt_hbody.on("change",jr_o.hb.getEventChange());}
return true;};jr_o._getHtmlHeader=function()
{var jr_sh="";if(!jr_o.hb.getName())
return jr_sh;jr_sh="<div id='"+jr_o.hb.getHtmIdFrame()+"'"+
(jr_o.hb.isInline()?" style='display:inline-block'":"")+">";if(jr_o.hb.getLabel())
{jr_sh+="<label for='"+jr_o.hb.getHtmIdBody()+"'>"+jr_o.hb.getLabel()+"</label>";if(jr_o.hb.getLabelPos()=="O")
jr_sh+="<br/>";}
return jr_sh;};jr_o._getHtmlFooter=function()
{var jr_sh="";if(!jr_o.hb.getName())
return jr_sh;if(jr_o.hb.getHintText())
{jr_sh+="<div><i>"+jr_o.hb.getHintText()+"</i></div>";}
jr_sh+="</div>";return jr_sh;};jr_o._getHtmlBody=function(){return"";};jr_o._getHtml=function(){return jr_o._getHtmlHeader()+jr_o._getHtmlBody()+jr_o._getHtmlFooter();};return jr_o;}"use strict";function A3xa2IHtmEditBox()
{var jr_I={};return jr_I;}
function A3xa2HtmEditBox()
{var jr_o=A3xa2HtmBox();jr_o._getHtmlBody=function()
{var jr_sh="";if(!jr_o.hb.getName())
return jr_sh;var jt_hbtype="text";if(jr_o.hb.getRows()>1)
{if(!jr_o.hb.getType()||jr_o.hb.getType()=="text")
jt_hbtype="textarea";}
if(jt_hbtype=="text")
jr_sh="<input type='text'";else if(jt_hbtype=="textarea")
jr_sh="<textarea rows='"+jr_o.hb.getRows()+"' cols='"+jr_o.hb.getSizeChars()+"'";jr_sh+=" maxlength='"+jr_o.hb.getMaxChars()+"'"+" size='"+jr_o.hb.getSizeChars()+"'"+" title='' "+" value='"+jr_o.hb.getInitText()+"'"+" name='"+jr_o.hb.getHtmIdBody()+"'"+" id='"+jr_o.hb.getHtmIdBody()+"'"+" />";return jr_sh;};jr_o.hb.getText=function()
{var qt_o=jr_o.hb.getQBody();if(qt_o&&qt_o.length)
return qt_o.val();return jr_o.jm_Text;};jr_o.hb.updateHtml=function()
{var qt_o=jr_o.hb.getQBody();if(!qt_o)
return false;qt_o.val(jr_o.hb.getInitText());return true;}
jr_o.hb.setSizeChars(11,11);return jr_o;}"use strict";function A3xa2IHtmSelectBox()
{var jr_I={setEmptyDescr:function(ji_s){return false;},getEmptyDescr:function(){return"";},setSelectedItem:function(ji_key){return false;},getSelectedItem:function(ji_bxtd){return null;},setFilter:function(ji_Filter){return false;},getFilter:function(){return null;},addItems:function(ji_IArray_Items){return jr_I.setDataSource(ji_IArray_Items);},setDataSource:function(ji_IArray_Items){return false;},getDataSource:function(ji_type){return null;}};return jr_I;}
function A3xa2HtmSelectBox()
{var jr_o=A3xa2HtmBox();jr_o.jm_sEmptyDescr="";jr_o.jm_selectedKey="";jr_o.jm_IArray_Items=null;jr_o.hs=A3xa2IHtmSelectBox();jr_o.hs.setEmptyDescr=function(ji_s){if(ji_s==null)ji_s="-";jr_o.jm_sEmptyDescr=ji_s;return true;};jr_o.hs.getEmptyDescr=function(){return jr_o.jm_sEmptyDescr;};jr_o.hs.setSelectedItem=function(ji_key){jr_o.jm_selectedKey=ji_key;return true;};jr_o.hs.getSelectedItem=function(ji_bxtd)
{var qt_ohBody=jr_o.hb.getQBody();if(qt_ohBody)
jr_o.jm_selectedKey=qt_ohBody.val();return jr_o.jm_selectedKey;};jr_o.hs.setDataSource=function(ji_IArray_Items){jr_o.jm_IArray_Items=ji_IArray_Items;return true;};jr_o.hs.getDataSource=function(ji_type){return jr_o.jm_IArray_Items;}
jr_o._getHtmlBody=function()
{var jr_sh="";if(!jr_o.hb.getName())
return jr_sh;var jt_bSelectedNone=true;if(jr_o.jm_selectedKey&&jr_o.jm_IArray_Items&&jr_o.jm_IArray_Items.getItem(jr_o.jm_selectedKey))
jt_bSelectedNone=false;jr_sh="<select size='1'"+" name='"+jr_o.hb.getHtmIdBody()+"'"+" id='"+jr_o.hb.getHtmIdBody()+"'"+" title=''"+" style='"+((jr_o.hb.getWidth()>0)?"width:"+jr_o.hb.getWidth()+"px;":"")+"'"+">";jr_sh+=(jr_o._getHtmlItems()||"");jr_sh+="</select>";return jr_sh;};jr_o._getHtmlItems=function()
{var jr_sh="";if(!jr_o.hb.getName())
return jr_sh;var jt_bSelectedNone=true;if(jr_o.jm_selectedKey&&jr_o.jm_IArray_Items&&jr_o.jm_IArray_Items.getItem(jr_o.jm_selectedKey))
jt_bSelectedNone=false;if(jr_o.hs.getEmptyDescr())
jr_sh+="<option value=''"+(jt_bSelectedNone?" selected='selected'":"")+">"+
jr_o.hs.getEmptyDescr()+"</option>";if(jr_o.jm_IArray_Items)
{var jt_nof=jr_o.jm_IArray_Items.getCount();for(var i=0;i<jt_nof;i++)
{var jt_key=jr_o.jm_IArray_Items.getKey(i);if(!jt_key)
continue;var jt_descr=jr_o.jm_IArray_Items.getItem(jt_key);var jt_bSelected=(jr_o.jm_selectedKey&&jr_o.jm_selectedKey==jt_key);jr_sh+="<option value='"+jt_key+"'"+
(jt_bSelected?" selected='selected'":"")+">"+
jt_descr+"</option>";}}
return jr_sh;};jr_o.hb._hsparent_setEventChange=jr_o.hb.setEventChange;jr_o.hb.setEventChange=function(ji_fn)
{return jr_o.hb._hsparent_setEventChange(function()
{return(ji_fn?ji_fn(jr_o.hs.getSelectedItem()):true);});};jr_o.hb.updateHtml=function()
{var qt_ohBody=jr_o.hb.getQBody();if(!qt_ohBody)
return false;qt_ohBody.empty();var jt_shItems=(jr_o._getHtmlItems()||"");if(jt_shItems)
qt_ohBody.append(jt_shItems);return true;}
return jr_o;}"use strict";function A3xaTaskManager(ji_fnOnChange)
{this.jm_oDTStatus=new GLDataStatus();this.jm_oDTStatus.jm_Status=A3xa2DefineDtSts().jc_DTStatus2_StReady;this.jm_oDTStatus.jm_fnOnChange=(ji_fnOnChange||null);this.jm_Semaph=0;this.jm_oTaskTimer=null;var jt_this=this;this._OnStart=function(){return true;};this._CheckStatus=function(){return null;};this._OnEnd=function(ji_oDTStatusEnd){return ji_oDTStatusEnd;};this.Reset=function()
{this.jm_oDTStatus.jm_Status=A3xa2DefineDtSts().jc_DTStatus2_StReady;return this._OnReset();};this._OnReset=function(){return true;};this.Start=function(ji_Operation,ji_Target)
{if(!this.IsReady())
return false;if(ji_Operation)
this.jm_oDTStatus.jm_Operation=ji_Operation;if(ji_Target)
this.jm_oDTStatus.jm_Target=ji_Target;this.jm_oDTStatus.jm_Status=A3xa2DefineDtSts().jc_DTStatus2_StOpen;this.jm_oTaskTimer=setTimeout(function()
{jt_this.jm_oTaskTimer=null;var jr_b=jt_this._OnStart();jt_this.Task();return jr_b;},10);};this.Release=function()
{this.jm_oDTStatus.jm_fnOnChange=null;jg_oe.CanLogInfo()&&jg_oe.LogInfo("","","A3xaTaskManager.Release");return this._OnRelease();};this._OnRelease=function(){return true;};this.Task=function()
{if(jt_this.jm_Semaph>0)
{if(jt_this.jm_oDTStatus.IsDone())
return true;if(jt_this.jm_Semaph>=2)
return true;jt_this.jm_Semaph++;return true;}
else
jt_this.jm_Semaph++;while(jt_this.jm_Semaph>0)
{var jt_oDTStatusNext=jt_this._CheckStatus();if(jt_oDTStatusNext&&jt_oDTStatusNext.IsDone())
{var jt_oDTStatus=jt_this._OnEnd(jt_oDTStatusNext);jt_this.jm_oDTStatus.SetFrom(jt_oDTStatus);this.Release();jt_this.jm_Semaph--;return true;}
jt_this.jm_Semaph--;}
return true;};this.IsReady=function(){return this.jm_oDTStatus.IsReady();};this.IsInProgress=function(){return this.jm_oDTStatus.IsInProgress();};this.IsOpening=function(){return this.jm_oDTStatus.IsOpen();};this.IsDone=function(){return this.jm_oDTStatus.IsDone();};this.IsFail=function(){return this.jm_oDTStatus.IsFail();};this.IsSuccess=function(){return this.jm_oDTStatus.IsSuccess();};this.IsEmpty=function(){return this.jm_oDTStatus.IsEmpty();};this.Get_Target=function(){return this.jm_oDTStatus.jm_Target;};this.Get_Operation=function(){return this.jm_oDTStatus.jm_Operation;};this.Get_Status=function(){return this.jm_oDTStatus.jm_Status;};}"use strict";function A3xaEntityButton2(ji_Name,ji_Rows,ji_Row,ji_Col,ji_oListener)
{this.jm_oBtnON=null;this.jm_oBtnOFF=null;this.jm_oBtnDIS=null;this.jm_Tag="a3xabutton";this.jm_Name=ji_Name;this.jm_Rows=ji_Rows;this.jm_Row=ji_Row;this.jm_Col=ji_Col;this.jm_oListener=ji_oListener;this.jm_o3xhIconInfo=null;this.jm_sSrcBase="";this.jm_o3xsTitleDIS=new A3xaString();this.jm_o3xsTitleOFF=new A3xaString();this.jm_o3xsTitleON=new A3xaString();this.jm_sAlt="";this.jm_sfnOnClick="";this.jm_ColTarget="";this.jm_StatusInit="OFF";this.jm_width=24;this.jm_height=24;this.jm_bParagraph=false;this.jm_bMaster=false;this.jm_bHeader=false;this.jm_bAjax=false;this.jm_oTimerFlash=null;this.jm_FlashFR_pending=null;this.jm_FlashFG_pending=null;this.jm_bShowUP_pending=false;this.jm_bShowUP_running=false;this._A3xaEntityButton2=function()
{if(!this.jm_Name)
return;if(!(this.jm_Row>0))
return;if(!(this.jm_Col>0))
return;var jt_Id="CellBtn_"+this.jm_Name+"_"+this.jm_Row+"_"+this.jm_Col;this.jm_oBtnOFF=new A3xaHtmlItem2(jt_Id+"_OFF");if(this.jm_oBtnOFF==null)
return;this.jm_oBtnON=new A3xaHtmlItem2(jt_Id+"_ON");this.jm_oBtnDIS=new A3xaHtmlItem2(jt_Id+"_DIS");};this.IsValid=function(){return!(this.jm_oBtnOFF==null);};this.Get_Name=function(){return this.jm_Name;};this.Get_Part=function(ji_part)
{if(!this.IsValid())
return null;if(ji_part=="OFF")
return this.jm_oBtnOFF;else if(ji_part=="ON")
return this.jm_oBtnON;else if(ji_part=="DIS")
return this.jm_oBtnDIS;return null;};this.PartIsVisible=function(ji_part)
{var jt_oPart=this.Get_Part(ji_part);if(jt_oPart==null)
return false;return jt_oPart.IsVisible();};this.ShowPart=function(ji_part,ji_bShow)
{var jt_oPart=this.Get_Part(ji_part);if(jt_oPart==null)
return false;return jt_oPart.Show(ji_bShow);};this.Get_Status=function()
{if(!this.IsValid())
return"";if(this.PartIsVisible("ON"))
return"ON";if(this.PartIsVisible("OFF"))
return"OFF";if(this.PartIsVisible("DIS"))
return"DIS";return"HID";};this.AsyncChangeStatus=function(ji_NewStatus)
{if(this.jm_oListener==null)
return false;if(!this.jm_oListener.AsyncChangeStatus(this.jm_Name,ji_NewStatus))
{return false;}
return true;};this.OnClick=function(){return this.Set_Status("INV",true);};this.IsFlashing=function(){return this.jm_oTimerFlash!=null;};this.IsMaster=function(){return this.jm_bMaster;};this.IsHeader=function(){return this.jm_bHeader;};this.IsAsync=function(){return this.jm_bAjax;};this.Set_Properties=function(ji_bParagraph)
{if(!(ji_bParagraph===null))
this.jm_bParagraph=(ji_bParagraph==true);return true;};this.AttachProperties=function(ji_bMaster,ji_bHeader,ji_bAjax)
{if(!(ji_bMaster===null))
this.jm_bMaster=(ji_bMaster==true);if(!(ji_bHeader===null))
this.jm_bHeader=(ji_bHeader==true);if(!(ji_bAjax===null))
this.jm_bAjax=(ji_bAjax==true);return true;};this.Set_SrcInfo4=function(ji_o3xhIconInfo,ji_asTitle,ji_sAlt,ji_sfnOnClick,ji_ColTarget,ji_sAjaxUrlParams,ji_StatusInit)
{return this.Set_SrcInfo5(ji_o3xhIconInfo,ji_asTitle,ji_asTitle,ji_asTitle,ji_sAlt,ji_sfnOnClick,ji_ColTarget,ji_sAjaxUrlParams,ji_StatusInit);};this.Set_SrcInfo5=function(ji_o3xhIconInfo,ji_asTitleDIS,ji_asTitleOFF,ji_asTitleON,ji_sAlt,ji_sfnOnClick,ji_ColTarget,ji_sAjaxUrlParams,ji_StatusInit)
{this.jm_o3xhIconInfo=ji_o3xhIconInfo;this.jm_o3xsTitleDIS=new A3xaString(ji_asTitleDIS);this.jm_o3xsTitleOFF=new A3xaString(ji_asTitleOFF);this.jm_o3xsTitleON=new A3xaString(ji_asTitleON);this.jm_sAlt=ji_sAlt;this.jm_sfnOnClick=ji_sfnOnClick;this.jm_ColTarget=ji_ColTarget;this.jm_sAjaxUrlParams=ji_sAjaxUrlParams;if(ji_StatusInit)
this.jm_StatusInit=ji_StatusInit;return true;};this.IsSprite=function()
{return this.jm_o3xhIconInfo&&this.jm_o3xhIconInfo.IsSprite();};this.Get_Html=function()
{if(!(this.IsSprite()&&this.jm_o3xhIconInfo.Get_SpriteRow()>0&&this.jm_o3xhIconInfo.Get_SpriteColumn()>0))
return"";var jt_Id="CellBtn_"+this.Get_Name()+"_"+this.jm_Row+"_"+this.jm_Col;var jt_sHtmlOFF_visibility="visibility:hidden; position:absolute;";var jt_sHtmlON_visibility="visibility:hidden; position:absolute;";var jt_sHtmlDIS_visibility="visibility:hidden; position:absolute;";if((!this.jm_StatusInit)||this.jm_StatusInit=="OFF")
jt_sHtmlOFF_visibility="";else if(this.jm_StatusInit=="ON")
jt_sHtmlON_visibility="";else if(this.jm_StatusInit=="DIS")
jt_sHtmlDIS_visibility="";else if(this.jm_StatusInit=="HID");else;var jt_sfnOnClick_Full="";if(this.jm_sfnOnClick)
jt_sfnOnClick_Full=this.jm_sfnOnClick+"(&quot;"+this.Get_Name()+"&quot;,&quot;"+
this.jm_Rows+"&quot;,&quot;"+
this.jm_Row+"&quot;,&quot;"+this.jm_Col+"&quot;,&quot;"+
this.jm_ColTarget+"&quot;,&quot;"+
this.jm_sAjaxUrlParams+"&quot;);";var jt_shON="";var jt_shOFF="";var jt_shDIS="";var jt_shStyleON=this.jm_o3xhIconInfo.Get_StyleString(jg_oe.jc_oIcons.jc_oIconMS_Status.on-1,null);if(jt_shStyleON)
jt_shStyleON+=" "+jt_sHtmlON_visibility;var jt_shStyleOFF=this.jm_o3xhIconInfo.Get_StyleString(jg_oe.jc_oIcons.jc_oIconMS_Status.off-1,null);if(jt_shStyleOFF)
jt_shStyleOFF+=" "+jt_sHtmlOFF_visibility;var jt_shStyleDIS=this.jm_o3xhIconInfo.Get_StyleString(jg_oe.jc_oIcons.jc_oIconMS_Status.offdis-1,null);if(jt_shStyleDIS)
jt_shStyleDIS+=" "+jt_sHtmlDIS_visibility;var jt_sAttrCommon=" src='"+(this.jm_o3xhIconInfo.Get_UrlImageTransparent()||"")+"' "+" width='"+this.jm_o3xhIconInfo.Get_Width()+"' "+" height='"+this.jm_o3xhIconInfo.Get_Height()+"' "+" border='0' alt='"+this.jm_sAlt+"' "+" onclick = '"+jt_sfnOnClick_Full+"' ";jt_shON="<img id='"+jt_Id+"_ON'"+" name='"+jt_Id+"_ON'"+" style='"+jt_shStyleON+"' "+jt_sAttrCommon+" title='"+this.jm_o3xsTitleON.Get_LString()+"' "+"/>";jt_shOFF="<img id='"+jt_Id+"_OFF'"+" name='"+jt_Id+"_OFF'"+" style='"+jt_shStyleOFF+"' "+jt_sAttrCommon+" title='"+this.jm_o3xsTitleOFF.Get_LString()+"' "+"/>";jt_shDIS="<img id='"+jt_Id+"_DIS'"+" name='"+jt_Id+"_DIS'"+" style='"+jt_shStyleDIS+"' "+jt_sAttrCommon+" title='"+this.jm_o3xsTitleDIS.Get_LString()+"' "+"/>";var jr_h=(this.jm_bParagraph?"<p>":"")+
jt_shOFF+jt_shON+jt_shDIS+
(this.jm_bParagraph?"</p>":"");return jr_h;};this.PrintHtml=function(qi_oParent)
{if(!(qi_oParent&&qi_oParent.length))
return false;var jt_sh=this.Get_Html();if(!(jt_sh&&jt_sh.length))
return false;qi_oParent.append(jt_sh);if(this.IsSprite())
{var jt_sxposOFF=this.jm_o3xhIconInfo.Get_XPos_String(jg_oe.jc_oIcons.jc_oIconMS_Status.off-1);var jt_sxposOFFOVER=this.jm_o3xhIconInfo.Get_XPos_String(jg_oe.jc_oIcons.jc_oIconMS_StatusXtra.offover-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.xtra-1);var jt_sxposOFFCLICK=this.jm_o3xhIconInfo.Get_XPos_String(jg_oe.jc_oIcons.jc_oIconMS_StatusXtra.offclick-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.xtra-1);var jt_IdOFF="#CellBtn_"+this.Get_Name()+"_"+this.jm_Row+"_"+this.jm_Col+"_OFF";var qr_ohOFF=jQuery(jt_IdOFF);if(qr_ohOFF&&qr_ohOFF.length)
{jt_sxposOFF&&qr_ohOFF.mouseout(function()
{jQuery(this).css({"background-position":jt_sxposOFF,"cursor":"default"});});jt_sxposOFFCLICK&&qr_ohOFF.mousedown(function()
{jQuery(this).css({"background-position":jt_sxposOFFCLICK})});jt_sxposOFFOVER&&qr_ohOFF.mouseover(function()
{jQuery(this).css({"background-position":jt_sxposOFFOVER,"cursor":"pointer"});});}
var jt_sxposON=this.jm_o3xhIconInfo.Get_XPos_String(jg_oe.jc_oIcons.jc_oIconMS_Status.on-1);var jt_sxposONOVER=this.jm_o3xhIconInfo.Get_XPos_String(jg_oe.jc_oIcons.jc_oIconMS_StatusXtra.onover-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.xtra-1);var jt_sxposONCLICK=this.jm_o3xhIconInfo.Get_XPos_String(jg_oe.jc_oIcons.jc_oIconMS_StatusXtra.onclick-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.xtra-1);var jt_IdON="#CellBtn_"+this.Get_Name()+"_"+this.jm_Row+"_"+this.jm_Col+"_ON";var qr_ohON=jQuery(jt_IdON);if(qr_ohON&&qr_ohON.length)
{jt_sxposON&&qr_ohON.mouseout(function()
{jQuery(this).css({"background-position":jt_sxposON,"cursor":"default"});});jt_sxposONCLICK&&qr_ohON.mousedown(function()
{jQuery(this).css({"background-position":jt_sxposONCLICK})});jt_sxposONOVER&&qr_ohON.mouseover(function()
{jQuery(this).css({"background-position":jt_sxposONOVER,"cursor":"pointer"});});}}
return true;};this.Flash=function(ji_FlashType)
{var jt_this=this;var jt_Tag=this.jm_Tag;if(this.IsFlashing()||this.jm_bShowUP_running)
{if(ji_FlashType=="FR"||ji_FlashType=="FY")
this.jm_FlashFR_pending=ji_FlashType;else if(ji_FlashType=="FG"||ji_FlashType=="FB")
this.jm_FlashFG_pending=ji_FlashType;else
return false;return true;}
if(ji_FlashType=="FR"||ji_FlashType=="FY");else if(ji_FlashType=="FG"||ji_FlashType=="FB");else if(ji_FlashType==""||ji_FlashType==null)
{if(this.jm_FlashFR_pending)
{ji_FlashType=this.jm_FlashFR_pending;this.jm_FlashFR_pending=null;}
else if(this.jm_FlashFG_pending)
{ji_FlashType=this.jm_FlashFG_pending;this.jm_FlashFG_pending=null;}
else if(this.jm_bShowUP_pending)
{this.jm_bShowUP_pending=false;return this.Show("UP");}
else
return false;}
else
return false;var jt_oPartON=this.Get_Part("ON");var jt_oPartOFF=this.Get_Part("OFF");if(!this.IsSprite())
return false;var jt_oxposON=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.on-1);var jt_oxposOFF=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.off-1);var jt_oxposONFLASH=null;var jt_oxposOFFFLASH=null;if(ji_FlashType=="FY")
{jt_oxposOFFFLASH=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.offdis-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.fyfb-1);jt_oxposONFLASH=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.ondis-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.fyfb-1);}
if(ji_FlashType=="FB")
{jt_oxposOFFFLASH=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.off-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.fyfb-1);jt_oxposONFLASH=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.on-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.fyfb-1);}
else if(ji_FlashType=="FR")
{jt_oxposOFFFLASH=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.offdis-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.frfg-1);jt_oxposONFLASH=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.ondis-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.frfg-1);}
else if(ji_FlashType=="FG")
{jt_oxposOFFFLASH=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.off-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.frfg-1);jt_oxposONFLASH=this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.on-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.frfg-1);}
jt_oxposONFLASH&&jt_oPartON&&jt_oPartON.Set_BkgndPosition2(jt_oxposONFLASH);jt_oxposOFFFLASH&&jt_oPartOFF&&jt_oPartOFF.Set_BkgndPosition2(jt_oxposOFFFLASH);this.jm_oTimerFlash=setTimeout(function()
{if(jt_this.jm_Tag!="a3xabutton")
{return;}
jt_oxposON&&jt_oPartON&&jt_oPartON.Set_BkgndPosition2(jt_oxposON);jt_oxposOFF&&jt_oPartOFF&&jt_oPartOFF.Set_BkgndPosition2(jt_oxposOFF);jt_this.jm_oTimerFlash=null;jt_this.Flash("");return;},800);return true;};this.Show=function(ji_Status)
{if(!this.IsValid())
return false;var jt_oPartON=this.Get_Part("ON");var jt_oPartOFF=this.Get_Part("OFF");var jt_oPartDIS=this.Get_Part("DIS");if(ji_Status=="UP")
{this.jm_bShowUP_pending=false;if(this.IsSprite())
{if(this.IsFlashing())
{this.jm_bShowUP_running=false;this.jm_bShowUP_pending=true;return true;}
this.jm_bShowUP_running=true;jt_oPartOFF&&jt_oPartOFF.Set_BkgndPosition2(this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.off-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.dwup-1));jt_oPartON&&jt_oPartON.Set_BkgndPosition2(this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.on-1,jg_oe.jc_oIcons.jc_oIconMS_XStatus.dwup-1));}
return true;}
else
{this.jm_bShowUP_pending=false;this.jm_bShowUP_running=false;if(this.IsSprite())
{jt_oPartON&&jt_oPartON.Set_BkgndPosition2(this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.on-1));jt_oPartOFF&&jt_oPartOFF.Set_BkgndPosition2(this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.off-1));jt_oPartDIS&&jt_oPartDIS.Set_BkgndPosition2(this.jm_o3xhIconInfo.Get_XPos(jg_oe.jc_oIcons.jc_oIconMS_Status.offdis-1));}
this.Flash("");}
var jt_bON=false;var jt_bOFF=false;var jt_bDIS=false;if(ji_Status=="ON")
jt_bON=true;else if(ji_Status=="OFF")
jt_bOFF=true;else if(ji_Status=="DIS")
jt_bDIS=true;this.ShowPart("ON",jt_bON);this.ShowPart("OFF",jt_bOFF);this.ShowPart("DIS",jt_bDIS);return true;};this.Set_Status=function(ji_NewStatus,ji_bAsync,ji_bIgnoreDisabled)
{if(ji_NewStatus=="")
return false;var jt_btnStatus=this.Get_Status();if(jt_btnStatus!=""&&(ji_bIgnoreDisabled||(jt_btnStatus!="HID"&&jt_btnStatus!="DIS")))
{if(ji_NewStatus=="INV")
{ji_NewStatus="ON";if(jt_btnStatus=="ON")
ji_NewStatus="OFF";}
else if(ji_NewStatus=="KS")
{ji_NewStatus=jt_btnStatus;}
if(ji_bAsync&&this.IsAsync()&&this.AsyncChangeStatus(ji_NewStatus))
{this.Show("UP");return false;}
this.Show(ji_NewStatus);jt_btnStatus=this.Get_Status();}
if(this.jm_oListener!=null)
return this.jm_oListener.OnBtnChangeStatus(this.jm_Name,jt_btnStatus);return true;};this._A3xaEntityButton2();}
function A3xaEntityButtonSet2(ji_aNames,ji_Rows,ji_Row,ji_Col,ji_bMasterSlave,ji_bAjax,ji_bOnlyOneON)
{this.Get_Button=A3xaEntityButtonSet2_Get_Button;this.Show=A3xaEntityButtonSet2_Show;this.IsValid=A3xaEntityButtonSet2_IsValid;this.IsMaster=A3xaEntityButtonSet2_IsMaster;this.Get_ButtonStatus=A3xaEntityButtonSet2_Get_ButtonStatus;this.Set_ButtonStatus=A3xaEntityButtonSet2_Set_ButtonStatus;this.FlashButton=A3xaEntityButtonSet2_FlashButton;this.OnButtonClick=A3xaEntityButtonSet2_OnButtonClick;this.Set_SlavesButtonStatus=A3xaEntityButtonSet2_Set_SlavesButtonStatus;this.IsAjaxEnabled=A3xaEntityButtonSet2_IsAjaxEnabled;this.OnBtnChangeStatus=A3xaEntityButtonSet2_OnBtnChangeStatus;this.AsyncChangeStatus=A3xaEntityButtonSet2_AsyncChangeStatus;this.NewSlavePanel=A3xaEntityButtonSet2_NewSlavePanel;this.Get_AjaxUrlParams=A3xaEntityButtonSet2_Get_AjaxUrlParams;this.Set_AjaxUrlParams=A3xaEntityButtonSet2_Set_AjaxUrlParams;this.OnJQAjaxReadyFn=A3xaEntityButtonSet2_OnJQAjaxReadyFn;this.PrintHtml_Buttons=A3xaEntityButtonSet2_PrintHtml_Buttons;this.PrintHtml_HeaderButtons=A3xaEntityButtonSet2_PrintHtml_HeaderButtons;this.InitButtonsStatus=A3xaEntityButtonSet2_InitButtonsStatus;this.jm_aoButtons=null;this.jm_Rows=ji_Rows;this.jm_Row=ji_Row;this.jm_Col=ji_Col;this.jm_bMaster=false;this.jm_bAjax=ji_bAjax;this.jm_bOnlyOneON=(ji_bOnlyOneON==true);if(ji_aNames==null||ji_aNames.length<=0)
return;if(!(ji_Row>0&&ji_Col>0))
return;if(ji_bMasterSlave==true)
{if(ji_Row==1)
{var jt_RowElem=document.getElementById("Row_"+ji_Row);if(jt_RowElem==null)
{jt_RowElem=document.getElementById("RowS_"+ji_Row);if(jt_RowElem!=null)
this.jm_bMaster=true;}}}
this.jm_aoButtons=[];for(var i=0;i<ji_aNames.length;i++)
{var jt_n=ji_aNames[i];if(jt_n)
{var jt_o=new A3xaEntityButton2(jt_n,ji_Rows,ji_Row,ji_Col,this);this.jm_aoButtons[i]=jt_o;}}}
function A3xaEntityButtonSet2_IsAjaxEnabled(){return this.jm_bAjax;}
function A3xaEntityButtonSet2_IsValid(){return!(this.jm_aoButtons==null);}
function A3xaEntityButtonSet2_Get_Button(ji_Name)
{if(!this.IsValid())
return null;if(!ji_Name)
return null;for(var i=0;i<this.jm_aoButtons.length;i++)
{var jt_o=this.jm_aoButtons[i];var jt_n=jt_o.Get_Name();if(jt_n==ji_Name)
return jt_o;}
return null;}
function A3xaEntityButtonSet2_IsMaster()
{if(!this.IsValid())
return false;return this.jm_bMaster;}
function A3xaEntityButtonSet2_PrintHtml_Buttons(qi_oParent)
{if(!this.IsValid())
return false;var jr_b=true;for(var i=0;i<this.jm_aoButtons.length;i++)
{var jt_o=this.jm_aoButtons[i];if(!jt_o)
continue;if(jt_o.IsHeader())
continue;if(!jt_o.PrintHtml(qi_oParent))
jr_b=false;}
return jr_b;}
function A3xaEntityButtonSet2_PrintHtml_HeaderButtons(qi_oParent)
{if(!this.IsValid())
return false;var jr_b=true;for(var i=0;i<this.jm_aoButtons.length;i++)
{var jt_o=this.jm_aoButtons[i];if(!jt_o)
continue;if(!jt_o.IsHeader())
continue;if(!jt_o.PrintHtml(qi_oParent))
jr_b=false;}
return jr_b;}
function A3xaEntityButtonSet2_Show(ji_Status)
{if(!this.IsValid())
return false;if(ji_Status=="ON")
ji_Status="OFF";var jr_b=true;for(var i=0;i<this.jm_aoButtons.length;i++)
{if(!this.jm_aoButtons[i].Show(ji_Status))
jr_b=false;}
return jr_b;}
function A3xaEntityButtonSet2_Set_AjaxUrlParams(ji_ButtonName,ji_sAjaxUrlParams)
{return false;}
function A3xaEntityButtonSet2_Get_AjaxUrlParams(ji_ButtonName,ji_ButtonStatus)
{return"";}
function A3xaEntityButtonSet2_OnJQAjaxReadyFn(ji_oJQAjaxResponse,ji_o3xxeid)
{var jt_ButtonName=ji_oJQAjaxResponse.btnname;var jt_ButtonStatus=ji_oJQAjaxResponse.btnstatus;this.Set_ButtonStatus(jt_ButtonName,jt_ButtonStatus,false);return true;}
function A3xaEntityButtonSet2_AsyncChangeStatus(ji_Name,ji_NewStatus)
{var jt_this=this;jg_oe.CanLogInfo()&&jg_oe.LogInfo("name,status,ajax: "+
ji_Name+","+ji_NewStatus+","+(this.IsAjaxEnabled()?"Y":"N"),"","A3xaEntityButtonSet2_AsyncChangeStatus")
if(!this.IsAjaxEnabled())
return false;var jt_sAjaxUrlParams="";var jt_sAjaxUrlParams2=this.Get_AjaxUrlParams(ji_Name,ji_NewStatus);if(!jt_sAjaxUrlParams2||jt_sAjaxUrlParams2.indexOf("p3x")<0)
{var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_AjaxEntity,null,jg_oe.jc_oXUR.jc_sAjaxTypControlIcons,null,null,null,null,null);var jt_oUrl=jt_oxur.Get_A3xaUrl(true);jt_sAjaxUrlParams=jt_oUrl.Get_UrlParams();}
jt_sAjaxUrlParams+=(jt_sAjaxUrlParams2||"");var jt_oUrl=new A3xaUrl(jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",jt_sAjaxUrlParams);var jt_xurcc=jt_oUrl.Get_UrlParam("p3x");var jt_oxur=new A3xaXur();jt_oxur.Set_XURCC(jt_xurcc);var jt_TypRelation=jt_oUrl.Get_UrlParam("p_TypRelation");var jt_operation=jt_oUrl.Get_UrlParam("p_Op");var jt_rating=jt_oUrl.Get_UrlParam("p_Rating");$.ajax({method:"POST",timeout:10000,url:jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",data:{p3k:"1",p3x:jt_xurcc,p3n:JSON.stringify({mark:"J3",oppg:"app_controlicons",optyp:"exec",code:"",msg:"",btnname:ji_Name,btnstatus:ji_NewStatus,typrelation:jt_TypRelation,operation:jt_operation,rating:jt_rating},function(ji_k,ji_v)
{return ji_v;})},success:function(ji_response)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo(ji_response,"","A3xaEntityButtonSet2_AsyncChangeStatus.ajax.success");var jt_oResponse=JSON.parse(ji_response,function(ji_k,ji_v)
{return ji_v;});if(jt_oResponse&&jt_oResponse.mark=="J3"&&jt_oResponse.oppg=="app_controlicons")
{if(jt_oResponse.result=="success")
{jt_this.OnJQAjaxReadyFn(jt_oResponse,jt_oxur.Get_3xXEID());}}},error:function(ji_response)
{}});return true;}
function A3xaEntityButtonSet2_OnBtnChangeStatus(ji_name,ji_btnStatus)
{if(!this.IsValid())
return false;var jt_bMaster=false;for(var i=0;i<this.jm_aoButtons.length;i++)
{var jt_o=this.jm_aoButtons[i];if(!jt_o)
continue;var jt_n=jt_o.Get_Name();if(jt_n!=ji_name)
{var jt_s=jt_o.Get_Status();if(jt_s=="ON")
{if(this.jm_bOnlyOneON)
jt_o.Show("OFF");}}
else
jt_bMaster=jt_o.IsMaster();}
if(!(this.IsMaster()&&jt_bMaster))
return true;return this.Set_SlavesButtonStatus(ji_name,ji_btnStatus);}
function A3xaEntityButtonSet2_OnButtonClick(ji_Name)
{if(!this.IsValid())
return false;var jt_o=this.Get_Button(ji_Name);if(jt_o)
{return jt_o.OnClick();}
return false;}
function A3xaEntityButtonSet2_Set_ButtonStatus(ji_Name,ji_NewStatus,ji_bAsync)
{if(!this.IsValid())
return false;var jt_o=this.Get_Button(ji_Name);if(jt_o)
return jt_o.Set_Status(ji_NewStatus,ji_bAsync);return false;}
function A3xaEntityButtonSet2_Get_ButtonStatus(ji_Name)
{var jt_o=this.Get_Button(ji_Name);if(jt_o)
return jt_o.Get_Status();return"";}
function A3xaEntityButtonSet2_FlashButton(ji_Name,ji_FlashType)
{if(!this.IsValid())
return false;var jt_o=this.Get_Button(ji_Name);if(jt_o)
{return jt_o.Flash(ji_FlashType);}
return false;}
function A3xaEntityButtonSet2_Set_SlavesButtonStatus(ji_Name,ji_NewStatus)
{if(!this.IsValid())
return false;if(!this.IsMaster())
return false;var jr_b=true;for(var jt_Row=1;jt_Row<=500;jt_Row++)
{if(jt_Row==this.jm_Row)
continue;var jt_RowElem=document.getElementById("Row_"+jt_Row);if(jt_RowElem==null)
jt_RowElem=document.getElementById("RowS_"+jt_Row);if(jt_RowElem==null)
break;var jt_oSlavePanel=this.NewSlavePanel(null,this.jm_Rows,jt_Row,this.jm_Col);if(jt_oSlavePanel!=null&&(!jt_oSlavePanel.Set_ButtonStatus(ji_Name,ji_NewStatus,false)))
jr_b=false;}
return jr_b;}
function A3xaEntityButtonSet2_NewSlavePanel(ji_aNames,ji_Rows,ji_Row,ji_Col)
{return new A3xaEntityButtonSet2(ji_aNames,ji_Rows,ji_Row,ji_Col,false,false);}
function A3xaEntityButtonSet2_InitButtonsStatus(ji_Status)
{if(!this.IsValid())
return false;for(var i=0;i<this.jm_aoButtons.length;i++)
{var jt_o=this.jm_aoButtons[i];jt_o.Set_Status(ji_Status,false);}
return true;}"use strict";function A3xa3ITbid()
{var jr_I={I:function(){return null;},D:function(){return null;},check:function(){return false;},set:function(ji_glid,ji_tbtype){return false},make:function(ji_sPrefix,ji_sExtension,ji_slicech,ji_tbtype){return"";},makeByXEID:function(ji_o3xxeid,ji_slicech,ji_tbtype){return"";},default2GlidXEID:function(ji_o3xxeid){return"";},makeEnterprise:function(ji_sExtension,ji_slicech,ji_tbtype){return"";},makeEnterpriseGold:function(ji_sExtension,ji_tbtype){return"";},makeEnterpriseSilver:function(ji_sExtension,ji_tbtype){return"";},makeEnterpriseMajor:function(ji_sExtension,ji_tbtype){return"";},makeEnterpriseUnique:function(ji_sExtension,ji_tbtype){return"";},makeEnterpriseSubsidiary:function(ji_sExtension,ji_tbtype){return"";},makeByType:function(ji_glid,ji_tbtype){return"";},makeByTypEntity:function(ji_TypEntity,ji_tbtype){return"";},glid2TypEntity:function(){return"";},getSlicech:function(){return"";},isSliceGold:function(){return false;},isSliceSilver:function(){return false;},isSliceUnique:function(){return false;},isSliceMajor:function(){return false;},isSliceSubsidiary:function(){return false;},getPrefix:function(){return"";},getLeadch:function(){return"";},isEID:function(){return false;},isEBIS:function(){return false;},isEBID:function(){return false;},isEI:function(){return false;},getExtension:function(){return"";},replaceExtension:function(ji_sExtension){return"";},isDefault:function(){return false;},getDefault:function(){return"";},getLegacyDefault:function(){return"";},getLegacyGlid:function(){return"";},getDescrExtra:function(){return"";},isTOC:function(){return false;},isCommon:function(){return false;},isSummary:function(){return false;},isMetaSystemControl:function(){return false;},isCategory:function(){return false;},isGeoTopArea:function(){return false;},isGeoArea:function(){return false;},isGeoRegion:function(){return false;},isGeoCity:function(){return false;},isGeoCountry:function(){return false;},isGeoState:function(){return false;},isEnterprise:function(){return false;},getTbType:function(){return{tbtname:"",tbtkeyname:"",leadch:""};},getSDSTbType:function(){return{tbtname:"",tbtkeyname:"",leadch:""};},getGlid:function(){return"";}};return jr_I;}
function A3xa2DefineTbid()
{var jr_o={jc_xglid_mark:"Z3X",jc_MARKLEN:3,jc_tbslice_gold:"G",jc_tbslice_silver:"V",jc_tbslice_unique:"U",jc_tbslice_major:"M",jc_tbslice_subry:"S",jc_SLICELEN:4,jc_GLID_All:"ALLA3X0",jc_GLIDSUFFIXDEFAULT:"A3X0",jc_GLIDPREFIXLEN:3,jc_GLIDSUFFIXLEN:4,jc_GLIDLEN:7,jc_XGLIDLEN:11,jc_tbtype_eid:{tbtname:"t3x_eid",tbtkeyname:"TEID",leadch:"R",tbtdescr:"eid"},jc_tbtype_ebis:{tbtname:"t3x_ebis",tbtkeyname:"TEID",leadch:"P",tbtdescr:"ebis"},jc_tbtype_ebid:{tbtname:"t3x_ebid",tbtkeyname:"TEID",leadch:"N",tbtdescr:"ebid"},jc_tbtype_ei:{tbtname:"t3x_ei",tbtkeyname:"TEID",leadch:"F",tbtdescr:"ei"},jc_GLID_TOC:"TMTA3X0",jc_tbtype_tid:{tbtname:"t3x_tid",tbtkeyname:"TTID",leadch:"T"},jc_GGLID_MetaSystemControl:"MK",jc_GGLID_Category:"MB",jc_GGLID_GeoTopArea:"GA",jc_GGLID_GeoArea:"GG",jc_GGLID_GeoRegion:"GR",jc_GGLID_GeoMicroRegion:"GM",jc_GGLID_GeoCity:"GC",jc_GGLID_GeoCountry:"GP",jc_GGLID_GeoState:"GS",jc_GGLID_SummaryEnterprises:"SE",jc_GGLID_Enterprise:"EE",GLIDR:function(ji_GGLID,ji_slicech,ji_extension){return jr_o.GLID(ji_GGLID,ji_slicech,jr_o.jc_tbtype_eid.leadch,ji_extension);},GLIDP:function(ji_GGLID,ji_slicech,ji_extension){return jr_o.GLID(ji_GGLID,ji_slicech,jr_o.jc_tbtype_ebis.leadch,ji_extension);},GLIDN:function(ji_GGLID,ji_slicech,ji_extension){return jr_o.GLID(ji_GGLID,ji_slicech,jr_o.jc_tbtype_ebid.leadch,ji_extension);},GLIDF:function(ji_GGLID,ji_slicech,ji_extension){return jr_o.GLID(ji_GGLID,ji_slicech,jr_o.jc_tbtype_ei.leadch,ji_extension);},GLID:function(ji_GGLID,ji_slicech,ji_leadch,ji_extension)
{if(!ji_extension)
ji_extension=jr_o.jc_GLIDSUFFIXDEFAULT;if(!ji_leadch)
ji_leadch=jr_o.jc_tbtype_eid.leadch;var jr_glid=ji_leadch+ji_GGLID+ji_extension;if(ji_slicech)
jr_glid=jr_o.jc_xglid_mark+ji_slicech+jr_glid;return jr_glid;},GGLID:function(ji_GLID)
{if(!ji_GLID)
return"";if(ji_GLID.length==jr_o.jc_GLIDLEN)
return ji_GLID.substr(1,2);if(ji_glid.length==jr_o.jc_XGLIDLEN)
return ji_GLID.substr(jr_o.jc_SLICELEN+1,2);return"";}};A3xa2DefineTbid=function(){return jr_o;};return jr_o;}
function GLIDR(ji_GGLID,ji_slicech,ji_extension){return A3xa2DefineTbid().GLIDR(ji_GGLID,ji_slicech,ji_extension);};function GLIDP(ji_GGLID,ji_slicech,ji_extension){return A3xa2DefineTbid().GLIDP(ji_GGLID,ji_slicech,ji_extension);};function GLIDN(ji_GGLID,ji_slicech,ji_extension){return A3xa2DefineTbid().GLIDN(ji_GGLID,ji_slicech,ji_extension);};function GLIDF(ji_GGLID,ji_slicech,ji_extension){return A3xa2DefineTbid().GLIDF(ji_GGLID,ji_slicech,ji_extension);};function A3xa3Tbid(ji_glid,ji_tbtype)
{var jr_o={jm_glid:"",jm_tbtype:null,jc:A3xa2DefineTbid(),gd:A3xa3ITbid()};jr_o.gd.I=function(){return jr_o._IPool();};jr_o._IPool=function(){return{Itbid:jr_o.gd};};jr_o.gd.D=function(){return jr_o.jc;};jr_o.gd.check=function(){return jr_o._check(jr_o.jm_glid);};jr_o._check=function(ji_glid)
{if(!ji_glid)
return false;if(ji_glid.length==jr_o.jc.jc_GLIDLEN)
return true;if(ji_glid.length==jr_o.jc.jc_XGLIDLEN)
return jr_o._checkSlice(ji_glid,true);return false;};jr_o._checkSlice=function(ji_slice,ji_bSplit)
{if(!ji_slice)
return false;if(ji_bSplit)
{if(ji_slice.length<jr_o.jc.jc_SLICELEN)
return false;ji_slice=ji_slice.substr(0,jr_o.jc.jc_SLICELEN);}
else if(ji_slice.length!=jr_o.jc.jc_SLICELEN)
return false;if(ji_slice.substr(0,jr_o.jc.jc_MARKLEN)!=jr_o.jc.jc_xglid_mark)
return false;return true;};jr_o._removeSlice=function(ji_glid)
{if(!ji_glid)
return"";if(ji_glid.length==jr_o.jc.jc_GLIDLEN)
return ji_glid;if(ji_glid.length==jr_o.jc.jc_XGLIDLEN)
return ji_glid.substr(jr_o.jc.jc_SLICELEN,jr_o.jc.jc_GLIDLEN);return"";};jr_o.gd.set=function(ji_glid,ji_tbtype)
{if(!jr_o._check(ji_glid))
return false;jr_o.jm_glid=ji_glid;jr_o.jm_tbtype=ji_tbtype;return true;};jr_o.gd.makeEnterprise=function(ji_sExtension,ji_slicech,ji_tbtype)
{jr_o.jm_glid=jr_o._make(jr_o.jc.jc_tbtype_eid.leadch+jr_o.jc.jc_GGLID_Enterprise,ji_sExtension,ji_slicech,ji_tbtype);return jr_o.jm_glid;};jr_o.gd.makeByXEID=function(ji_o3xxeid,ji_slicech,ji_tbtype)
{jr_o.jm_glid="";if(ji_o3xxeid)
ji_o3xxeid=ji_o3xxeid.Get_3xXEID();if(!ji_o3xxeid)
return"";var jt_o3xaznmc=ji_o3xxeid.Get_3xAZNMC2();var jt_te=ji_o3xxeid.Get_TypEntity();var jt_A=jt_o3xaznmc.Get_A();var jt_Z=jt_o3xaznmc.Get_Z();var jt_N=jt_o3xaznmc.Get_N();if((!jt_te||jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise))
{if(ji_o3xxeid.CanBeUnlimitedEnterprise())
return jr_o.gd.makeEnterprise(jt_A+jt_Z+(jt_N||"0")+"0",ji_slicech,ji_tbtype);else if(ji_o3xxeid.CanBeSilverEnterprise())
return jr_o.gd.makeEnterpriseSilver(jt_A+(jt_Z||"0")+"00",ji_tbtype);else if(ji_o3xxeid.CanBeSilverTopEnterprise())
return jr_o.gd.makeEnterpriseSilver(jt_A+(jt_Z||"0")+"00",ji_tbtype);else if(ji_o3xxeid.CanBeGoldEnterprise())
return jr_o.gd.makeEnterpriseGold("0000",ji_tbtype);return jr_o.jm_glid;}
return jr_o.gd.makeByTypEntity(jt_te,ji_tbtype);};jr_o.gd.makeEnterpriseGold=function(ji_sExtension,ji_tbtype)
{jr_o.jm_glid=jr_o._make(jr_o.jc.jc_tbtype_eid.leadch+jr_o.jc.jc_GGLID_Enterprise,ji_sExtension,jr_o.jc.jc_tbslice_gold,ji_tbtype);return jr_o.jm_glid;};jr_o.gd.makeEnterpriseSilver=function(ji_sExtension,ji_tbtype)
{jr_o.jm_glid=jr_o._make(jr_o.jc.jc_tbtype_eid.leadch+jr_o.jc.jc_GGLID_Enterprise,ji_sExtension,jr_o.jc.jc_tbslice_silver,ji_tbtype);return jr_o.jm_glid;};jr_o.gd.makeEnterpriseMajor=function(ji_sExtension,ji_tbtype)
{jr_o.jm_glid=jr_o._make(jr_o.jc.jc_tbtype_eid.leadch+jr_o.jc.jc_GGLID_Enterprise,ji_sExtension,jr_o.jc.jc_xglid_mark+jr_o.jc.jc_tbslice_major,ji_tbtype);return jr_o.jm_glid;};jr_o.gd.makeEnterpriseUnique=function(ji_sExtension,ji_tbtype)
{jr_o.jm_glid=jr_o._make(jr_o.jc.jc_tbtype_eid.leadch+jr_o.jc.jc_GGLID_Enterprise,ji_sExtension,jr_o.jc.jc_xglid_mark+jr_o.jc.jc_tbslice_unique,ji_tbtype);return jr_o.jm_glid;};jr_o.gd.makeEnterpriseSubsidiary=function(ji_sExtension,ji_tbtype)
{jr_o.jm_glid=jr_o._make(jr_o.jc.jc_tbtype_eid.leadch+jr_o.jc.jc_GGLID_Enterprise,ji_sExtension,jr_o.jc.jc_xglid_mark+jr_o.jc.jc_tbslice_subry,ji_tbtype);return jr_o.jm_glid;};jr_o.gd.default2GlidXEID=function(ji_o3xxeid)
{if(!jr_o.gd.isDefault())
return jr_o.jm_glid;if(!jr_o.gd.isEnterprise())
return jr_o.jm_glid;var jt_glidDefault=jr_o.jm_glid;var jr_glidQUR=jr_o.gd.makeByXEID(ji_o3xxeid,jr_o.gd.getSlicech(),jr_o.gd.getTbType());jg_oe.CanLogInfo()&&jg_oe.LogInfo("gliddfl,glidqur: "+jt_glidDefault+","+jr_glidQUR,"","A3xa3Tbid.default2GlidXEID");return jr_glidQUR;};jr_o.gd.make=function(ji_sPrefix,ji_sExtension,ji_slicech,ji_tbtype)
{jr_o.jm_glid=jr_o._make(ji_sPrefix,ji_sExtension,ji_slicech,ji_tbtype);return jr_o.jm_glid;};jr_o._make=function(ji_sPrefix,ji_sExtension,ji_slicech,ji_tbtype)
{if(!ji_sPrefix)
return"";else if(ji_sPrefix.length!=jr_o.jc.jc_GLIDPREFIXLEN)
return"";if(!ji_sExtension)
ji_sExtension=jr_o.jc.jc_GLIDSUFFIXDEFAULT;else if(ji_sExtension.length!=jr_o.jc.jc_GLIDSUFFIXLEN)
return"";if(!ji_slicech)
ji_slicech="";else if(ji_slicech&&ji_slicech.length!=1)
return"";var jr_glid=(ji_slicech?jr_o.jc.jc_xglid_mark+ji_slicech:"")+ji_sPrefix+ji_sExtension;if(ji_tbtype)
return jr_o._makeByType(jr_glid,ji_tbtype);return jr_glid;};jr_o.gd.makeByTypEntity=function(ji_TypEntity,ji_tbtype)
{jr_o.jm_glid=jr_o._makeByTypEntity(ji_TypEntity,ji_tbtype);return jr_o.jm_glid;};jr_o._makeByTypEntity=function(ji_TypEntity,ji_tbtype)
{var jt_glid="";if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_MetaSystemControl);else if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_Category)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_Category);else if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoTopArea)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_GeoTopArea);else if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoArea)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_GeoArea);else if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_GeoRegion);else if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCity)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_GeoCity);else if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_GeoCountry);else if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoState)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_GeoState);else if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_Enterprise)
jt_glid=jr_o.jc.GLIDR(jr_o.jc.jc_GGLID_Enterprise);if(ji_tbtype)
return jr_o._makeByType(jt_glid,ji_tbtype);return jt_glid;};jr_o.gd.glid2TypEntity=function()
{var jt_I3tbid=A3xa3Tbid(ji_GLID);if(jr_o.gd.isMetaSystemControl())
return jg_oe.jc_oEntity.jc_Typ_MetaSystemControl;if(jr_o.gd.isCategory())
return jg_oe.jc_oEntity.jc_Typ_Category;if(jr_o.gd.isGeoTopArea())
return jg_oe.jc_oEntity.jc_Typ_GeoTopArea;if(jr_o.gd.isGeoArea())
return jg_oe.jc_oEntity.jc_Typ_GeoArea;if(jr_o.gd.isGeoRegion())
return jg_oe.jc_oEntity.jc_Typ_GeoRegion;if(jr_o.gd.isGeoCity())
return jg_oe.jc_oEntity.jc_Typ_GeoCity;if(jr_o.gd.isGeoCountry())
return jg_oe.jc_oEntity.jc_Typ_GeoCountry;if(jr_o.gd.isGeoState())
return jg_oe.jc_oEntity.jc_Typ_GeoState;if(jr_o.gd.isEnterprise())
return jg_oe.jc_oEntity.jc_Typ_Enterprise;return"";};jr_o.gd.makeByType=function(ji_glid,ji_tbtype)
{jr_o.jm_glid=jr_o._makeByType(ji_glid,ji_tbtype);return jr_o.jm_glid;};jr_o._makeByType=function(ji_glid,ji_tbtype)
{if(!ji_tbtype)
return"";if(!jr_o._check(ji_glid))
return"";if(ji_glid.length==jr_o.jc.jc_GLIDLEN)
return ji_tbtype.leadch+ji_glid.substr(1,jr_o.jc.jc_GLIDLEN-1);if(ji_glid.length==jr_o.jc.jc_XGLIDLEN)
return ji_glid.substr(0,jr_o.jc.jc_SLICELEN)+jr_o._makeByType(jr_o._removeSlice(ji_glid),ji_tbtype);return"";};jr_o._getSlice=function()
{if(!jr_o.jm_glid)
return"";if(jr_o.jm_glid.length!=jr_o.jc.jc_XGLIDLEN)
return"";return jr_o.jm_glid.substr(0,jr_o.jc.jc_SLICELEN);};jr_o.gd.getSlicech=function()
{if(!jr_o.jm_glid)
return"";if(jr_o.jm_glid.length!=jr_o.jc.jc_XGLIDLEN)
return"";return jr_o.jm_glid.charAt(jr_o.jc.jc_MARKLEN);};jr_o.gd.isSliceGold=function(){return jr_o.gd.getSlicech()==jr_o.jc.jc_tbslice_gold;};jr_o.gd.isSliceSilver=function(){return jr_o.gd.getSlicech()==jr_o.jc.jc_tbslice_silver;};jr_o.gd.isSliceUnique=function(){return jr_o.gd.getSlicech()==jr_o.jc.jc_tbslice_unique;};jr_o.gd.isSliceMajor=function(){return jr_o.gd.getSlicech()==jr_o.jc.jc_tbslice_major;};jr_o.gd.isSliceSubsidiary=function(){return jr_o.gd.getSlicech()==jr_o.jc.jc_tbslice_subry;};jr_o.gd.getPrefix=function(){return jr_o._getPrefix(jr_o.jm_glid);};jr_o._getPrefix=function(ji_glid)
{if(!ji_glid)
return"";if(ji_glid.length==jr_o.jc.jc_GLIDLEN)
return ji_glid.substr(0,jr_o.jc.jc_GLIDPREFIXLEN);return ji_glid.substr(jr_o.jc.jc_SLICELEN,jr_o.jc.jc_GLIDPREFIXLEN);};jr_o.gd.replaceExtension=function(ji_sExtension)
{var jt_glidNew=jr_o._make(jr_o.gd.getPrefix(),ji_sExtension,jr_o.gd.getSlicech(),jr_o.jm_tbtype);if(!jt_glidNew)
return"";jr_o.jm_glid=jt_glidNew;return jr_o.jm_glid;};jr_o.gd.getExtension=function(){return jr_o._getExtension(jr_o.jm_glid);};jr_o._getExtension=function(ji_glid)
{if(!ji_glid)
return"";if(ji_glid.length==jr_o.jc.jc_GLIDLEN)
return ji_glid.substr(jr_o.jc.jc_GLIDPREFIXLEN,jr_o.jc.jc_GLIDSUFFIXLEN);return ji_glid.substr(jr_o.jc.jc_SLICELEN+jr_o.jc.jc_GLIDPREFIXLEN,jr_o.jc.jc_GLIDSUFFIXLEN);};jr_o.gd.getLeadch=function()
{var jt_glidpfx=jr_o.gd.getPrefix();return jt_glidpfx?jt_glidpfx.charAt(0):"";};jr_o.gd.isEID=function(){return jr_o.gd.getLeadch()==jr_o.jc.jc_tbtype_eid.leadch;};jr_o.gd.isEBIS=function(){return jr_o.gd.getLeadch()==jr_o.jc.jc_tbtype_ebis.leadch;};jr_o.gd.isEBID=function(){return jr_o.gd.getLeadch()==jr_o.jc.jc_tbtype_ebid.leadch;};jr_o.gd.isEI=function(){return jr_o.gd.getLeadch()==jr_o.jc.jc_tbtype_ei.leadch;};jr_o.gd.isDefault=function(){return(jr_o.gd.getExtension()==jr_o.jc.jc_GLIDSUFFIXDEFAULT);};jr_o.gd.getDefault=function(){return jr_o._make(jr_o.gd.getPrefix(),null,jr_o.gd.getSlicech());};jr_o.gd.getLegacyDefault=function(){return jr_o._make(jr_o.gd.getPrefix());};jr_o.gd.getLegacyGlid=function()
{if(!jr_o.jm_glid)
return"";if(jr_o.jm_glid.length==jr_o.jc.jc_GLIDLEN)
return jr_o.jm_glid;return jr_o.jm_glid.substr(jr_o.jc.jc_SLICELEN,jr_o.jc.jc_GLIDLEN);};jr_o.gd.getDescrExtra=function()
{var jt_ext=jr_o.gd.getExtension();return((jt_ext==jr_o.jc.jc_GLIDSUFFIXDEFAULT)?"":" "+jt_ext);};jr_o.gd.isTOC=function()
{if(!(jr_o.jm_glid==jr_o.jc.jc_GLID_TOC))
return false;if(!jr_o.jm_tbtype)
return true;var jt_c=jr_o.gd.getLeadch();if(jt_c==jr_o.jm_tbtype.leadch&&jt_c==jr_o.jc.jc_tbtype_tid.leadch&&jr_o.jm_tbtype.tbtname==jr_o.jc.jc_tbtype_tid.tbtname)
return true;return false;};jr_o.gd.isSummary=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_SummaryEnterprises;};jr_o.gd.isMetaSystemControl=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_MetaSystemControl;};jr_o.gd.isCategory=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_Category;};jr_o.gd.isGeoTopArea=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_GeoTopArea;};jr_o.gd.isGeoArea=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_GeoArea;};jr_o.gd.isGeoRegion=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_GeoRegion;};jr_o.gd.isGeoCity=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_GeoCity;};jr_o.gd.isGeoCountry=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_GeoCountry;};jr_o.gd.isGeoState=function(){return jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())==jr_o.jc.jc_GGLID_GeoState;};jr_o.gd.isCommon=function()
{if(!(jr_o.gd.isSummary()||jr_o.gd.isMetaSystemControl()||jr_o.gd.isCategory()||jr_o.gd.isGeoTopArea()||jr_o.gd.isGeoArea()||jr_o.gd.isGeoRegion()||jr_o.gd.isGeoCity()||jr_o.gd.isGeoCountry()||jr_o.gd.isGeoState()))
{return false;}
return true;};jr_o.gd.isEnterprise=function()
{if(jr_o.jc.GGLID(jr_o.gd.getLegacyGlid())!=jr_o.jc.jc_GGLID_Enterprise)
return false;if(!jr_o.jm_tbtype)
return true;var jt_c=jr_o.gd.getLeadch();if(jt_c!=jr_o.jm_tbtype.leadch)
return false;if(jt_c==jr_o.jc.jc_tbtype_eid.leadch&&jr_o.jm_tbtype.tbtname==jr_o.jc.jc_tbtype_eid.tbtname)
return true;if(jt_c==jr_o.jc.jc_tbtype_ebis.leadch&&jr_o.jm_tbtype.tbtname==jr_o.jc.jc_tbtype_ebis.tbtname)
return true;if(jt_c==jr_o.jc.jc_tbtype_ebid.leadch&&jr_o.jm_tbtype.tbtname==jr_o.jc.jc_tbtype_ebid.tbtname)
return true;if(jt_c==jr_o.jc.jc_tbtype_ei.leadch&&jr_o.jm_tbtype.tbtname==jr_o.jc.jc_tbtype_ei.tbtname)
return true;return false;};jr_o.gd.getTbType=function()
{if(!jr_o.jm_glid)
return{tbtname:"",tbtkeyname:"",leadch:""};if(jr_o.gd.isTOC())
return jr_o.jc.jc_tbtype_tid;var jt_c=jr_o.gd.getLeadch();if(jt_c==jr_o.jc.jc_tbtype_eid.leadch)
return jr_o.jc.jc_tbtype_eid;if(jt_c==jr_o.jc.jc_tbtype_ebis.leadch)
return jr_o.jc.jc_tbtype_ebis;if(jt_c==jr_o.jc.jc_tbtype_ebid.leadch)
return jr_o.jc.jc_tbtype_ebid;if(jt_c==jr_o.jc.jc_tbtype_ei.leadch)
return jr_o.jc.jc_tbtype_ei;return{tbtname:"",tbtkeyname:"",leadch:""};};jr_o.gd.getSDSTbType=function(){return jr_o.gd.getTbType();};jr_o.gd.getGlid=function(){return jr_o.jm_glid;};jr_o.gd.set(ji_glid,ji_tbtype);return jr_o.gd;}"use strict";function A3xaDbSchema(ji_sDbName,ji_DbVersion,ji_sDbDefaultKeyName,ji_aTables)
{this.jm_sDbName=ji_sDbName;this.jm_DbVersion=ji_DbVersion;this.jm_sDbDefaultKeyName=ji_sDbDefaultKeyName;this.jm_aTables=ji_aTables;this.IsValid=function()
{if(!(this.jm_sDbName||this.jm_DbVersion||this.jm_sDbDefaultKeyName||this.jm_aTables))
return false;if(!(this.jm_aTables.length>0))
return false;return true;};this.Get_DbName=function(){return this.jm_sDbName||null;}
this.Get_DbVersion=function(){return this.jm_DbVersion||null;}
this.Get_PrimaryKeyName=function(){return this.jm_sDbDefaultKeyName;};this.Get_Table_ByIndex=function(ji_index)
{var jt_aTables=this.jm_aTables;if(!(ji_index>=0&&jt_aTables&&ji_index<jt_aTables.length))
return null;return jt_aTables[ji_index]||null;};this.Get_Table_ByName=function(ji_sName)
{if(!ji_sName)
return null;var jt_I3tbid=A3xa3Tbid(ji_sName);ji_sName=jt_I3tbid.getDefault();var jt_aTables=this.jm_aTables;for(var i=0;i<jt_aTables.length;i++)
{if(ji_sName==jt_aTables[i].jp_sName)
return jt_aTables[i];}
return null;};this.Index2Name=function(ji_index)
{var jt_pTable=this.Get_Table_ByIndex(ji_index);if(!jt_pTable)
return"";return jt_pTable.jp_sName||"";};this.IsMandatory=function(ji_sName)
{var jt_pTable=this.Get_Table_ByName(ji_sName);if(!jt_pTable)
return false;return jt_pTable.jp_bMandatory||false;};this.Get_StorageType=function(ji_sName)
{var jt_I3tbid=A3xa3Tbid(ji_sName);var jt_sNameDefault=jt_I3tbid.getDefault();var jt_pTable=this.Get_Table_ByName(jt_sNameDefault);var jt_bExtendedStorage=false;if(jt_sNameDefault!=ji_sName)
jt_bExtendedStorage=true;var jt_StorageType=jg_oe.jc_oStorage.jc_FLY;if(jt_pTable&&jt_sNameDefault)
{jt_StorageType=jt_pTable.jp_DefaultStorageType;if(!jt_StorageType)
jt_StorageType=jg_oe.jc_oStorage.jc_Default;if(jt_bExtendedStorage)
jt_StorageType=jt_pTable.jp_ExtendedStorageType;}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("info:"+
jg_oe.jc_oStorage.Get_Descr(jt_StorageType||jg_oe.jc_oStorage.jc_FLY),"","A3xaDbSchema.Get_StorageType");return jt_StorageType||jg_oe.jc_oStorage.jc_FLY;};this.Get_Descr=function(ji_sName)
{var jt_I3tbid=A3xa3Tbid(ji_sName);var jt_sdx=jt_I3tbid.getDescrExtra();var jt_pTable=this.Get_Table_ByName(ji_sName);if(!jt_pTable)
return"";if(!jt_pTable.jp_sDescr)
return"";return jt_pTable.jp_sDescr+" "+jt_sdx;};this.Get_TableGroups=function(ji_aTableNames)
{var jr_aSchemaTableGroups=A3xa3Array().O();var jt_aTables=this.jm_aTables;for(var i=0;i<jt_aTables.length;i++)
{var jt_bMatch=true;if(ji_aTableNames&&ji_aTableNames.length)
{jt_bMatch=false;for(var j=0;j<ji_aTableNames.length;j++)
{var jt_I3tbid=A3xa3Tbid(ji_aTableNames[j]);if(jt_I3tbid.getDefault()==jt_aTables[i].jp_sName)
{jt_bMatch=true;break;}}}
if(jt_bMatch)
{var jt_oSTG=jt_aTables[i].jp_oSTG;if(jt_oSTG&&jt_oSTG.jp_sGroupName&&jt_oSTG.jp_sKeyName)
{if(!jr_aSchemaTableGroups.Get_I3x3().I().Iar.getItem(jt_oSTG.jp_sGroupName))
jr_aSchemaTableGroups.Get_I3x3().I().Iar.addItem(jt_oSTG.jp_sGroupName,jt_oSTG);}}}
return jr_aSchemaTableGroups;}
this.Get_TableGroupNames=function(ji_aTableNames)
{var jt_aSchemaTableGroups=this.Get_TableGroups(ji_aTableNames);if(!jt_aSchemaTableGroups)
return null;var jt_nofstg=jt_aSchemaTableGroups.Get_I3x3().I().Iar.getCount();var jr_aSTGNames=[];for(var i=0;i<jt_nofstg;i++)
{var jt_ostg=jt_aSchemaTableGroups.Get_I3x3().I().Iar.getItem_ByIndex(i);if(jt_ostg&&jt_ostg.jp_sGroupName)
jr_aSTGNames.push(jt_ostg.jp_sGroupName);}
return jr_aSTGNames;}}"use strict";function A3xa2DefineDtSts()
{var jr_o={jc_DTStatus2_StSuccess:1,jc_DTStatus2_StFail:4,jc_DTStatus2_StEmpty:5,jc_DTStatus2_StInProgress:6,jc_DTStatus2_StOpen:8,jc_DTStatus2_StReady:9,jc_DTStatus2_OpCache:10,jc_DTStatus2_OpClear:20,jc_DTStatus2_OpStore:30,jc_DTStatus2_OpLoad:40,jc_DTStatus2_OpAjax:50};A3xa2DefineDtSts=function(){return jr_o;};return jr_o;}
function GLData(ji_glid)
{this.jm_oDTStatus=new GLDataStatus();this.jm_glid=(ji_glid||null);this.jm_sGLD=null;this.Get_Glid=function(){return this.jm_glid;};this.Set_Glid=function(ji_glid)
{this.jm_glid=null;if(!ji_glid)
return true;var jt_I3tbid=A3xa3Tbid(ji_glid);if(!jt_I3tbid.check())
return false;this.jm_glid=ji_glid;return true;};this.IsValid=function(){return(this.Get_Glid()?true:false);};this.Get_XKey=function(){return this.Get_Glid()||"";};this.Get_GLDString=function(){return(this.IsValid()?this.jm_sGLD||"":"");};this.Set_GLDString=function(ji_xglid,ji_sGLD)
{this.jm_sGLD=null;if(!this.Set_Glid(ji_xglid))
return false;this.jm_sGLD=ji_sGLD;return true;};this.LoadFromGLS=function(ji_oDbTransaction,ji_xglid)
{if(ji_xglid)
this.Set_Glid(ji_xglid);if(!this.IsValid())
return false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("GLData_LoadFromGLS: "+ji_xglid);if(!ji_oDbTransaction)
return false;try
{this.jm_oDTStatus.SetLoadStatusInProgress();}
catch(e)
{jg_oe.ExceptionMessage(e,"");}
var jr_b=ji_oDbTransaction.Get_Storage().Read3(ji_oDbTransaction,new GLData_Value(this.Get_XKey(),null,this));return jr_b;};this.StoreToGLS=function(ji_oDbTransaction)
{if(!this.IsValid())
return false;if(!ji_oDbTransaction)
return false;this.jm_oDTStatus.SetStoreStatusInProgress();if(!ji_oDbTransaction.Get_Storage().Write3(ji_oDbTransaction,new GLData_Value(this.Get_XKey(),this.Get_GLDString(),this)))
return false;return true;};}
function GLDataStatus(ji_Operation,ji_Status,ji_sMessage,ji_fnOnChange)
{this.jm_Operation=(ji_Operation||null);this.jm_Status=(ji_Status||A3xa2DefineDtSts().jc_DTStatus2_StEmpty);this.jm_sMessage=(ji_sMessage||"");this.jm_fnOnChange=(ji_fnOnChange||null);this.IsReady=function()
{return this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StReady;};this.IsInProgress=function()
{return this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StInProgress||this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StOpen;};this.IsOpen=function()
{return this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StOpen;};this.IsDone=function()
{return this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StSuccess||this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StFail||this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StEmpty;};this.IsFail=function()
{return this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StFail;};this.IsEmpty=function()
{return this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StEmpty;};this.IsSuccess=function()
{return this.jm_Status==A3xa2DefineDtSts().jc_DTStatus2_StSuccess;};this.IsSuccessOrEmpty=function(){return this.IsSuccess()||this.IsEmpty();};this.IsOpLoad=function(){return this.jm_Operation==A3xa2DefineDtSts().jc_DTStatus2_OpLoad;};this.IsOpStore=function(){return this.jm_Operation==A3xa2DefineDtSts().jc_DTStatus2_OpStore;};this.IsOpCache=function(){return this.jm_Operation==A3xa2DefineDtSts().jc_DTStatus2_OpCache;};this.IsOpClear=function(){return this.jm_Operation==A3xa2DefineDtSts().jc_DTStatus2_OpClear;};this.IsOpAjax=function(){return this.jm_Operation==A3xa2DefineDtSts().jc_DTStatus2_OpAjax;};this.IsLoading=function(){return this.IsOpLoad()&&this.IsInProgress();};this.IsStoring=function(){return this.IsOpStore()&&this.IsInProgress();};this.IsCaching=function(){return this.IsOpCache()&&this.IsInProgress();};this.IsClearing=function(){return this.IsOpClear()&&this.IsInProgress();};this.SetLoadStatus=function(ji_Status,ji_sMessage)
{return this.Set3(A3xa2DefineDtSts().jc_DTStatus2_OpLoad,ji_Status,ji_sMessage);};this.SetLoadStatusFail=function(ji_sMessage)
{return this.SetLoadStatus(A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage);};this.SetLoadStatusSuccess=function(ji_sMessage)
{return this.SetLoadStatus(A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage);};this.SetLoadStatusInProgress=function(ji_sMessage)
{return this.SetLoadStatus(A3xa2DefineDtSts().jc_DTStatus2_StInProgress,ji_sMessage);};this.SetLoadStatusEmpty=function(ji_sMessage)
{return this.SetLoadStatus(A3xa2DefineDtSts().jc_DTStatus2_StEmpty,ji_sMessage);};this.SetStoreStatus=function(ji_Status,ji_sMessage)
{return this.Set3(A3xa2DefineDtSts().jc_DTStatus2_OpStore,ji_Status,ji_sMessage);};this.SetStoreStatusFail=function(ji_sMessage)
{return this.SetStoreStatus(A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage);};this.SetStoreStatusInProgress=function(ji_sMessage)
{return this.SetStoreStatus(A3xa2DefineDtSts().jc_DTStatus2_StInProgress,ji_sMessage);};this.SetStoreStatusSuccess=function(ji_sMessage)
{return this.SetStoreStatus(A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage);};this.SetStoreStatusOpen=function(ji_sMessage)
{return this.SetStoreStatus(A3xa2DefineDtSts().jc_DTStatus2_StOpen,ji_sMessage);};this.SetCacheStatus=function(ji_Status,ji_sMessage)
{return this.Set3(A3xa2DefineDtSts().jc_DTStatus2_OpCache,ji_Status,ji_sMessage);};this.SetCacheStatusFail=function(ji_sMessage)
{return this.SetCacheStatus(A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage);};this.SetCacheStatusInProgress=function(ji_sMessage)
{return this.SetCacheStatus(A3xa2DefineDtSts().jc_DTStatus2_StInProgress,ji_sMessage);};this.SetCacheStatusEmpty=function(ji_sMessage)
{return this.SetCacheStatus(A3xa2DefineDtSts().jc_DTStatus2_StEmpty,ji_sMessage);};this.SetCacheStatusSuccess=function(ji_sMessage)
{return this.SetCacheStatus(A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage);};this.SetClearStatus=function(ji_Status,ji_sMessage)
{return this.Set3(A3xa2DefineDtSts().jc_DTStatus2_OpClear,ji_Status,ji_sMessage);};this.SetClearStatusFail=function(ji_sMessage)
{return this.SetClearStatus(A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage);};this.SetClearStatusInProgress=function(ji_sMessage)
{return this.SetClearStatus(A3xa2DefineDtSts().jc_DTStatus2_StInProgress,ji_sMessage);};this.SetClearStatusSuccess=function(ji_sMessage)
{return this.SetClearStatus(A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage);};this.SetClearStatusOpen=function(ji_sMessage)
{return this.SetClearStatus(A3xa2DefineDtSts().jc_DTStatus2_StOpen,ji_sMessage);};this.SetAjaxStatus=function(ji_Status,ji_sMessage)
{return this.Set3(A3xa2DefineDtSts().jc_DTStatus2_OpAjax,ji_Status,ji_sMessage);};this.SetAjaxStatusFail=function(ji_sMessage)
{return this.SetAjaxStatus(A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage);};this.SetAjaxStatusInProgress=function(ji_sMessage)
{return this.SetAjaxStatus(A3xa2DefineDtSts().jc_DTStatus2_StInProgress,ji_sMessage);};this.SetAjaxStatusSuccess=function(ji_sMessage)
{return this.SetAjaxStatus(A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage);};this.SetAjaxStatusOpen=function(ji_sMessage)
{return this.SetAjaxStatus(A3xa2DefineDtSts().jc_DTStatus2_StOpen,ji_sMessage);};this.SetFrom=function(ji_oDTStatus)
{if(!ji_oDTStatus)
return false;return this.Set3(ji_oDTStatus.jm_Operation,ji_oDTStatus.jm_Status,ji_oDTStatus.jm_sMessage);};this.SetStatus=function(ji_Status,ji_sMessage)
{return this.Set3(null,ji_Status,ji_sMessage);};this.Set3=function(ji_Operation,ji_Status,ji_sMessage)
{if(ji_Status>0||ji_Status===0)
this.jm_Status=ji_Status;if(ji_Operation>0)
this.jm_Operation=ji_Operation;this.jm_sMessage=(ji_sMessage||"");if(this.IsFail())
{jg_oe.LogErr(this.jm_sMessage+
this.Get_OperationDescr()+this.Get_StatusDescr(),null,"GLDataStatus_Set2");}
else if(this.jm_sMessage)
jg_oe.CanLogInfo()&&jg_oe.LogInfo(this.jm_sMessage,null,"GLDataStatus_Set2");if(this.jm_fnOnChange)
this.jm_fnOnChange(this);return true;};this.Get_OperationDescr=function()
{if(this.IsOpCache())return" [ op:Cache ] ";if(this.IsOpClear())return" [ op:ClearDB ] ";if(this.IsOpStore())return" [ op:Store ] ";if(this.IsOpLoad())return" [ op:Load ] ";if(this.IsOpAjax())return" [ op:Ajax ] ";return" [ op:Unknown ] ";};this.Get_StatusDescr=function()
{if(this.IsReady())return" [ st:Ready ] ";if(this.IsOpen())return" [ st:Open ] ";if(this.IsInProgress())return" [ st:InProgress ] ";if(this.IsSuccess())return" [ st:Success ] ";if(this.IsFail())return" [ st:Fail ] ";if(this.IsEmpty())return" [ st:Empty ] ";return" [ st:Unknown ] ";};this.Get_Descr2=function()
{return this.Get_OperationDescr()+
this.Get_StatusDescr()+" [ msg:"+(this.jm_sMessage||"")+" ] ";};}
function GLDataStatusLoad(ji_Status,ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpLoad,ji_Status,ji_sMessage,ji_fnOnChange);}
function GLDataStatusLoadFail(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpLoad,A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage,ji_fnOnChange);}
function GLDataStatusLoadSuccess(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpLoad,A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage,ji_fnOnChange);}
function GLDataStatusLoadInProgress(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpLoad,A3xa2DefineDtSts().jc_DTStatus2_StInProgress,ji_sMessage,ji_fnOnChange);}
function GLDataStatusLoadEmpty(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpLoad,A3xa2DefineDtSts().jc_DTStatus2_StEmpty,ji_sMessage,ji_fnOnChange);}
function GLDataStatusStore(ji_Status,ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpStore,ji_Status,ji_sMessage,ji_fnOnChange);}
function GLDataStatusStoreFail(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpStore,A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage,ji_fnOnChange);}
function GLDataStatusStoreSuccess(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpStore,A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage,ji_fnOnChange);}
function GLDataStatusStoreInProgress(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpStore,A3xa2DefineDtSts().jc_DTStatus2_StInProgress,ji_sMessage,ji_fnOnChange);}
function GLDataStatusStoreEmpty(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpStore,A3xa2DefineDtSts().jc_DTStatus2_StEmpty,ji_sMessage,ji_fnOnChange);}
function GLDataStatusCache(ji_Status,ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpCache,ji_Status,ji_sMessage,ji_fnOnChange);}
function GLDataStatusCacheFail(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpCache,A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage,ji_fnOnChange);}
function GLDataStatusCacheSuccess(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpCache,A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage,ji_fnOnChange);}
function GLDataStatusCacheEmpty(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpCache,A3xa2DefineDtSts().jc_DTStatus2_StEmpty,ji_sMessage,ji_fnOnChange);}
function GLDataStatusClear(ji_Status,ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpClear,ji_Status,ji_sMessage,ji_fnOnChange);}
function GLDataStatusClearFail(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpClear,A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage,ji_fnOnChange);}
function GLDataStatusClearSuccess(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpClear,A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage,ji_fnOnChange);}
function GLDataStatusClearInProgress(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpClear,A3xa2DefineDtSts().jc_DTStatus2_StInProgress,ji_sMessage,ji_fnOnChange);}
function GLDataStatusClearOpen(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpClear,A3xa2DefineDtSts().jc_DTStatus2_StOpen,ji_sMessage,ji_fnOnChange);}
function GLDataStatusAjax(ji_Status,ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpAjax,ji_Status,ji_sMessage,ji_fnOnChange);}
function GLDataStatusAjaxFail(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpAjax,A3xa2DefineDtSts().jc_DTStatus2_StFail,ji_sMessage,ji_fnOnChange);}
function GLDataStatusAjaxSuccess(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpAjax,A3xa2DefineDtSts().jc_DTStatus2_StSuccess,ji_sMessage,ji_fnOnChange);}
function GLDataStatusAjaxOpen(ji_sMessage,ji_fnOnChange)
{GLDataStatus.call(this,A3xa2DefineDtSts().jc_DTStatus2_OpAjax,A3xa2DefineDtSts().jc_DTStatus2_StOpen,ji_sMessage,ji_fnOnChange);}
function GLData_Value(ji_xkey,ji_value,ji_ogldTarget)
{A3xaStorage_Value.call(this,ji_xkey,ji_value);this.Set_Result=GLData_Value_Set_Result;this.Set_Value=GLData_Value_Set_Value;this.jm_ogldTarget=ji_ogldTarget;}
function GLData_Value_Set_Result(ji_oStorageOpType,ji_sMessage)
{if(!this.jm_ogldTarget)
return false;if(ji_oStorageOpType.bStore)
{if(ji_oStorageOpType.bSuccess)
{this.jm_ogldTarget.jm_oDTStatus.SetStoreStatusSuccess(ji_sMessage);}
else
{this.jm_ogldTarget.jm_oDTStatus.SetStoreStatusFail(ji_sMessage);}}
else
{if(ji_oStorageOpType.bSuccess)
{this.jm_ogldTarget.jm_oDTStatus.SetLoadStatusSuccess(ji_sMessage);}
else if(ji_oStorageOpType.bEmpty)
{this.jm_ogldTarget.jm_oDTStatus.SetLoadStatusEmpty(ji_sMessage);}
else
{this.jm_ogldTarget.jm_oDTStatus.SetLoadStatusFail(ji_sMessage);}}
return ji_oStorageOpType.bSuccess||false;}
function GLData_Value_Set_Value(ji_value)
{if(!this.jm_ogldTarget)
return false;if(!ji_value)
return this.Set_Result({bLoad:true,bError:true},"Load Record: "+this.Get_Key()+"=Empty Value");if(!this.jm_ogldTarget.Set_GLDString(this.jm_ogldTarget.Get_Glid(),ji_value))
return this.Set_Result({bLoad:true,bError:true},"Load Record: "+this.Get_Key()+ji_value);return this.Set_Result({bLoad:true,bSuccess:true});}"use strict";function GLDataTable(ji_oDatabase,ji_glid,ji_release)
{this.jm_oDTStatus=new GLDataStatus();this.jm_oDTStatusStore=new GLDataStatus();this.jm_glid=null;this.jm_release=null;this.jm_aoglr=A3xa3Array();this.jm_aaoglrSelect=A3xa3Array();this.jm_bAX=true;this.jm_aoglrAX=null;this.jm_odb=null;this.jm_aoglrMerged=null;this.jm_aoglrAXMerged=null;this._GLDataTable=function(ji_oDatabase,ji_glid,ji_release)
{this.jm_odb=ji_oDatabase;if(ji_oDatabase&&ji_glid)
{var jt_oSchemaTable=this.jm_odb.jm_oDbSchema.Get_Table_ByName(ji_glid);if(jt_oSchemaTable&&!jt_oSchemaTable.jp_bAX)
this.jm_bAX=false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("ji_glid,AX,jt_oSchemaTable="+ji_glid+","+this.jm_bAX+","+jt_oSchemaTable,"","GLDataTable._GLDataTable");this.Set_Glid(ji_glid);this.Set_Version(ji_release);}};this.jm_o3xJSDS=null;this.New3xJSDS=function(ji_glid){return new GLData(ji_glid);};this.Get_3xJSDS=function()
{if(!(this.jm_o3xJSDS&&this.jm_o3xJSDS.IsValid()))
return null;return this.jm_o3xJSDS;};this.Set_3xJSDS=function(ji_o3xJSDS)
{if(!(ji_o3xJSDS&&ji_o3xJSDS.IsValid()))
return false;this.jm_o3xJSDS=ji_o3xJSDS;return true;};this.Build_3xJSDS=function(ji_o3x2tb)
{if(!ji_o3x2tb)
return false;var jt_o3xJSDS=this.New3xJSDS(this.Get_Glid());if(!jt_o3xJSDS.Set_GLDString(this.Get_Glid(),ji_o3x2tb.tb.getJSDS()))
return false;if(!this.Set_3xJSDS(jt_o3xJSDS))
return false;return true;};this.New3xDbEntity=function()
{var jt_oDbSchemaTable=this.Get_Database().jm_oDbSchema.Get_Table_ByName(this.Get_Glid());if(!jt_oDbSchemaTable)
return null;if(!jt_oDbSchemaTable.jp_sParent)
return new A3xaAbsDbEntity();else if(jt_oDbSchemaTable.jp_SubTable==A3xa2DefineTbid().jc_tbtype_ebis.tbtname)
return new A3xaAbsDbEntity();else if(jt_oDbSchemaTable.jp_SubTable==A3xa2DefineTbid().jc_tbtype_ebid.tbtname)
return new A3xaAbsDbEntity();else if(jt_oDbSchemaTable.jp_SubTable==A3xa2DefineTbid().jc_tbtype_ei.tbtname)
return new A3xaAbsDbEntity();return null;};this.Get_Glid=function(){return this.jm_glid;};this.Set_Glid=function GLDataTable_Set_Glid(ji_glid)
{this.jm_glid=ji_glid;return true;};this.StoreToGLS=function(ji_oDbTransaction)
{var jt_this=this;var jt_sGlid=this.Get_Glid();this.jm_oDTStatus.SetStoreStatusInProgress();if(this.jm_o3xJSDS)
{if(!this.jm_o3xJSDS.StoreToGLS(ji_oDbTransaction))
return false;jg_oe.Get_Reporter().OnDataStored();}
return true;};this.CheckStoreTableStatus=function()
{if(!this.jm_oDTStatus.IsInProgress())
{return new GLDataStatusStoreInProgress();}
if(this.jm_o3xJSDS)
{if(!this.jm_o3xJSDS.jm_oDTStatus.IsDone())
return new GLDataStatusStoreInProgress();if(!(this.jm_o3xJSDS.IsValid()&&this.jm_o3xJSDS.Get_GLDString()))
return new GLDataStatusStoreFail();if(this.jm_o3xJSDS.jm_oDTStatus.IsFail())
return new GLDataStatusStoreFail();if(this.jm_o3xJSDS.jm_oDTStatus.IsEmpty())
return new GLDataStatusStoreEmpty();}
return new GLDataStatusStoreSuccess();};this.LoadFromGLS=function(ji_glid,ji_oDbTransaction)
{this.jm_oDTStatus.SetLoadStatusInProgress();if(!ji_glid)
{this.jm_oDTStatus.SetLoadStatusFail("Load Table ID");return false;}
var jt_o3xJSDS=this.New3xJSDS(ji_glid);if(!jt_o3xJSDS.LoadFromGLS(ji_oDbTransaction,ji_glid))
{this.jm_oDTStatus.SetLoadStatusFail("Load JSDS");return false;}
this.jm_o3xJSDS=jt_o3xJSDS;jg_oe.Get_Reporter().OnDataRead();return true;};this.SetupLoadedRecords=function(ji_ogldtParent){return this.GLDataTable_SetupLoadedRecords(ji_ogldtParent);};this.GLDataTable_SetupLoadedRecords=function(ji_ogldtParent)
{this.jm_oDTStatus.SetLoadStatusSuccess();return true;};this.Get_IRecordset=function(ji_bNative)
{return((ji_bNative||!this.jm_aoglrMerged)?this.jm_aoglr||null:this.jm_aoglrMerged);};this.Get_IRecordsetAX=function(ji_bNative)
{return((ji_bNative||!this.jm_aoglrAXMerged)?this.jm_aoglrAX||null:this.jm_aoglrAXMerged);};this.Get_3xDbEntity=function(ji_id){return this.Get_IRecordset().getItem(ji_id);};this.Get_3xDbEntityAX=function(ji_AltKey){return(this.Get_IRecordsetAX()?this.Get_IRecordsetAX().getItem(ji_AltKey):null);};this.New_IRecordsel=function(ji_sSelectName,ji_fnSelect,ji_MaxItems)
{var jr_aoglrSelectNew=A3xa3ArrayIt(this.Get_IRecordset());if(!jr_aoglrSelectNew.selectItems(ji_fnSelect,ji_MaxItems))
return null;if(!this.jm_aaoglrSelect.setItem(ji_sSelectName||"DefaultSelect",jr_aoglrSelectNew))
return null;return jr_aoglrSelectNew;};this.Get_IRecordsel=function(ji_sSelectName)
{return this.jm_aaoglrSelect.getItem(ji_sSelectName||"DefaultSelect")||A3xa3ArrayIt(this.Get_IRecordset());};this.MergeRecordset=function(ji_ogldt)
{var jt_aoglrMain=this.Get_IRecordset(true);var jt_aoglrAXMain=this.Get_IRecordsetAX(true);var jt_aoglrToMerge=(ji_ogldt?ji_ogldt.Get_IRecordset(true):null);var jt_aoglrAXToMerge=(ji_ogldt?ji_ogldt.Get_IRecordsetAX(true):null);jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_aoglrMain,jt_aoglrAXMain,jt_aoglrToMerge,jt_aoglrAXToMerge="+jt_aoglrMain+","+jt_aoglrAXMain+","+
jt_aoglrToMerge+","+jt_aoglrAXToMerge,"","GLDataTable.MergeRecordset");if(!(jt_aoglrMain&&jt_aoglrToMerge&&jt_aoglrAXMain&&jt_aoglrAXToMerge))
return false;if(!(this.jm_aoglrMerged&&this.jm_aoglrAXMerged))
{this.jm_aoglrMerged=A3xa3Array();this.jm_aoglrAXMerged=A3xa3Array();this.jm_aoglrMerged.merge(jt_aoglrMain);this.jm_aoglrAXMerged.merge(jt_aoglrAXMain);}
this.jm_aoglrMerged.merge(jt_aoglrToMerge);this.jm_aoglrAXMerged.merge(jt_aoglrAXToMerge);return true;};this.ClearGLSAndFail2=function(ji_oDTStatus)
{this.jm_oDTStatus.SetFrom(ji_oDTStatus);this.Get_Database().ClearArrayDTStore();this.Get_Database().jm_aoDTStatus_TableToClear=null;jg_oe.Get_MgrStorage().ClearStorage();return false;};this.Get_Database=function(){return this.jm_odb;};this.Get_Storage=function(){return jg_oe.Get_Database().Get_Storage(this.Get_Glid());};this.CheckLoadTableStatus=function()
{if(!this.jm_oDTStatus.IsInProgress())
return new GLDataStatusLoadInProgress();if(!(this.jm_o3xJSDS&&this.jm_o3xJSDS.IsValid()))
{return new GLDataStatusLoadFail();}
if(this.jm_o3xJSDS.jm_oDTStatus.IsFail())
{return new GLDataStatusLoadFail();}
if(this.jm_o3xJSDS.jm_oDTStatus.IsEmpty())
return new GLDataStatusLoadEmpty();return new GLDataStatusLoadSuccess();};this.Set_Version=function(ji_release){this.jm_release=ji_release;return true;};this.Get_Version=function(){return this.jm_release;};this.OnTransactionComplete=function(ji_oidbEvent,ji_oStorageOpType)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p1","GLDataTable_OnTransactionComplete");if(ji_oStorageOpType.bStore)
{var jt_odtStatus=this.CheckStoreTableStatus();if(jt_odtStatus.IsDone())
{if(jt_odtStatus.IsSuccess())
{this.jm_oDTStatus.SetStoreStatusSuccess();this.jm_oDTStatusStore.SetStoreStatusSuccess();}
else if(jt_odtStatus.IsFail())
{this.jm_oDTStatus.SetStoreStatusFail();this.jm_oDTStatusStore.SetStoreStatusFail();}
else if(jt_odtStatus.IsEmpty())
{if(this.Get_Database().jm_oDbSchema.IsMandatory(this.Get_Glid()))
{this.jm_oDTStatus.SetStoreStatusFail();this.jm_oDTStatusStore.SetStoreStatusFail();}
else
{this.jm_oDTStatus.SetStoreStatusSuccess();this.jm_oDTStatusStore.SetStoreStatusSuccess();}}
else
{}}}
else if(ji_oStorageOpType.bLoad)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p4h","GLDataTable_OnTransactionComplete");var jt_odtStatus=this.CheckLoadTableStatus();if(jt_odtStatus.IsDone())
{if(jt_odtStatus.IsSuccess())
{this.jm_oDTStatus.SetLoadStatusSuccess();}
else if(jt_odtStatus.IsFail())
{this.jm_oDTStatus.SetLoadStatusFail();}
else if(jt_odtStatus.IsEmpty())
{if(this.Get_Database().jm_oDbSchema.IsMandatory(this.Get_Glid()))
this.jm_oDTStatus.SetLoadStatusFail();else
this.jm_oDTStatus.SetLoadStatusEmpty();}
else
{this.jm_oDTStatus.SetLoadStatusFail();}}}
return true;};this.OnTransactionError=function(ji_oidbEvent,ji_sMessage,ji_oStorageOpType)
{if(ji_oStorageOpType.bStore)
{this.jm_oDTStatus.SetStoreStatusFail();this.jm_oDTStatusStore.SetStoreStatusFail();}
else if(ji_oStorageOpType.bLoad)
{this.jm_oDTStatus.SetLoadStatusFail();}
return true;};this._GLDataTable(ji_oDatabase,ji_glid,ji_release);}
﻿"use strict";function PISDSRecord()
{return{key:null,index:-1,iseq:false,o3x2rec:null,fields:null};}
function PISDSKeyMaker()
{return{keyname:null,fnkeymaker:null};}
function A3xa2IStaticDataSource_FieldPropArray()
{var jr_I=A3xa3IArray();jr_I.getItem_ByIndex=function(ji_ix){return jr_I._getD3xFieldProp(ji_ix);};jr_I.setD3xFieldNames=function(ji_sdsfpa,ji_name){return false;};jr_I._getD3xFieldProp=function(ji_ix){return null;};jr_I.getD3xFieldName=function(ji_fp){return null;};jr_I.isD3xFieldArray=function(ji_fp){return false;};jr_I.getName=function(){return null;};jr_I._get3x2FieldPropArray=function(ji_fp){return null;};jr_I.getD3xFieldProp=function(ji_ix)
{if(!jr_I.checkIndex(ji_ix))
return null;return jr_I._getD3xFieldProp(ji_ix);};jr_I.isFieldArray=function(ji_ix){return jr_I.isD3xFieldArray(jr_I.getD3xFieldProp(ji_ix));};jr_I.getFieldName=function(ji_ix){return jr_I.getD3xFieldName(jr_I.getD3xFieldProp(ji_ix));};jr_I.getFieldPos=function(ji_fieldName)
{if(!ji_fieldName)
return-1;var jt_item=jr_I.findItem2(function(ji_fp){return ji_fieldName==jr_I.getD3xFieldName(ji_fp);});return(jt_item?jt_item.ix:-1);};jr_I.getFieldNames=function()
{var jr_aFieldNames=[];var jt_c=jr_I.getCount();for(var i=0;i<jt_c;i++)
{var jt_n=jr_I.getFieldName(i);if(!jt_n)
return null;jr_aFieldNames.push(jt_n);}
return jr_aFieldNames;};jr_I.get3x2FieldPropArray=function(ji_ix)
{if(!jr_I.isFieldArray(ji_ix))
return null;var jt_fp=jr_I._getD3xFieldProp(ji_ix);if(!jt_fp)
return null;return jr_I._get3x2FieldPropArray(jt_fp);};return jr_I;}
function A3xa2IStaticDataSource_Record()
{var jr_I={setD3xRecord:function(ji_sdsrec){return false;},getCount:function(){return 0;},getFields:function(){return null;},checkIndex:function(ji_ix){return false;},isRecordset:function(ji_ix){return false;},_isRecordsetf:function(ji_field){return false;},getFieldValue:function(ji_ix){return null;},_getFieldValue:function(ji_ix){return null;},setFieldValue:function(ji_ix,ji_field){return false;},_setFieldValue:function(ji_ix,ji_field){return false;},get3x2Recordset:function(ji_ix){return null;},set3x2FieldPropArray:function(ji_o3x2FieldPropArray){return false;},getFieldPos:function(ji_fieldName){return null;},getFieldValue_ByName:function(ji_fieldName){return null;},get3x2Recordset_ByName:function(ji_fieldName){return null;}};jr_I.getFieldValue_ByName=function(ji_fieldName)
{return jr_I.getFieldValue(jr_I.getFieldPos(ji_fieldName));};jr_I.get3x2Recordset_ByName=function(ji_fieldName)
{return jr_I.get3x2Recordset(jr_I.getFieldPos(ji_fieldName));};jr_I.checkIndex=function(ji_ix){return(ji_ix>=0&&ji_ix<jr_I.getCount());};jr_I.getFieldValue=function(ji_ix)
{if(!jr_I.checkIndex(ji_ix))
return null;return jr_I._getFieldValue(ji_ix);};jr_I.setFieldValue=function(ji_ix,ji_field)
{if(!jr_I.checkIndex(ji_ix))
return false;return jr_I._setFieldValue(ji_ix,ji_field);};jr_I.isRecordset=function(ji_ix)
{if(!jr_I.checkIndex(ji_ix))
return null;return jr_I._isRecordsetf(jr_I._getFieldValue(ji_ix));};jr_I._isRecordsetf=function(ji_field)
{var jt_t=jQuery.type(ji_field);if(jt_t==="string")
return false;if(jt_t==="array")
return true;return false;};jr_I.getFields=function()
{var jr_aFields=[];var jt_c=jr_I.getCount();for(var i=0;i<jt_c;i++)
{var jt_f=jr_I._getFieldValue(i);if(!jr_I._isRecordsetf(jt_f))
jr_aFields.push(jt_f||"");else
{var jt_arsSub=[];for(var j=0;j<jt_f.length;j++)
{var jt_arecSub=[];for(var k=0;k<jt_f[j].length;k++)
jt_arecSub.push(jt_f[j][k]||"");jt_arsSub.push(jt_arecSub);}}}
return jr_aFields;};return jr_I;}
function A3xa2IStaticDataSource_Recordset()
{var jr_I={setD3xRecordset:function(ji_sdsrs){return false;},getD3xRecordset:function(){return null;},getCount:function(){return 0;},checkIndex:function(ji_ix){return false;},get3x2Record:function(ji_ix){return null;},getIRecord:function(ji_ix){return null;},_get3x2Record:function(ji_ix){return null;},_getD3xRecord:function(ji_ix){return null;},addD3xRecord:function(ji_aFieldValues){return-1;},removeD3xRecord:function(ji_ix){return null;},set3x2FieldPropArray:function(ji_o3x2FieldPropArray){return false;},makeTableIndex:function(ji_o3x2a,ji_fnKeyMaker){return null;},findRecord:function(ji_fnKeyMaker){return null;}};jr_I.checkIndex=function(ji_ix){return(ji_ix>=0&&ji_ix<jr_I.getCount());};jr_I.get3x2Record=function(ji_ix)
{return(jr_I.checkIndex(ji_ix)?jr_I._get3x2Record(ji_ix):null);};jr_I.makeTableIndex=function(ji_o3x2a,ji_fnKeyMaker)
{if(!ji_fnKeyMaker)
return null;if(!ji_o3x2a)
ji_o3x2a=A3xa3Array().O();else
ji_o3x2a.Get_I3x3().I().Iar.clear();var jt_c=jr_I.getCount();for(var i=0;i<jt_c;i++)
{var jt_pisdsrec=PISDSRecord();jt_pisdsrec.index=i;jt_pisdsrec.o3x2rec=jr_I._get3x2Record(i);jt_pisdsrec=ji_fnKeyMaker(jt_pisdsrec);if(!ji_o3x2a.Get_I3x3().I().Iar.addItem(jt_pisdsrec.key,jt_pisdsrec.o3x2rec))
{return null;}}
return ji_o3x2a;};jr_I.findRecord=function(ji_fnKeyMaker)
{if(!ji_fnKeyMaker)
return null;var jt_c=jr_I.getCount();for(var i=0;i<jt_c;i++)
{var jt_pisdsrec=PISDSRecord();jt_pisdsrec.index=i;jt_pisdsrec.o3x2rec=jr_I._get3x2Record(i);jt_pisdsrec.fields=jt_pisdsrec.o3x2rec.rec.getFields();var jt_pisdsrec=ji_fnKeyMaker(jt_pisdsrec);if(jt_pisdsrec&&jt_pisdsrec.iseq)
return jt_pisdsrec;}
return null;};jr_I.addD3xRecord=function(ji_aFieldValues)
{if(!ji_aFieldValues)
return-1;var jt_sdsrs=jr_I.getD3xRecordset();if(!jt_sdsrs)
return-1;var jt_len=jt_sdsrs.push(ji_aFieldValues);return jt_len-1;};jr_I.removeD3xRecord=function(ji_ix)
{if(!jr_I.checkIndex(ji_ix))
return null;var jt_sdsrs=jr_I.getD3xRecordset();if(!jt_sdsrs)
return null;var jt_sdsrsRemoved=jt_sdsrs.splice(ji_ix,1);if(!(jt_sdsrsRemoved&&jt_sdsrsRemoved.length==1))
return null;return jt_sdsrsRemoved[0];};return jr_I;}
function A3xa2IStaticDataSource_Table()
{var jr_I={setD3xTable:function(ji_sdsTable){return false;},getD3xTable:function(){return null;},isValid:function(){return false;},getD3xHeader:function(){return null;},getGlid:function(){return null;},getType:function(){return null;},getName:function(){return null;},getVersion:function(){return null;},getD3xFieldNames:function(){return null;},getD3xRecordset:function(){return null;},get3x2FieldPropArray:function(){return null;},getIFieldPropArray:function(){return null;},getFieldNames:function(){return null;},get3x2Recordset:function(){return null;},getIRecordset:function(){return null;},getFields:function(ji_ixRecord){return null;},getFields2:function(ji_ixRecord,ji_keyName){return null;},getKeyMaker:function(ji_keyName,ji_matchingKey){return null;},buildTableIndex:function(ji_keyName,ji_fnKeyMaker){return false;},buildTableIndexes:function(){return false;},getTableIndex:function(ji_keyName){return null;},getCountOfRecords:function(){return null;},getRecord:function(ji_fnKeyMaker){return null;},addRecord:function(ji_fnKeyMaker,ji_fields){return null;},removeRecord:function(ji_fnKeyMaker){return null;},getRecord_ByKey:function(ji_key){return null;},addRecord_ByKey:function(ji_key,ji_fields,ji_bRebuildIndexes){return null;},removeRecord_ByKey:function(ji_key,ji_bRebuildIndexes){return null;},getJSDS:function(){return null;},setJSDS:function(ji_jsds){return false;}};jr_I.getD3xHeader=function()
{var jt_d3xsdstb=jr_I.getD3xTable();if(!jt_d3xsdstb)
return null;return jt_d3xsdstb.d3x_header;};jr_I.getGlid=function()
{var jt_d3xsdsth=jr_I.getD3xHeader();if(!jt_d3xsdsth)
return null;return jt_d3xsdsth.d3x_glid;};jr_I.getType=function()
{var jt_d3xsdsth=jr_I.getD3xHeader();if(!jt_d3xsdsth)
return null;return jt_d3xsdsth.d3x_tbtype;};jr_I.getName=function()
{var jt_d3xsdsth=jr_I.getD3xHeader();if(!jt_d3xsdsth)
return null;return jt_d3xsdsth.d3x_tbname;};jr_I.getVersion=function()
{var jt_d3xsdsth=jr_I.getD3xHeader();if(!jt_d3xsdsth)
return null;return jt_d3xsdsth.d3x_version;};jr_I.getD3xFieldNames=function()
{var jt_d3xsdstb=jr_I.getD3xTable();if(!jt_d3xsdstb)
return null;return jt_d3xsdstb.d3x_names;};jr_I.getD3xRecordset=function()
{var jt_d3xsdstb=jr_I.getD3xTable();if(!jt_d3xsdstb)
return null;return jt_d3xsdstb.d3x_records;};jr_I.getFieldNames=function()
{var jt_Ifpa=jr_I.getIFieldPropArray();if(!jt_Ifpa)
return null;return jt_Ifpa.getFieldNames();};jr_I.getFields=function(ji_ixRecord)
{var jt_kr=jr_I.getFields2(ji_ixRecord);return(jt_kr?jt_kr.fields:null);};jr_I.getFields2=function(ji_ixRecord,ji_keyName)
{var jr_pisdsrec=PISDSRecord();if(!ji_keyName)
{var jt_o3x2rs=jr_I.get3x2Recordset();jr_pisdsrec.o3x2rec=jt_o3x2rs.rs.get3x2Record(ji_ixRecord);}
else
{var jt_o3x2index=jr_I.getTableIndex(ji_keyName);if(jt_o3x2index)
{jr_pisdsrec.key=jt_o3x2index.Get_I3x3().I().Iar.getKey(ji_ixRecord);jr_pisdsrec.o3x2rec=jt_o3x2index.Get_I3x3().I().Iar.getItem(jr_pisdsrec.key);}}
if(jr_pisdsrec.o3x2rec)
jr_pisdsrec.fields=jr_pisdsrec.o3x2rec.rec.getFields();return jr_pisdsrec;};jr_I.getRecord=function(ji_fnKeyMaker)
{var jt_o3x2rs=jr_I.get3x2Recordset();if(!jt_o3x2rs)
return null;var jr_pisdsrec=jt_o3x2rs.rs.findRecord(ji_fnKeyMaker);return jr_pisdsrec;};jr_I.addRecord=function(ji_fnKeyMaker,ji_fields)
{if(!(ji_fields&&ji_fields.length))
return null;var jt_o3x2rs=jr_I.get3x2Recordset();if(!jt_o3x2rs)
return null;var jr_pisdsrec=jt_o3x2rs.rs.findRecord(ji_fnKeyMaker);if(jr_pisdsrec)
{if(jr_pisdsrec.iseq&&jr_pisdsrec.index>=0)
return null;}
else
{jr_pisdsrec=PISDSRecord();}
jr_pisdsrec.fields=ji_fields;jr_pisdsrec.index=jt_o3x2rs.rs.addD3xRecord(jr_pisdsrec.fields);if(!(jr_pisdsrec.index>=0))
return null;return jr_pisdsrec;};jr_I.removeRecord=function(ji_fnKeyMaker)
{var jt_o3x2rs=jr_I.get3x2Recordset();if(!jt_o3x2rs)
return null;var jr_pisdsrec=jt_o3x2rs.rs.findRecord(ji_fnKeyMaker);if(!jr_pisdsrec)
return null;if(!(jr_pisdsrec.iseq&&jr_pisdsrec.index>=0))
return null;var jt_fields=jt_o3x2rs.rs.removeD3xRecord(jr_pisdsrec.index);return jr_pisdsrec;};return jr_I;}
function A3xa2IStaticDataSource_Db()
{var jr_I={addTablesJSDS:function(){return false;},addD3xTable:function(ji_sdsTable,ji_bJSON){return null;},add3x2Table:function(ji_o3x2tb){return false;},get3x2Table:function(ji_glid,ji_name,ji_type){return null;},new3x2Table:function(ji_sdsTable,ji_bJSON){return null;},setDefaultDbVersion:function(ji_DbVersion){return false;},getDefaultDbVersion:function(){return"";}};jr_I.new3x2Table=function(ji_sdsTable,ji_bJSON)
{var jr_o3x2tb=A3xa2StaticDataSource_Table(ji_sdsTable,ji_bJSON);return jr_o3x2tb;};return jr_I;}
function A3xa2StaticDataSource_FieldPropArray(ji_sdsfpa,ji_name)
{var jr_o={jm_name:null,jm_sdsfpa:null,fpa:A3xa2IStaticDataSource_FieldPropArray(),_Construct:function(ji_sdsfpa,ji_name)
{jr_o.fpa.setD3xFieldNames(ji_sdsfpa,ji_name);}};jr_o.fpa.setD3xFieldNames=function(ji_sdsfpa,ji_name)
{jr_o.jm_sdsfpa=ji_sdsfpa;jr_o.jm_name=ji_name;return true;};jr_o.fpa.getCount=function(){return jr_o.jm_sdsfpa?jr_o.jm_sdsfpa.length:0;};jr_o.fpa._getD3xFieldProp=function(ji_ix){return jr_o.jm_sdsfpa[ji_ix];};jr_o.fpa.getName=function(){return jr_o.jm_name;};jr_o.fpa.getD3xFieldName=function(ji_fp)
{if(!ji_fp)
return null;var jt_t=jQuery.type(ji_fp);if(jt_t==="string")
return ji_fp;if(jt_t==="object"&&ji_fp.d3x_name)
return ji_fp.d3x_name;return null;};jr_o.fpa.isD3xFieldArray=function(ji_fp)
{if(!ji_fp)
return false;var jt_t=jQuery.type(ji_fp);if(jt_t==="string")
return false;if(jt_t==="object"&&ji_fp.d3x_names)
return true;return false;};jr_o.fpa._get3x2FieldPropArray=function(ji_fp)
{return A3xa2StaticDataSource_FieldPropArray(ji_fp.d3x_names,ji_fp.d3x_name);};jr_o._Construct(ji_sdsfpa,ji_name);return jr_o;}
function A3xa2StaticDataSource_Record(ji_sdsrec,ji_o3x2FieldPropArray)
{var jr_o={jm_sdsrec:null,jm_o3x2FieldPropArray:null,rec:A3xa2IStaticDataSource_Record(),_Construct:function(ji_sdsrec,ji_o3x2FieldPropArray)
{jr_o.rec.setD3xRecord(ji_sdsrec);jr_o.rec.set3x2FieldPropArray(ji_o3x2FieldPropArray);}};jr_o.rec.setD3xRecord=function(ji_sdsrec){jr_o.jm_sdsrec=ji_sdsrec;return true;};jr_o.rec.set3x2FieldPropArray=function(ji_o3x2FieldPropArray)
{jr_o.jm_o3x2FieldPropArray=ji_o3x2FieldPropArray;return true;};jr_o.rec.getCount=function(){return jr_o.jm_sdsrec?jr_o.jm_sdsrec.length:0;};jr_o.rec._getFieldValue=function(ji_ix)
{return jr_o.jm_sdsrec[ji_ix];};jr_o.rec._setFieldValue=function(ji_ix,ji_field)
{jr_o.jm_sdsrec[ji_ix]=ji_field;return true;};jr_o.rec.get3x2Recordset=function(ji_ix)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("1,ji_ix,jr_o.jm_sdsrec[ji_ix]: "+ji_ix+","+(jr_o.jm_sdsrec?jr_o.jm_sdsrec[ji_ix]:"null"),"","A3xa2StaticDataSource_Record.get3x2Recordset");if(!jr_o.rec.isRecordset(ji_ix))
return null;jg_oe.CanLogInfo()&&jg_oe.LogInfo("2: ","","A3xa2StaticDataSource_Record.get3x2Recordset");if(!(jr_o.jm_o3x2FieldPropArray&&jr_o.jm_o3x2FieldPropArray.fpa.isFieldArray(ji_ix)))
return null;jg_oe.CanLogInfo()&&jg_oe.LogInfo("3,jr_o.jm_sdsrec[ji_ix]: "+jr_o.jm_sdsrec[ji_ix],"","A3xa2StaticDataSource_Record.get3x2Recordset");return A3xa2StaticDataSource_Recordset(jr_o.jm_sdsrec[ji_ix],jr_o.jm_o3x2FieldPropArray.fpa.get3x2FieldPropArray(ji_ix));};jr_o.rec.getFieldPos=function(ji_fieldName)
{if(!jr_o.jm_o3x2FieldPropArray)
return-1;return jr_o.jm_o3x2FieldPropArray.fpa.getFieldPos(ji_fieldName);};jr_o._Construct(ji_sdsrec,ji_o3x2FieldPropArray);return jr_o;}
function A3xa2StaticDataSource_Recordset(ji_sdsrs,ji_o3x2FieldPropArray)
{var jr_o={jm_sdsrs:null,jm_o3x2FieldPropArray:null,rs:A3xa2IStaticDataSource_Recordset(),_Construct:function(ji_sdsrs,ji_o3x2FieldPropArray)
{jr_o.rs.setD3xRecordset(ji_sdsrs);jr_o.rs.set3x2FieldPropArray(ji_o3x2FieldPropArray);}};jr_o.rs.setD3xRecordset=function(ji_sdsrs){jr_o.jm_sdsrs=ji_sdsrs;return true;};jr_o.rs.getD3xRecordset=function(){return jr_o.jm_sdsrs;};jr_o.rs.set3x2FieldPropArray=function(ji_o3x2FieldPropArray)
{jr_o.jm_o3x2FieldPropArray=ji_o3x2FieldPropArray;return true;};jr_o.rs.getCount=function(){return jr_o.jm_sdsrs?jr_o.jm_sdsrs.length:0;};jr_o.rs._get3x2Record=function(ji_ix)
{var jt_rec=jr_o.rs._getD3xRecord(ji_ix);return(jt_rec?A3xa2StaticDataSource_Record(jt_rec,jr_o.jm_o3x2FieldPropArray):null);};jr_o.rs.getIRecord=function(ji_ix)
{var jt_o=jr_o.rs.get3x2Record(ji_ix);return(jt_o?jt_o.rec:null);};jr_o.rs._getD3xRecord=function(ji_ix){return jr_o.jm_sdsrs[ji_ix];};jr_o._Construct(ji_sdsrs,ji_o3x2FieldPropArray);return jr_o;}
function A3xa2StaticDataSource_Table(ji_sdsTable,ji_bJSON)
{var jr_o={jm_sdstb:null,jm_a3x2Indexes:A3xa3Array().O(),tb:A3xa2IStaticDataSource_Table(),_Construct:function(ji_sdsTable,ji_bJSON)
{if(ji_bJSON)
jr_o.tb.setJSDS(ji_sdsTable);else
jr_o.tb.setD3xTable(ji_sdsTable);}};jr_o.tb.setD3xTable=function(ji_sdsTable){jr_o.jm_sdstb=ji_sdsTable;return true;};jr_o.tb.getD3xTable=function(){return jr_o.jm_sdstb;};jr_o.tb.isValid=function()
{return(jr_o.tb.getType()&&(jr_o.tb.getGlid()||jr_o.tb.getName()));};jr_o.tb.get3x2FieldPropArray=function()
{return A3xa2StaticDataSource_FieldPropArray(jr_o.tb.getD3xFieldNames(),null);};jr_o.tb.getIFieldPropArray=function(){return jr_o.tb.get3x2FieldPropArray().fpa;};jr_o.tb.get3x2Recordset=function()
{return A3xa2StaticDataSource_Recordset(jr_o.tb.getD3xRecordset(),jr_o.tb.get3x2FieldPropArray());};jr_o.tb.getIRecordset=function()
{var jt_o=jr_o.tb.get3x2Recordset();return(jt_o?jt_o.rs:null);};jr_o.tb.buildTableIndex=function(ji_keyName,ji_fnKeyMaker)
{if(!(ji_keyName&&ji_fnKeyMaker))
return false;var jt_o=jr_o.tb.get3x2Recordset();if(!jt_o)
return false;var jt_o3x2ax=jr_o.tb.getTableIndex(ji_keyName);jt_o3x2ax=jt_o.rs.makeTableIndex(jt_o3x2ax,ji_fnKeyMaker);if(!jt_o3x2ax)
return false;return jr_o.jm_a3x2Indexes.Get_I3x3().I().Iar.setItem(ji_keyName,jt_o3x2ax);};jr_o.tb.getTableIndex=function(ji_keyName){return jr_o.jm_a3x2Indexes.Get_I3x3().I().Iar.getItem(ji_keyName);};jr_o.tb.getCountOfRecords=function()
{var jt_o3x2rs=jr_o.tb.get3x2Recordset();if(!jt_o3x2rs)
return 0;return jt_o3x2rs.rs.getCount();};jr_o.tb.getJSDS=function()
{if(!jr_o.jm_sdstb)
return null;var jr_jsds=JSON.stringify(jr_o.jm_sdstb,function(ji_k,ji_v)
{return ji_v;});return jr_jsds;};jr_o.tb.setJSDS=function(ji_jsds)
{if(!ji_jsds)
return false;var jt_od3xsds=JSON.parse(ji_jsds,function(ji_k,ji_v)
{return ji_v;});if(!jt_od3xsds)
return false;return jr_o.tb.setD3xTable(jt_od3xsds);}
jr_o._Construct(ji_sdsTable,ji_bJSON);return jr_o;}
function A3xa2StaticDataSource_Db()
{var jr_o={jm_DbDefaultVersion:"",jm_o3x2a:A3xa3Array().O(),db:A3xa2IStaticDataSource_Db()};jr_o.db.setDefaultDbVersion=function(ji_DbVersion){jr_o.db.jm_DbDefaultVersion=ji_DbVersion;return true;};jr_o.db.getDefaultDbVersion=function(){return jr_o.db.jm_DbDefaultVersion;};jr_o.db.addD3xTable=function(ji_sdsTable,ji_bJSON)
{if(!ji_sdsTable)
return null;var jr_o3x2tb=jr_o.db.new3x2Table(ji_sdsTable,ji_bJSON);if(!jr_o.db.add3x2Table(jr_o3x2tb))
return null;if(!jr_o3x2tb.tb.buildTableIndexes())
return null;return jr_o3x2tb;};jr_o.db.add3x2Table=function(ji_o3x2tb)
{if(!(ji_o3x2tb&&ji_o3x2tb.tb.isValid()))
return false;var jt_glid=ji_o3x2tb.tb.getGlid();var jt_name=ji_o3x2tb.tb.getName();var jt_type=ji_o3x2tb.tb.getType();var jt_id=jt_glid+","+jt_type;if(!jr_o.jm_o3x2a.Get_I3x3().I().Iar.setItem(jt_id,ji_o3x2tb))
return false;return true;};jr_o.db.get3x2Table=function(ji_glid,ji_name,ji_type)
{var jt_I3tbid=A3xa3Tbid(ji_glid);var jt_tbtype=jt_I3tbid.getTbType();var jt_tbtname=(jt_tbtype?jt_tbtype.tbtname:"");if(ji_glid)
{if(!ji_type)
ji_type=jt_tbtype.tbtname;return jr_o.jm_o3x2a.Get_I3x3().I().Iar.getItem(ji_glid+","+ji_type);}
else if(ji_type&&ji_name)
{return jr_o.jm_o3x2a.Get_I3x3().I().Iar.findItem(function(ji_o3x2tb)
{return(ji_name==ji_o3x2tb.tb.getName()&&ji_type==ji_o3x2tb.tb.getType());});}
return null;};return jr_o;}"use strict";function A3xa3IDataSourceGLRSPool()
{var jr_I={I:function(){return null;},getItem:function(ji_sName){return"";},getGLItem:function(ji_sGLnameGLID,ji_sGLnameGLH,ji_sGLnameGL){return{glid:"",oglh:"",glh:"",glrs:""};},getGLItem2:function(ji_tbtname,ji_GLent,ji_slicech,ji_idForeign){return{glid:"",oglh:"",glh:"",glrs:""};}};return jr_I;}
function _A3xa3DataSourceGLRSPool()
{var jr_o={dsp:A3xa3IDataSourceGLRSPool()};jr_o.dsp.I=function(){return{Idsp:jr_o.dsp};};jr_o._makeGLname=function(ji_GLtype,ji_tbtname,ji_GLent,ji_slicech,ji_idForeign)
{return((!ji_GLtype||!ji_tbtname||!ji_GLent||ji_idForeign<0)?"":"p_"+ji_GLtype+ji_tbtname+"_"+ji_GLent+(ji_slicech?ji_slicech:"")+(ji_idForeign>0?ji_idForeign:""));};jr_o.dsp.getGLItem=function(ji_sGLnameGLID,ji_sGLnameGLH,ji_sGLnameGL)
{var jr_oitem={glid:jr_o.dsp.getItem(ji_sGLnameGLID),oglh:null,glh:"",oglrs:null,glrs:""};var jt_xglh=jr_o.dsp.getItem(ji_sGLnameGLH);var jt_xglrs=jr_o.dsp.getItem(ji_sGLnameGL);if(jQuery.type(jt_xglh)==="string")
{jr_oitem.glh=jt_xglh;jr_oitem.oglh=JSON.parse(jr_oitem.glh,function(ji_k,ji_v)
{return ji_v;});}
else if(jQuery.type(jt_xglh)==="object")
jr_oitem.oglh=jt_xglh;if(jQuery.type(jt_xglrs)==="string")
{jr_oitem.glrs=jt_xglrs;}
else if(jQuery.type(jt_xglrs)==="object")
{jr_oitem.oglrs=jt_xglrs;jr_oitem.glrs=JSON.stringify(jr_oitem.oglrs,function(ji_k,ji_v)
{return ji_v;});}
return jr_oitem;};jr_o.dsp.getGLItem2=function(ji_tbtname,ji_GLent,ji_slicech,ji_idForeign)
{var jt_sGLnameGLID=jr_o._makeGLname("GLID",ji_tbtname,ji_GLent,ji_slicech,ji_idForeign);var jt_sGLnameGLH=jr_o._makeGLname("GLH",ji_tbtname,ji_GLent,ji_slicech,ji_idForeign);var jt_sGLnameGL=jr_o._makeGLname("GL",ji_tbtname,ji_GLent,ji_slicech,ji_idForeign);return jr_o.dsp.getGLItem(jt_sGLnameGLID,jt_sGLnameGLH,jt_sGLnameGL);}
return jr_o.dsp;}
function A3xa3DataSourceGLRSPool(ji_osPool)
{var jr_o={jm_osPool:ji_osPool,dsp:_A3xa3DataSourceGLRSPool()};jr_o.dsp.getItem=function(ji_sName)
{if(!ji_sName)
return"";if(!jr_o.jm_osPool)
return"";return jr_o.jm_osPool[ji_sName];};return jr_o.dsp;}
function A3xa3DataSourceGLRSPoolAjax(ji_ogAjaxResponse)
{var jr_o={jm_ogAjaxResponse:ji_ogAjaxResponse,dsp:_A3xa3DataSourceGLRSPool()};jr_o.dsp.getItem=function(ji_sName)
{if(!ji_sName)
return"";if(!jr_o.jm_ogAjaxResponse)
return"";return jr_o.jm_ogAjaxResponse.Get_ItemValue(ji_sName);};return jr_o.dsp;}
function A3xa3IDataTableSlice()
{var jr_I={I:function(){return null;},set3xXUR:function(ji_o3xxur){return false;},get3xXUR:function(){return null;},setDataSourceGLRSPool:function(ji_I3DSPool){return false;},enableTables:function(ji_bEID,ji_bEBIS,ji_bEBID,ji_bEI){return false;},writeGLRS2All:function(){return false;},checkGLRS2:function(ji_GLent,ji_slicech,ji_idForeign){return false;},writeGLRS2:function(ji_GLent,ji_slicech,ji_idForeign){return false;},writeEmptyGLRS2:function(ji_GLent,ji_slicech,ji_idForeign){return false;},checkForeignGLRS2:function(ji_GLent,ji_slicech){return false;},writeForeignGLRS2:function(ji_GLent,ji_slicech){return false;}};return jr_I;}
function A3xa3DataTableSlice(ji_I3DSPool,ji_o3xxur)
{var jr_o={jm_o3xxur:ji_o3xxur,jm_I3DSPool:ji_I3DSPool,jm_bEID:true,jm_bEBIS:true,jm_bEBID:true,jm_bEI:true,dts:A3xa3IDataTableSlice()};jr_o.dts.I=function(){return{Idts:jr_o.dts};};jr_o.dts.set3xXUR=function(ji_o3xxur){jr_o.jm_o3xxur=ji_o3xxur;return true;};jr_o.dts.get3xXUR=function(){return jr_o.jm_o3xxur;};jr_o.dts.enableTables=function(ji_bEID,ji_bEBIS,ji_bEBID,ji_bEI)
{jr_o.jm_bEID=ji_bEID;jr_o.jm_bEBIS=ji_bEBIS;jr_o.jm_bEBID=ji_bEBID;jr_o.jm_bEI=ji_bEI;return true;};jr_o.dts.setDataSourceGLRSPool=function(ji_I3DSPool){jr_o.jm_I3DSPool=ji_I3DSPool;return true;};jr_o._getDataSourceGLRSPool=function(){return jr_o.jm_I3DSPool;};jr_o.dts.writeGLRS2All=function()
{var jt_oxur=new A3xaXur();if(jr_o._getDataSourceGLRSPool().getItem("p3xupd"))
{jt_oxur.Set_XURString(jr_o._getDataSourceGLRSPool().getItem("p3xupd"));jt_oxur.Set_XUDString(jr_o._getDataSourceGLRSPool().getItem("p3dupd"));jg_oApp.Get_AppXUR().Set_3xXUR(jt_oxur);jr_o.jm_o3xxur=jt_oxur;}
else if(jr_o._getDataSourceGLRSPool().getItem("p3x"))
{jt_oxur.Set_XURString(jr_o._getDataSourceGLRSPool().getItem("p3x"));jt_oxur.Set_XUDString(jr_o._getDataSourceGLRSPool().getItem("p3d"));jg_oApp.Get_AppXUR().Set_3xXUR(jt_oxur);jr_o.jm_o3xxur=jt_oxur;}
else
return false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_oxur.Set_XURString(p3x)="+jr_o._getDataSourceGLRSPool().getItem("p3x"),"","A3xa3DataTableSlice.writeGLRS2All");jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_oxur.Set_XUDString(p3d)="+jr_o._getDataSourceGLRSPool().getItem("p3d"),"","A3xa3DataTableSlice.writeGLRS2All");jg_oe.CanLogInfo()&&jg_oe.LogInfo("jg_oApp.Get_AppXUR().Get_3xXUR().XUDString2()="+jg_oApp.Get_AppXUR().Get_3xXUR().Get_XUDString2(),"","A3xa3DataTableSlice.writeGLRS2All");jr_o.dts.enableTables(true,false,true,false);if(jr_o.dts.checkGLRS2("SUME"))
{if(!jr_o.dts.writeGLRS2("SUME"))
return false;}
jr_o.dts.enableTables(true,true,true,true);if(jr_o.jm_o3xxur.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise)
{if(jr_o.jm_o3xxur.IsSingle())
{if(!jr_o.dts.writeEmptyGLRS2("E"))
return false;if(jr_o.dts.checkGLRS2("E",A3xa2DefineTbid().jc_tbslice_unique))
{if(!jr_o.dts.writeGLRS2("E",A3xa2DefineTbid().jc_tbslice_unique))
return false;}
else if(jr_o.dts.checkGLRS2("E",A3xa2DefineTbid().jc_tbslice_major))
{if(!jr_o.dts.writeGLRS2("E",A3xa2DefineTbid().jc_tbslice_major))
return false;if(jr_o.dts.checkGLRS2("E",A3xa2DefineTbid().jc_tbslice_subry))
{if(!jr_o.dts.writeGLRS2("E",A3xa2DefineTbid().jc_tbslice_subry))
return false;}
if(jr_o.dts.checkForeignGLRS2("E",A3xa2DefineTbid().jc_tbslice_subry))
{if(!jr_o.dts.writeForeignGLRS2("E",A3xa2DefineTbid().jc_tbslice_subry))
return false;}}
else if(jr_o.dts.checkGLRS2("E",A3xa2DefineTbid().jc_tbslice_subry))
{if(!jr_o.dts.writeGLRS2("E",A3xa2DefineTbid().jc_tbslice_subry))
return false;}}
else if(jr_o.jm_o3xxur.IsLimited())
{if(jr_o.dts.checkGLRS2("E"))
{if(!jr_o.dts.writeGLRS2("E"))
return false;}}
else if(jr_o.jm_o3xxur.IsUnlimited())
{if(!jr_o.dts.writeEmptyGLRS2("E"))
return false;if(jr_o.dts.checkGLRS2("E",A3xa2DefineTbid().jc_tbslice_unique)&&!jr_o.dts.writeGLRS2("E",A3xa2DefineTbid().jc_tbslice_unique))
return false;if(jr_o.dts.checkGLRS2("E",A3xa2DefineTbid().jc_tbslice_major)&&!jr_o.dts.writeGLRS2("E",A3xa2DefineTbid().jc_tbslice_major))
return false;if(jr_o.dts.checkGLRS2("E",A3xa2DefineTbid().jc_tbslice_subry)&&!jr_o.dts.writeGLRS2("E",A3xa2DefineTbid().jc_tbslice_subry))
return false;}}
return true;};jr_o.dts.checkGLRS2=function(ji_GLent,ji_slicech,ji_idForeign)
{if(!jr_o._getDataSourceGLRSPool().getGLItem2("EID",ji_GLent,ji_slicech,ji_idForeign).glid)
return false;return true;};jr_o.dts.writeGLRS2=function(ji_GLent,ji_slicech,ji_idForeign)
{var jt_xitemEID={glid:"",glrs:""};var jt_xitemEBIS={glid:"",glrs:""};var jt_xitemEBID={glid:"",glrs:""};var jt_xitemEI={glid:"",glrs:""};if(jr_o.jm_bEID)
{jt_xitemEID=jr_o._getDataSourceGLRSPool().getGLItem2("EID",ji_GLent,ji_slicech,ji_idForeign);if(!jt_xitemEID.glid)
return false;}
if(jr_o.jm_bEBIS)
{jt_xitemEBIS=jr_o._getDataSourceGLRSPool().getGLItem2("EBIS",ji_GLent,ji_slicech,ji_idForeign);if(!jt_xitemEBIS.glid)
return false;}
if(jr_o.jm_bEBID)
{jt_xitemEBID=jr_o._getDataSourceGLRSPool().getGLItem2("EBID",ji_GLent,ji_slicech,ji_idForeign);if(!jt_xitemEBID.glid)
return false;}
if(jr_o.jm_bEI)
{jt_xitemEI=jr_o._getDataSourceGLRSPool().getGLItem2("EI",ji_GLent,ji_slicech,ji_idForeign);if(!jt_xitemEI.glid)
return false;}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("xur.QUR,xur.XEID,ji_GLent,ji_slicech,idForeign,glid,glrs="+
jr_o.jm_o3xxur.jm_QUR+","+jr_o.jm_o3xxur.Get_3xXEID().Get_String()+","+
ji_GLent+","+ji_slicech+","+ji_idForeign+","+
jt_xitemEID.glid+","+jt_xitemEID.glrs,"","A3xa3DataTableSlice.writeGLRS2");if(jr_o.jm_bEID&&!jg_oApp.WriteGLRS2(jt_xitemEID.glid,jt_xitemEID.oglh,jt_xitemEID.glrs))
return false;if(jr_o.jm_bEBIS&&!jg_oApp.WriteGLRS2(jt_xitemEBIS.glid,jt_xitemEBIS.oglh,jt_xitemEBIS.glrs))
return false;if(jr_o.jm_bEBID&&!jg_oApp.WriteGLRS2(jt_xitemEBID.glid,jt_xitemEBID.oglh,jt_xitemEBID.glrs))
return false;if(jr_o.jm_bEI&&!jg_oApp.WriteGLRS2(jt_xitemEI.glid,jt_xitemEI.oglh,jt_xitemEI.glrs))
return false;return true;};jr_o.dts.writeEmptyGLRS2=function(ji_GLent,ji_slicech,ji_idForeign)
{if(ji_GLent!="E")
return false;if(!ji_slicech)
ji_slicech="";var jt_tbrelease=(jg_oApp.Get_Database().Get_SDSDBWork().db.getDefaultDbVersion()||"");var jt_I3tbid=A3xa3Tbid();var jt_xitemEID={glid:"",oglh:null,glh:"",oglrs:null,glrs:""};var jt_xitemEBIS={glid:"",oglh:null,glh:"",oglrs:null,glrs:""};var jt_xitemEBID={glid:"",oglh:null,glh:"",oglrs:null,glrs:""};var jt_xitemEI={glid:"",oglh:null,glh:"",oglrs:null,glrs:""};if(jr_o.jm_bEID)
{jt_xitemEID={glid:jt_I3tbid.makeByXEID(jr_o.jm_o3xxur,ji_slicech,A3xa2DefineTbid().jc_tbtype_eid)};if(!jt_xitemEID.glid)
return false;jt_xitemEID.oglh={"d3x_header":{"d3x_glid":jt_xitemEID.glid,"d3x_tbtype":"t3x_eid","d3x_tbname":"n3x_Enterprise","d3x_version":jt_tbrelease}};jt_xitemEID.glrs='{"d3x_header":{"d3x_glid":"'+jt_xitemEID.glid+'","d3x_tbtype":"t3x_eid",'+'"d3x_tbname":"n3x_Enterprise","d3x_version":"'+jt_tbrelease+'"}}';}
if(jr_o.jm_bEBIS)
{jt_xitemEBIS={glid:jt_I3tbid.makeByXEID(jr_o.jm_o3xxur,ji_slicech,A3xa2DefineTbid().jc_tbtype_ebis)};if(!jt_xitemEBIS.glid)
return false;jt_xitemEBIS.oglh={"d3x_header":{"d3x_glid":jt_xitemEBIS.glid,"d3x_tbtype":"t3x_ebis","d3x_tbname":"n3x_Enterprise","d3x_version":jt_tbrelease}};jt_xitemEBIS.glrs='{"d3x_header":{"d3x_glid":"'+jt_xitemEBIS.glid+'","d3x_tbtype":"t3x_ebis",'+'"d3x_tbname":"n3x_Enterprise","d3x_version":"'+jt_tbrelease+'"}}';}
if(jr_o.jm_bEBID)
{jt_xitemEBID={glid:jt_I3tbid.makeByXEID(jr_o.jm_o3xxur,ji_slicech,A3xa2DefineTbid().jc_tbtype_ebid)};if(!jt_xitemEBID.glid)
return false;jt_xitemEBID.oglh={"d3x_header":{"d3x_glid":jt_xitemEBID.glid,"d3x_tbtype":"t3x_ebid","d3x_tbname":"n3x_Enterprise","d3x_version":jt_tbrelease}};jt_xitemEBID.glrs='{"d3x_header":{"d3x_glid":"'+jt_xitemEBID.glid+'","d3x_tbtype":"t3x_ebid",'+'"d3x_tbname":"n3x_Enterprise","d3x_version":"'+jt_tbrelease+'"}}';}
if(jr_o.jm_bEI)
{jt_xitemEI={glid:jt_I3tbid.makeByXEID(jr_o.jm_o3xxur,ji_slicech,A3xa2DefineTbid().jc_tbtype_ei)};if(!jt_xitemEI.glid)
return false;jt_xitemEI.oglh={"d3x_header":{"d3x_glid":jt_xitemEI.glid,"d3x_tbtype":"t3x_ei","d3x_tbname":"n3x_Enterprise","d3x_version":jt_tbrelease}};jt_xitemEI.glrs='{"d3x_header":{"d3x_glid":"'+jt_xitemEI.glid+'","d3x_tbtype":"t3x_ei",'+'"d3x_tbname":"n3x_Enterprise","d3x_version":"'+jt_tbrelease+'"}}';}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("xur.QUR,xur.XEID,ji_GLent,ji_slicech,idForeign,glid,glrs="+
jr_o.jm_o3xxur.jm_QUR+","+jr_o.jm_o3xxur.Get_3xXEID().Get_String()+","+
ji_GLent+","+ji_slicech+","+ji_idForeign+","+
jt_xitemEID.glid+","+jt_xitemEID.glrs,"","A3xa3DataTableSlice.writeGLRS2");if(jr_o.jm_bEID&&!jg_oApp.WriteGLRS2(jt_xitemEID.glid,jt_xitemEID.oglh,jt_xitemEID.glrs))
return false;if(jr_o.jm_bEBIS&&!jg_oApp.WriteGLRS2(jt_xitemEBIS.glid,jt_xitemEBIS.oglh,jt_xitemEBIS.glrs))
return false;if(jr_o.jm_bEBID&&!jg_oApp.WriteGLRS2(jt_xitemEBID.glid,jt_xitemEBID.oglh,jt_xitemEBID.glrs))
return false;if(jr_o.jm_bEI&&!jg_oApp.WriteGLRS2(jt_xitemEI.glid,jt_xitemEI.oglh,jt_xitemEI.glrs))
return false;return true;};jr_o.dts.checkForeignGLRS2=function(ji_GLent,ji_slicech)
{return jr_o.dts.checkGLRS2(ji_GLent,ji_slicech,1);};jr_o.dts.writeForeignGLRS2=function(ji_GLent,ji_slicech)
{var jt_idForeign=1;while(jr_o.dts.checkGLRS2(ji_GLent,ji_slicech,jt_idForeign))
{if(!jr_o.dts.writeGLRS2(ji_GLent,ji_slicech,jt_idForeign))
return false;jt_idForeign++;}
return true;};return jr_o.dts;}"use strict";function A3xa2IDTCacheWriter()
{var jr_I={writeTable:function(){return false;},writeJSDS:function(){return false;},};return jr_I;}
function A3xa2DTCacheWriter(ji_odb,ji_glid,ji_oglh,ji_sGLRS)
{var jr_o={jm_odb:ji_odb,jm_glid:ji_glid,jm_oglh:ji_oglh,jm_sGLRS:(ji_sGLRS||""),jm_header_glid:null,jm_header_release:null,jm_o3xJSDS:null,jm_odt:null,csw:A3xa2IDTCacheWriter(),};jr_o.csw.writeTable=function()
{if(!(jr_o.jm_odb&&jr_o.jm_glid))
return false;if(!(jr_o.jm_sGLRS&&jQuery.type(jr_o.jm_sGLRS==="string")))
return false;jr_o.jm_odt=jr_o.jm_odb.NewDataTableCacheStore(jr_o.jm_glid);if(!jr_o.jm_odt)
return false;jr_o.jm_odb.jm_oDTStatus.SetCacheStatusInProgress("Cache Tableset "+jr_o.jm_glid);jr_o.jm_odb.Get_ArrayDTStore().Set_Item(jr_o.jm_glid,jr_o.jm_odt);jr_o.jm_odt.jm_oDTStatus.SetCacheStatusInProgress();jr_o.jm_o3xJSDS=jr_o.jm_odt.New3xJSDS(jr_o.jm_glid);if(!jr_o.jm_o3xJSDS)
return false;if(jr_o.jm_oglh)
{jr_o.jm_header_glid=jr_o.jm_oglh.d3x_header.d3x_glid;jr_o.jm_header_release=jr_o.jm_oglh.d3x_header.d3x_version;}
else
{jr_o.jm_header_glid=jr_o.jm_glid;jr_o.jm_header_release="";}
if(!jr_o.jm_o3xJSDS.Set_GLDString(jr_o.jm_glid,jr_o.jm_sGLRS))
{if(jr_o.jm_odb)
jr_o.jm_odb.jm_oDTStatus.SetCacheStatusFail("Cache Tableset Cache "+jr_o.jm_glid);return false;}
if(jr_o.jm_o3xJSDS.Get_Glid()!=jr_o.jm_glid)
{jr_o.jm_odt.jm_oDTStatus.SetCacheStatusFail("JSDS Glid");return false;}
if(!jr_o.jm_o3xJSDS.IsValid())
{jr_o.jm_odt.jm_oDTStatus.SetCacheStatusFail("JSDS");return false;}
if(jr_o.jm_header_glid!=jr_o.jm_glid)
{jr_o.jm_odt.jm_oDTStatus.SetCacheStatusFail("Header glid");return false;}
jr_o.jm_odt.jm_o3xJSDS=jr_o.jm_o3xJSDS;jr_o.jm_odt.Set_Glid(jr_o.jm_glid);jr_o.jm_odt.Set_Version(jr_o.jm_header_release);jr_o.jm_odt.jm_oDTStatus.SetCacheStatusSuccess();return(jr_o.jm_odt.jm_oDTStatus.IsSuccess());};return jr_o;}"use strict";function A3xaDefines_A3xaDatabase()
{this.jc_tidf_tid="f3x_tid";this.jc_DbSchemaVersion=52;this.jc_sDbDefaultPrimaryKeyName="xkey";this.jc_sDbName="A3xaDbZeroA";this.jc_oSTG_Common={jp_sGroupName:"A3XADB0STG_COMMON",jp_sKeyName:"xkey"};this.jc_oSTG_ComDyn={jp_sGroupName:"A3XADB0STG_COMDYN",jp_sKeyName:"xkey"};this.jc_oSTG_Enterp={jp_sGroupName:"A3XADB0STG_ENTERP",jp_sKeyName:"xkey"};this.jc_oSTG_EntDyn={jp_sGroupName:"A3XADB0STG_ENTDYN",jp_sKeyName:"xkey"};this.jc_aSchemaTableGroups=[this.jc_oSTG_Common,this.jc_oSTG_ComDyn,this.jc_oSTG_Enterp,this.jc_oSTG_EntDyn];}
function A3xaDatabase(ji_oDbSchema)
{var jt_this=this;this._A3xaDatabase=function()
{this.ClearArrayDTStore();this.ClearArrayDTLoad({jp_bTyp_TOC:true,jp_bTyp_Common:true,jp_bTyp_Gold:true,jp_bTyp_Silver:true,jp_bTyp_Main:true,jp_bTyp_Unique:true,jp_bTyp_Major:true,jp_bTyp_Subry:true});};this.Get_Storage=function(ji_glid)
{return this.Get_Storage_ByType(this.Get_StorageType(ji_glid));};this.Get_StorageType=function(ji_glid)
{return this.jm_oDbSchema.Get_StorageType(ji_glid);};this.Get_Storage_ByType=function(ji_StorageType)
{return jg_oe.Get_MgrStorage().Get_Storage(ji_StorageType);};this.jm_o3x2sdsdb_Store=null;this.Set_SDSDBStore=function(ji_o3x2sdsdb){this.jm_o3x2sdsdb_Store=ji_o3x2sdsdb;return true;};this.Get_SDSDBStore=function(){return this.jm_o3x2sdsdb_Store;};this.jm_o3x2sdsdb_Work=null;this.Set_SDSDBWork=function(ji_o3x2sdsdb){this.jm_o3x2sdsdb_Work=ji_o3x2sdsdb;return true;};this.Get_SDSDBWork=function(){return this.jm_o3x2sdsdb_Work;};this.jm_oDbSchema=(ji_oDbSchema||null);this.jm_oDTStatus=new GLDataStatusCache();this.jm_moreOnStoreAllData=0;this.jm_aoDTStatus_TableToClear=null;this.jm_o3x3aDataTableStore=null;this.jm_o3x3aDataTableLoad_TOC=null;this.jm_o3x3aDataTableLoad_Common=null;this.jm_o3x3aDataTableLoad_Gold=null;this.jm_o3x3aDataTableLoad_Silver=null;this.jm_o3x3aDataTableLoad_Main=null;this.jm_o3x3aDataTableLoad_Unique=null;this.jm_o3x3aDataTableLoad_Major=null;this.jm_o3x3aDataTableLoad_Subry=null;this.jm_odbTransaction=null;this.ClearArrayDTStore=function(){this.jm_o3x3aDataTableStore=A3xa3Array();return true;};this.Get_IArrayDTStore=function(){return this.jm_o3x3aDataTableStore;};this.Get_ArrayDTStore=function(){return this.Get_IArrayDTStore().O();};this.ClearArrayDTLoad=function(ji_pTypTables)
{if(!ji_pTypTables)
return false;if(ji_pTypTables.jp_bTyp_TOC)
this.jm_o3x3aDataTableLoad_TOC=A3xa3Array();if(ji_pTypTables.jp_bTyp_Common)
this.jm_o3x3aDataTableLoad_Common=A3xa3Array();if(ji_pTypTables.jp_bTyp_Gold)
this.jm_o3x3aDataTableLoad_Gold=A3xa3Array();if(ji_pTypTables.jp_bTyp_Silver)
this.jm_o3x3aDataTableLoad_Silver=A3xa3Array();if(ji_pTypTables.jp_bTyp_Main)
this.jm_o3x3aDataTableLoad_Main=A3xa3Array();if(ji_pTypTables.jp_bTyp_Unique)
this.jm_o3x3aDataTableLoad_Unique=A3xa3Array();if(ji_pTypTables.jp_bTyp_Major)
this.jm_o3x3aDataTableLoad_Major=A3xa3Array();if(ji_pTypTables.jp_bTyp_Subry)
this.jm_o3x3aDataTableLoad_Subry=A3xa3Array();return true;}
this.Get_IArrayDTLoad=function(ji_pTypTables)
{if(!ji_pTypTables)
return null;if(ji_pTypTables.jp_bTyp_TOC)
return this.jm_o3x3aDataTableLoad_TOC;else if(ji_pTypTables.jp_bTyp_Common)
return this.jm_o3x3aDataTableLoad_Common;else if(ji_pTypTables.jp_bTyp_Gold)
return this.jm_o3x3aDataTableLoad_Gold;else if(ji_pTypTables.jp_bTyp_Silver)
return this.jm_o3x3aDataTableLoad_Silver;else if(ji_pTypTables.jp_bTyp_Main)
return this.jm_o3x3aDataTableLoad_Main;else if(ji_pTypTables.jp_bTyp_Unique)
return this.jm_o3x3aDataTableLoad_Unique;else if(ji_pTypTables.jp_bTyp_Major)
return this.jm_o3x3aDataTableLoad_Major;else if(ji_pTypTables.jp_bTyp_Subry)
return this.jm_o3x3aDataTableLoad_Subry;return null;};this.Get_ArrayDTLoad=function(ji_pTypTables)
{var jr_o3x3a=this.Get_IArrayDTLoad(ji_pTypTables);return(jr_o3x3a?jr_o3x3a.O():null);};this.NewDataTableCacheStore=function(ji_glid){return this.NewDataTable(ji_glid);};this.NewDataTable=function(ji_glid){return null;};this.Get_DataTable=function(ji_glid,ji_bDontCheck)
{var jt_I3tbid=A3xa3Tbid(ji_glid);var jt_oxur=jg_oApp.Get_AppXUR().Get_3xXUR();if(!ji_glid)
{ji_glid=jt_I3tbid.makeByXEID(jt_oxur);}
else
ji_glid=jt_I3tbid.default2GlidXEID(jt_oxur);if(!ji_glid)
return null;var jr_odt=null;var jt_aodt=null;if(!jr_odt)
{jt_aodt=this.Get_ArrayDTLoad({jp_bTyp_Common:true});jr_odt=jt_aodt.Get_Item(ji_glid);}
if(!jr_odt)
{jt_aodt=this.Get_ArrayDTLoad({jp_bTyp_Gold:true});jr_odt=jt_aodt.Get_Item(ji_glid);}
if(!jr_odt)
{jt_aodt=this.Get_ArrayDTLoad({jp_bTyp_Silver:true});jr_odt=jt_aodt.Get_Item(ji_glid);}
if(!jr_odt)
{jt_aodt=this.Get_ArrayDTLoad({jp_bTyp_Main:true});jr_odt=jt_aodt.Get_Item(ji_glid);}
if(!jr_odt)
{jt_aodt=this.Get_ArrayDTLoad({jp_bTyp_Unique:true});jr_odt=jt_aodt.Get_Item(ji_glid);}
if(!jr_odt)
{jt_aodt=this.Get_ArrayDTLoad({jp_bTyp_Major:true});jr_odt=jt_aodt.Get_Item(ji_glid);}
if(!jr_odt)
{jt_aodt=this.Get_ArrayDTLoad({jp_bTyp_Subry:true});jr_odt=jt_aodt.Get_Item(ji_glid);}
if(!jr_odt)
{jt_aodt=this.Get_ArrayDTLoad({jp_bTyp_TOC:true});jr_odt=jt_aodt.Get_Item(ji_glid);}
if(ji_bDontCheck)
return jr_odt;if(!(jr_odt&&jr_odt.Get_Glid()==ji_glid))
return null;jg_oe.CanLogInfo()&&jg_oe.LogInfo("A3xaDatabase_Get_DataTable: "+
ji_glid+"="+jr_odt.jm_oDTStatus.Get_Descr2());if(!jr_odt.jm_oDTStatus.IsSuccessOrEmpty()&&!jr_odt.jm_oDTStatus.IsOpStore())
return null;return jr_odt;};this.Get_DataTableCacheStore=function(ji_glid)
{if(!ji_glid)
return null;if(!this.Get_ArrayDTStore())
return null;var jt_ogldt=this.Get_ArrayDTStore().Get_Item(ji_glid);if(!(jt_ogldt&&jt_ogldt.Get_Glid()==ji_glid))
return null;return jt_ogldt;};this.OnDataLoadedSetup=function()
{return true;};this.WriteGLRS2=function(ji_glid,ji_oglh,ji_sGLRS)
{var jr_b=false;if(!ji_glid)
return false;var jt_StorageType=this.Get_StorageType(ji_glid);var jt_I3tbid=A3xa3Tbid(ji_glid);if(jt_I3tbid.isDefault()&&jt_StorageType==jg_oe.jc_oStorage.jc_FLY)
{this.Get_Storage_ByType(jt_StorageType).Clear();}
var jt_tbtype=jt_I3tbid.getTbType();var jt_keyname=(jt_tbtype?jt_tbtype.tbtkeyname:"");var jt_glid_ei=jt_I3tbid.makeByType(ji_glid,A3xa2DefineTbid().jc_tbtype_ei);var jt_glid_ebid=jt_I3tbid.makeByType(ji_glid,A3xa2DefineTbid().jc_tbtype_ebid);var jt_glid_ebis=jt_I3tbid.makeByType(ji_glid,A3xa2DefineTbid().jc_tbtype_ebis);var jt_glid_eid=jt_I3tbid.makeByType(ji_glid,A3xa2DefineTbid().jc_tbtype_eid);jt_I3tbid.set(ji_glid);if(this.Get_SDSDBStore()&&jt_I3tbid.isEID()&&jt_I3tbid.isCommon()&&!jt_I3tbid.isSummary())
{this.jm_oDTStatus.SetCacheStatusInProgress("Cache Tableset "+jt_glid_eid);var jt_bFail=false;var jt_otb=this.NewDataTableCacheStore(jt_glid_eid);this.Get_ArrayDTStore().Set_Item(jt_glid_eid,jt_otb);var jt_o3x2tb=this.Get_SDSDBStore().db.get3x2Table(jt_glid_eid);if(!(jt_otb&&jt_o3x2tb&&jt_otb.Get_Glid()==jt_o3x2tb.tb.getGlid()))
{jt_bFail=true;if(jt_otb)
jt_otb.jm_oDTStatus.SetCacheStatusFail("Missing Table Name(1)");}
else
{jt_otb.Set_Version(jt_o3x2tb.tb.getVersion());jt_otb.Build_3xJSDS(jt_o3x2tb);jt_otb.jm_oDTStatus.SetCacheStatusSuccess();}
var jt_otbp=this.NewDataTableCacheStore(jt_glid_ebis);this.Get_ArrayDTStore().Set_Item(jt_glid_ebis,jt_otbp);var jt_o3x2tbp=this.Get_SDSDBStore().db.get3x2Table(jt_glid_ebis);if(!(jt_otbp&&jt_o3x2tbp&&jt_otbp.Get_Glid()==jt_o3x2tbp.tb.getGlid()))
{jt_bFail=true;if(jt_otbp)
jt_otbp.jm_oDTStatus.SetCacheStatusFail("Missing Table Name(2)");}
else
{jt_otbp.Set_Version(jt_o3x2tbp.tb.getVersion());jt_otbp.Build_3xJSDS(jt_o3x2tbp);jt_otbp.jm_oDTStatus.SetCacheStatusSuccess();}
var jt_otbn=this.NewDataTableCacheStore(jt_glid_ebid);this.Get_ArrayDTStore().Set_Item(jt_glid_ebid,jt_otbn);var jt_o3x2tbn=this.Get_SDSDBStore().db.get3x2Table(jt_glid_ebid);if(!(jt_otbn&&jt_o3x2tbn&&jt_otbn.Get_Glid()==jt_o3x2tbn.tb.getGlid()))
{jt_bFail=true;if(jt_otbn)
jt_otbn.jm_oDTStatus.SetCacheStatusFail("Missing Table Name(2)");}
else
{jt_otbn.Set_Version(jt_o3x2tbn.tb.getVersion());jt_otbn.Build_3xJSDS(jt_o3x2tbn);jt_otbn.jm_oDTStatus.SetCacheStatusSuccess();}
var jt_otbf=this.NewDataTableCacheStore(jt_glid_ei);this.Get_ArrayDTStore().Set_Item(jt_glid_ei,jt_otbf);var jt_o3x2tbf=this.Get_SDSDBStore().db.get3x2Table(jt_glid_ei);if(!(jt_otbf&&jt_o3x2tbf&&jt_otbf.Get_Glid()==jt_o3x2tbf.tb.getGlid()))
{jt_bFail=true;if(jt_otbf)
jt_otbf.jm_oDTStatus.SetCacheStatusFail("Missing Table Name(3)");}
else
{jt_otbf.Set_Version(jt_o3x2tbf.tb.getVersion());jt_otbf.Build_3xJSDS(jt_o3x2tbf);jt_otbf.jm_oDTStatus.SetCacheStatusSuccess();}
if(jt_bFail)
this.jm_oDTStatus.SetCacheStatusFail("Missing Table Name(4)"+jt_glid_eid);else
this.jm_oDTStatus.SetCacheStatusSuccess();}
else
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("ji_glid,ji_sGLRS: "+ji_glid+","+ji_sGLRS,"","A3xaDatabase.WriteGLRS2");var jt_o3x2dtcsw=A3xa2DTCacheWriter(this,ji_glid,ji_oglh,ji_sGLRS);jr_b=jt_o3x2dtcsw.csw.writeTable();}
return true;};this.StoreAllData=function(ji_bStart)
{if(this.jm_oDTStatus.IsFail())
return true;if(this.jm_moreOnStoreAllData++>0&&!ji_bStart)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Event Queued","","A3xaDatabase_StoreAllData");this.jm_moreOnStoreAllData=2;return true;}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Event Executive","","A3xaDatabase_StoreAllData");if(ji_bStart)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Begin","Cache Tables In Progress","A3xaDatabase_StoreAllData");this.jm_oDTStatus.SetCacheStatusInProgress();}
do
{if(this.jm_oDTStatus.IsOpCache()&&this.jm_oDTStatus.IsInProgress())
this.jm_oDTStatus.SetFrom(this.CheckCache(this.jm_oDTStatus));if(this.jm_oDTStatus.IsOpCache()&&this.jm_oDTStatus.IsSuccess())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Open Storage","Store Tables","A3xaDatabase_StoreAllData");this.jm_oDTStatus.SetStoreStatusOpen();}
if(this.jm_oDTStatus.IsOpStore()&&this.jm_oDTStatus.IsOpen())
{if(jg_oe.Get_MgrStorage().IsStorageDefaultOpen())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Check pending ","Clear Tables","A3xaDatabase_StoreAllData");this.jm_oDTStatus.SetClearStatusOpen();}
else if(!jg_oe.Get_MgrStorage().IsStorageDefaultOpening())
this.jm_oDTStatus.SetStoreStatusFail("Opening for Store");}
if(this.jm_oDTStatus.IsFail())
{if(jg_oe.Get_MgrStorage().IsStorageDefaultOpen())
this.jm_oDTStatus.SetClearStatusOpen();}
if(this.jm_oDTStatus.IsOpClear()&&this.jm_oDTStatus.IsOpen())
{var jt_os2=jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_Default);if(jt_os2&&jt_os2.IsClearRequest())
this.jm_oDTStatus.SetClearStatusInProgress();else
this.jm_oDTStatus.SetClearStatusSuccess();}
if(this.jm_oDTStatus.IsOpClear()&&this.jm_oDTStatus.IsInProgress())
this.jm_oDTStatus.SetFrom(this.ClearStored(this.jm_oDTStatus));if(this.jm_oDTStatus.IsOpClear()&&this.jm_oDTStatus.IsSuccessOrEmpty())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Begin to","Store Tables","A3xaDatabase_StoreAllData");jg_oe.LogStatusBar2(new A3xaString(["Storing","Almacenamiento","Armazenando","Memorizzando"]));this.jm_oDTStatus.SetStoreStatusInProgress();}
if(this.jm_oDTStatus.IsStoring())
this.jm_oDTStatus.SetFrom(this.StoreCache(this.jm_oDTStatus));ji_bStart=false;}
while(--this.jm_moreOnStoreAllData>0);return true;};this.CheckCache=function(ji_oDTStatus)
{if(!(ji_oDTStatus.IsOpCache()&&ji_oDTStatus.IsInProgress()))
return null;var jt_CountDT=0;if(this.Get_ArrayDTStore())
jt_CountDT=this.Get_ArrayDTStore().Get_Count();if(!jt_CountDT)
return new GLDataStatusCacheEmpty();for(var j=0;j<jt_CountDT;j++)
{var jt_ogldt=this.Get_ArrayDTStore().Get_Item_ByIndex(j);var jt_this=this;jt_ogldt.jm_oDTStatus.jm_fnOnChange=function(ji_oDTStatus)
{jt_this.StoreAllData(false);}}
var jr_oDTStatus=new GLDataStatusCacheSuccess("");for(var i=0;i<jt_CountDT;i++)
{var jt_ogldt=this.Get_ArrayDTStore().Get_Item_ByIndex(i);if(jt_ogldt.jm_oDTStatus.IsSuccess())
{if(jt_ogldt.jm_oDTStatus.IsFail())
{jg_oe.LogErr("Fail ("+jt_ogldt.Get_Glid()+")","","A3xaDatabase_CheckCache");return new GLDataStatusCache(jt_ogldt.jm_oDTStatus.jm_Status,"Cache Database Tableset");}
else if(jt_ogldt.jm_oDTStatus.IsInProgress())
{jr_oDTStatus.SetCacheStatusInProgress();}
else
{}}
else
jg_oe.CanLogInfo()&&jg_oe.LogInfo("p2000="+"Cached "+jt_ogldt.Get_Glid());}
return jr_oDTStatus;};this.OpenTransaction=function(ji_oStorageOpType,ji_otkm,ji_aGlid)
{if(!(ji_aGlid&&ji_aGlid[0]))
{var jt_s="Tables not defined";if(ji_oStorageOpType.bStore)
this.jm_oDTStatus.SetStoreStatusFail(jt_s);else if(ji_oStorageOpType.bLoad)
this.jm_oDTStatus.SetLoadStatusFail(jt_s);else if(ji_oStorageOpType.bClear)
this.jm_oDTStatus.SetClearStatusFail(jt_s);return null;}
var jt_os=null;if(ji_oStorageOpType.bClear)
jt_os=jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_Default);else
jt_os=this.Get_Storage(ji_aGlid[0]);if(!jt_os)
{var jt_s="Missing Storage Device";if(ji_oStorageOpType.bStore)
this.jm_oDTStatus.SetStoreStatusFail(jt_s);else if(ji_oStorageOpType.bLoad)
this.jm_oDTStatus.SetLoadStatusFail(jt_s);else if(ji_oStorageOpType.bClear)
this.jm_oDTStatus.SetClearStatusFail(jt_s);return null;}
var jt_oDbTransaction=jt_os.NewTransaction(ji_aGlid,ji_oStorageOpType,new A3xaDatabase_TransactionListener(this,ji_otkm));return jt_oDbTransaction;};this.ClearStored=function(ji_oDTStatus)
{if(!(ji_oDTStatus.IsOpClear()&&ji_oDTStatus.IsInProgress()))
return null;var jt_asTableNamesToClear=null;var jt_os2=jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_Default);if(jt_os2)
jt_asTableNamesToClear=jt_os2.Get_TableNames();if(!jt_asTableNamesToClear)
{this.jm_aoDTStatus_TableToClear=null;return new GLDataStatusClearSuccess();}
for(var i=0;i<jt_asTableNamesToClear.length;i++)
{var jt_glid=jt_asTableNamesToClear[i];if(!jt_glid)
continue;var jt_oDTStatusCur=null;if(!this.jm_aoDTStatus_TableToClear)
this.jm_aoDTStatus_TableToClear=[];if(!this.jm_aoDTStatus_TableToClear[jt_glid])
{this.jm_aoDTStatus_TableToClear[jt_glid]=new GLDataStatusClearOpen();}}
for(var i=0;i<jt_asTableNamesToClear.length;i++)
{var jt_glid=jt_asTableNamesToClear[i];if(!jt_glid)
continue;var jt_oDTStatusCur=this.jm_aoDTStatus_TableToClear[jt_glid];if(jt_oDTStatusCur.IsOpClear()&&jt_oDTStatusCur.IsInProgress())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p2000="+"Clear table In Progress "+jt_glid);return new GLDataStatusClearInProgress();}}
for(var i=0;i<jt_asTableNamesToClear.length;i++)
{var jt_glid=jt_asTableNamesToClear[i];if(!jt_glid)
continue;var jt_oDTStatusCur=this.jm_aoDTStatus_TableToClear[jt_glid];if(jt_oDTStatusCur.IsOpClear()&&jt_oDTStatusCur.IsOpen())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Clear table "+jt_glid);var jt_oDbTransaction=this.OpenTransaction({bClear:true},null,[jt_glid]);if(!jt_oDbTransaction)
{return new GLDataStatusClearFail("Clear Database Table "+jt_glid);}
jt_oDbTransaction.UsingTable(jt_glid);var jt_bResult=jt_os2.Clear(jt_oDbTransaction);jt_oDbTransaction.Release();if(!jt_bResult)
{return new GLDataStatusClearFail("Store Database Table "+jt_glid);}
return new GLDataStatusClearInProgress();}}
for(var i=0;i<jt_asTableNamesToClear.length;i++)
{var jt_glid=jt_asTableNamesToClear[i];if(!jt_glid)
continue;var jt_oDTStatusCur=this.jm_aoDTStatus_TableToClear[jt_glid];if(jt_oDTStatusCur.IsOpClear()&&jt_oDTStatusCur.IsSuccessOrEmpty())
{return new GLDataStatusClearFail("Clear Database Table. Unknown Status"+jt_ogldt.Get_Glid());}}
return new GLDataStatusClearSuccess("");};this.StoreCache=function(ji_oDTStatus)
{if(!ji_oDTStatus.IsStoring())
return null;var jt_CountDT=0;if(this.Get_ArrayDTStore())
jt_CountDT=this.Get_ArrayDTStore().Get_Count();if(!jt_CountDT)
return null;for(var i=0;i<jt_CountDT;i++)
{var jt_ogldt=this.Get_ArrayDTStore().Get_Item_ByIndex(i);if(jt_ogldt.jm_oDTStatus.IsFail())
{jg_oe.LogErr("Fail ("+jt_ogldt.Get_Glid()+")","","A3xaDatabase_StoreCache");return new GLDataStatusStore(jt_ogldt.jm_oDTStatus.jm_Status,"Store Database Tableset");}}
for(i=0;i<jt_CountDT;i++)
{var jt_ogldt=this.Get_ArrayDTStore().Get_Item_ByIndex(i);if(jt_ogldt.jm_oDTStatus.IsOpStore()&&jt_ogldt.jm_oDTStatus.IsInProgress())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p2000="+"Store Cache In Progress "+jt_ogldt.Get_Glid());return new GLDataStatusStoreInProgress();}}
for(i=0;i<jt_CountDT;i++)
{var jt_ogldt=this.Get_ArrayDTStore().Get_Item_ByIndex(i);if(!jt_ogldt.jm_oDTStatus.IsOpStore()&&jt_ogldt.jm_oDTStatus.IsSuccess()&&!jt_ogldt.jm_oDTStatusStore.IsOpStore())
{jt_ogldt.jm_oDTStatus.SetStoreStatusInProgress();jt_ogldt.jm_oDTStatusStore.SetStoreStatusInProgress();var jt_oDbTransaction=this.OpenTransaction({bStore:true},null,[jt_ogldt.Get_Glid()]);if(!jt_oDbTransaction)
{return new GLDataStatusStoreFail("Store Database Table "+jt_ogldt.Get_Glid());}
jg_oe.LogStatusBar2(new A3xaString(["Storing... "+this.jm_oDbSchema.Get_Descr(jt_ogldt.Get_Glid()),"Almacenamiento... "+this.jm_oDbSchema.Get_Descr(jt_ogldt.Get_Glid()),"Armazenando... "+this.jm_oDbSchema.Get_Descr(jt_ogldt.Get_Glid()),"Memorizzando... "+this.jm_oDbSchema.Get_Descr(jt_ogldt.Get_Glid())]),true);jt_oDbTransaction.UsingTable(jt_ogldt.Get_Glid());var jt_bResult=jt_ogldt.StoreToGLS(jt_oDbTransaction);jt_oDbTransaction.Release();if(!jt_bResult)
{return new GLDataStatusStoreFail("Store Database Table "+jt_ogldt.Get_Glid());}
return new GLDataStatusStoreInProgress();}}
for(i=0;i<jt_CountDT;i++)
{var jt_ogldt=this.Get_ArrayDTStore().Get_Item_ByIndex(i);if(!jt_ogldt.jm_oDTStatus.IsSuccess())
{return new GLDataStatusStoreFail("Store Database Table. Unknown Status"+jt_ogldt.Get_Glid());}}
return new GLDataStatusStoreSuccess("");};this.StoreTOC=function(ji_bStart)
{var jt_odtTOC=this.Get_TOC();if(!(jt_odtTOC&&jt_odtTOC.Get_Glid()))
{this.jm_oDTStatus.SetStoreStatusFail();return false;}
if(ji_bStart)
{jg_oe.LogStatusBar2(new A3xaString(["Storing TOC","Almacenamiento TOC","Armazenando TOC","Memorizzando TOC"]));var jt_o3x2tb=this.Get_SDSDBWork().db.get3x2Table(jt_odtTOC.Get_Glid(),null,null);if(!jt_odtTOC.Build_3xJSDS(jt_o3x2tb))
{this.jm_oDTStatus.SetStoreStatusFail("Building JSON TOC");return false;}
this.jm_oDTStatus.SetStoreStatusInProgress();var jt_oDbTransaction=this.OpenTransaction({bStore:true},null,[jt_odtTOC.Get_Glid()]);if(!jt_oDbTransaction)
{this.jm_oDTStatus.SetStoreStatusFail("Store TOC Transaction");return false;}
jg_oe.LogStatusBar2(new A3xaString(["Storing... "+this.jm_oDbSchema.Get_Descr(jt_odtTOC.Get_Glid()),"Almacenamiento... "+this.jm_oDbSchema.Get_Descr(jt_odtTOC.Get_Glid()),"Armazenando... "+this.jm_oDbSchema.Get_Descr(jt_odtTOC.Get_Glid()),"Memorizzando... "+this.jm_oDbSchema.Get_Descr(jt_odtTOC.Get_Glid())]),true);jt_oDbTransaction.UsingTable(jt_odtTOC.Get_Glid());jt_odtTOC.jm_oDTStatus.jm_fnOnChange=function(ji_oDTStatus)
{jt_this.StoreTOC(false);}
var jt_bResult=jt_odtTOC.StoreToGLS(jt_oDbTransaction);jg_oe.CanLogInfo({DB:3,DBT:"db"})&&jg_oe.LogInfo("db.StoreTOC()-After-StoreToGLS()="+jt_odtTOC.jm_oDTStatus.Get_Descr2());jt_oDbTransaction.Release();jg_oe.CanLogInfo({DB:3,DBT:"db"})&&jg_oe.LogInfo("db.StoreTOC()-After-Release()="+jt_odtTOC.jm_oDTStatus.Get_Descr2());if(!jt_bResult)
{this.jm_oDTStatus.SetStoreStatusFail("Store TOC");return false;}}
jg_oe.CanLogInfo({DB:3,DBT:"db"})&&jg_oe.LogInfo("db.StoreTOC()-Status="+jt_odtTOC.jm_oDTStatus.Get_Descr2());if(jt_odtTOC&&jt_odtTOC.jm_oDTStatus.IsDone())
jt_odtTOC.jm_oDTStatus.jm_fnOnChange=function(ji_oDTStatus){}
this.jm_oDTStatus.SetFrom(jt_odtTOC.jm_oDTStatus);return true;};this.Get_TOC=function()
{var jt_glid=A3xa2DefineTbid().jc_GLID_TOC;var jt_I3tbid=A3xa3Tbid(jt_glid);var jt_tbtype=jt_I3tbid.getTbType();var jt_keyname=(jt_tbtype?jt_tbtype.tbtkeyname:"");var jr_odtTOC=this.Get_DataTable(jt_glid,true);if(!jr_odtTOC)
return null;return jr_odtTOC;};this.Get_3x2TOC=function()
{return this.Get_SDSDBWork().db.get3x2Table(A3xa2DefineTbid().jc_GLID_TOC,null,null);};this.Get_TOCItem=function(ji_glid,ji_bCheckVersion)
{if(!ji_glid)
return null;var jt_I3tbid=A3xa3Tbid(ji_glid);if(jt_I3tbid.isTOC())
return null;var jt_odtTOC=this.Get_TOC();if(!jt_odtTOC)
return null;var jt_o3x2tbTOC=this.Get_3x2TOC();if(!jt_o3x2tbTOC)
return null;var jr_pisdsRecord=jt_o3x2tbTOC.tb.getRecord_ByKey(ji_glid);if(jr_pisdsRecord&&!(ji_bCheckVersion===false))
{var jt_DbDefaultVersion=this.Get_SDSDBStore().db.getDefaultDbVersion();if(jr_pisdsRecord.fields&&jr_pisdsRecord.fields[1]&&jt_DbDefaultVersion&&jt_DbDefaultVersion!=jr_pisdsRecord.fields[1])
{return null;}}
return jr_pisdsRecord;};this.AddTOCItem=function(ji_glid,ji_release)
{if(!ji_glid)
return false;var jt_I3tbid=A3xa3Tbid(ji_glid);if(jt_I3tbid.isTOC())
return false;var jt_odtTOC=this.Get_TOC();if(!jt_odtTOC)
return false;var jt_o3x2tbTOC=this.Get_SDSDBWork().db.get3x2Table(A3xa2DefineTbid().jc_GLID_TOC,null,null);if(!jt_o3x2tbTOC)
return false;var jr_pisdsRecord=jt_o3x2tbTOC.tb.getRecord_ByKey(ji_glid);if(jr_pisdsRecord)
{var jt_DbDefaultVersion=this.Get_SDSDBStore().db.getDefaultDbVersion();if(jr_pisdsRecord.fields&&jr_pisdsRecord.fields[1]&&jt_DbDefaultVersion&&jt_DbDefaultVersion!=jr_pisdsRecord.fields[1])
{if(jr_pisdsRecord.o3x2rec)
jr_pisdsRecord.o3x2rec.rec.setFieldValue(1,ji_release);}
return true;}
var jt_pisdsRecord=jt_o3x2tbTOC.tb.addRecord_ByKey(ji_glid,[ji_glid,ji_release],true);if(jg_oe.CanLogInfo())
{var jr_pisdsRecord=jt_o3x2tbTOC.tb.getRecord_ByKey(ji_glid);jg_oe.CanLogInfo()&&jg_oe.LogInfo("ji_glid,jt_pisdsRecord.fields[1],jr_pisdsRecord.fields[1]="+
ji_glid+","+(jt_pisdsRecord?jt_pisdsRecord.fields[1]:"NOK")+","+(jr_pisdsRecord?jr_pisdsRecord.fields[1]:"NOK"),"","A3xaDatabase.AddTOCItem");}
return true;};this.RemoveTOCItem=function(ji_glid)
{if(!ji_glid)
return false;var jt_I3tbid=A3xa3Tbid(ji_glid);if(jt_I3tbid.isTOC())
return false;var jt_odtTOC=this.Get_TOC();if(!jt_odtTOC)
return false;var jt_o3x2tbTOC=this.Get_SDSDBWork().db.get3x2Table(A3xa2DefineTbid().jc_GLID_TOC,null,null);if(!jt_o3x2tbTOC)
return false;var jt_pisdsRecord=jt_o3x2tbTOC.tb.removeRecord_ByKey(ji_glid,true);return true;};this.RemoveTOCAll=function()
{var jt_odtTOC=this.Get_TOC();if(!jt_odtTOC)
return false;return true;};this._A3xaDatabase();}
function A3xaDatabase_TransactionListener(ji_odb,ji_otkm)
{A3xaStorage_TransactionListener.call(this,null);this.OnOpenStorage=function A3xaDatabase_TransactionListener_OnOpenStorage(ji_odbtr,ji_oidbEvent)
{if(!ji_odbtr)
return false;if(!this.jm_odb)
return false;if(ji_odbtr.jm_oStorageOpType.bOpenStore)
this.jm_odb.StoreAllData(false);else if(ji_odbtr.jm_oStorageOpType.bOpenLoad)
{this.jm_otkm.Task();}
return true;};this.OnOpenStorageError=function(ji_odbtr,ji_oidbEvent,ji_sMessage)
{if(!ji_odbtr)
return false;if(!this.jm_odb)
return false;if(ji_odbtr.jm_oStorageOpType.bOpenStore)
this.jm_odb.StoreAllData(false);else if(ji_odbtr.jm_oStorageOpType.bOpenLoad)
{this.jm_otkm.Task();}
return true;};this.OnTransactionComplete=function(ji_odbtr,ji_oidbEvent)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p1","A3xaDatabase_TransactionListener_OnTransactionComplete");if(!ji_odbtr)
return false;if(!this.jm_odb)
return false;if(!ji_odbtr.jm_aDbTableName)
return false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("p2","A3xaDatabase_TransactionListener_OnTransactionComplete");if(ji_odbtr.jm_oStorageOpType.bStore)
{for(var i=0;i<ji_odbtr.jm_aDbTableName.length;i++)
{var jt_glid=ji_odbtr.jm_aDbTableName[i];var jt_odt=null;var jt_I3tbid=A3xa3Tbid(jt_glid);if(jt_I3tbid.isTOC())
{jt_odt=this.jm_odb.Get_TOC();if(jt_odt)
jt_odt.OnTransactionComplete(ji_oidbEvent,ji_odbtr.jm_oStorageOpType);}
else
{jt_odt=this.jm_odb.Get_DataTableCacheStore(jt_glid);if(jt_odt)
{jt_odt.OnTransactionComplete(ji_oidbEvent,ji_odbtr.jm_oStorageOpType);this.jm_odb.AddTOCItem(jt_glid,jt_odt.Get_Version());}}}}
else if(ji_odbtr.jm_oStorageOpType.bLoad)
{for(var i=0;i<ji_odbtr.jm_aDbTableName.length;i++)
{var jt_odt=null;var jt_glid=ji_odbtr.jm_aDbTableName[i];var jt_I3tbid=A3xa3Tbid(jt_glid);if(jt_I3tbid.isTOC())
{jt_odt=this.jm_odb.Get_TOC();}
else
{jt_odt=this.jm_odb.Get_DataTable(jt_glid,true);}
if(jt_odt)
jt_odt.OnTransactionComplete(ji_oidbEvent,ji_odbtr.jm_oStorageOpType);}}
else if(ji_odbtr.jm_oStorageOpType.bClear)
{this.jm_odb.StoreAllData(false);this.jm_odb.RemoveTOCAll();}
return true;};this.OnTransactionError=function(ji_odbtr,ji_oidbEvent,ji_sMessage)
{if(!ji_odbtr)
return false;if(!this.jm_odb)
return false;if(!ji_odbtr.jm_aDbTableName)
return false;if(ji_odbtr.jm_oStorageOpType.bStore)
{for(var i=0;i<ji_odbtr.jm_aDbTableName.length;i++)
{var jt_odt=null;var jt_glid=ji_odbtr.jm_aDbTableName[i];var jt_I3tbid=A3xa3Tbid(jt_glid);if(jt_I3tbid.isTOC())
{jt_odt=this.jm_odb.Get_TOC();}
else
jt_odt=this.jm_odb.Get_DataTableCacheStore(jt_glid);if(jt_odt)
jt_odt.OnTransactionError(ji_oidbEvent,ji_sMessage,ji_odbtr.jm_oStorageOpType);}}
else if(ji_odbtr.jm_oStorageOpType.bLoad)
{for(var i=0;i<ji_odbtr.jm_aDbTableName.length;i++)
{var jt_odt=null;var jt_glid=ji_odbtr.jm_aDbTableName[i];var jt_I3tbid=A3xa3Tbid(jt_glid);if(jt_I3tbid.isTOC())
{jt_odt=this.jm_odb.Get_TOC();}
else
{jt_odt=this.jm_odb.Get_DataTable(jt_glid,true);}
if(jt_odt)
jt_odt.OnTransactionError(ji_oidbEvent,ji_sMessage,ji_odbtr.jm_oStorageOpType);}}
else if(ji_odbtr.jm_oStorageOpType.bClear)
{this.jm_odb.StoreAllData(false);}
return true;};this.OnClearStorage=function(ji_odbtr,ji_oidbEvent)
{if(!ji_odbtr)
return false;if(!this.jm_odb)
return false;if(!ji_odbtr.jm_aDbTableName)
return false;for(var i=0;i<ji_odbtr.jm_aDbTableName.length;i++)
{var jt_glid=ji_odbtr.jm_aDbTableName[i];if(!jt_glid)
continue;jg_oe.CanLogInfo()&&jg_oe.LogInfo("Cleared table: "+jt_glid,"","A3xaDatabase_TransactionListener_OnClearStorage");var jt_odtClear=this.jm_odb.jm_aoDTStatus_TableToClear[jt_glid];if(jt_odtClear)
jt_odtClear.SetClearStatusSuccess();this.jm_odb.RemoveTOCItem(jt_glid);}
return true;};this.OnClearStorageError=function(ji_odbtr,ji_oidbEvent,ji_sMessage)
{if(!ji_odbtr)
return false;if(!this.jm_odb)
return false;if(!ji_odbtr.jm_aDbTableName)
return false;for(var i=0;i<ji_odbtr.jm_aDbTableName.length;i++)
{var jt_glid=ji_odbtr.jm_aDbTableName[i];if(!jt_glid)
continue;var jt_odtClear=this.jm_odb.jm_aoDTStatus_TableToClear[jt_glid];if(jt_odtClear)
jt_odtClear.SetClearStatusFail();}
return true;};this.jm_odb=(ji_odb||null);this.jm_otkm=(ji_otkm||null);}"use strict";function A3xaTaskHXLoader(ji_fnOnChange,ji_oDatabase,ji_Glid)
{A3xaTaskManager.call(this,ji_fnOnChange);var jt_this=this;this.jm_oDTStatus.jm_Operation=A3xa2DefineDtSts().jc_DTStatus2_OpLoad;this.jm_oDatabase=(ji_oDatabase||null);this.jm_Glid=(ji_Glid||null);this.jm_odtToLoad=null;if(this.jm_oDatabase&&this.jm_Glid)
this.jm_odtToLoad=this.jm_oDatabase.NewDataTable(this.jm_Glid);this._OnRelease=function()
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("","","A3xaTaskHXLoader._OnRelease");if(!this.jm_odtToLoad)
return false;this.jm_odtToLoad.jm_oDTStatus.jm_fnOnChange=null;this.jm_odtToLoad=null;return true;};this._CheckStatus=function(){return this.jm_odtToLoad?this.jm_odtToLoad.jm_oDTStatus:null;};this._OnStart=function()
{if(!this.jm_oDatabase)
{this.jm_oDTStatus.SetLoadStatusFail("Database not defined");return false;}
if(!this.jm_Glid)
{this.jm_oDTStatus.SetLoadStatusFail("Tablename not defined");return false;}
if(!this.jm_odtToLoad)
{this.jm_oDTStatus.SetLoadStatusFail("Cannot Create Table Cache "+this.jm_Glid);return false;}
this.jm_odtToLoad.jm_oDTStatus.jm_fnOnChange=function(){return jt_this.Task();};this.jm_oDTStatus.SetLoadStatusInProgress();var jt_oDbTransaction=this.jm_oDatabase.OpenTransaction({bLoad:true},this,[this.jm_Glid]);jt_oDbTransaction.UsingTable(this.jm_Glid);var jt_bResult=this.jm_odtToLoad.LoadFromGLS(this.jm_Glid,jt_oDbTransaction);jt_oDbTransaction.Release();if(jt_bResult)
{return true;}
this.jm_oDTStatus.SetLoadStatusFail("Load Table "+this.jm_Glid);return false;};this._OnEnd=function(ji_oDTStatusEnd)
{if(!ji_oDTStatusEnd)
return ji_oDTStatusEnd;if(ji_oDTStatusEnd.IsFail())
return ji_oDTStatusEnd;if(!this.jm_odtToLoad)
return ji_oDTStatusEnd;var jt_glid=this.jm_odtToLoad.Get_Glid();if(this.jm_odtToLoad.jm_oDTStatus.IsFail())
{if(this.jm_oDatabase.jm_oDbSchema.IsMandatory(jt_glid))
return this.jm_odtToLoad.jm_oDTStatus;}
else if(this.jm_odtToLoad.jm_oDTStatus.IsEmpty())
{if(this.jm_oDatabase.jm_oDbSchema.IsMandatory(jt_glid))
return this.jm_odtToLoad.jm_oDTStatus;}
else if(!this.jm_odtToLoad.jm_oDTStatus.IsSuccess())
{if(this.jm_oDatabase.jm_oDbSchema.IsMandatory(jt_glid))
{ji_oDTStatusEnd.SetLoadStatusFail("Load Unknown Status"+jt_glid);return ji_oDTStatusEnd;}}
if(this.jm_odtToLoad.jm_oDTStatus.IsSuccess())
{if(this.jm_oDatabase.Get_SDSDBWork()&&this.jm_odtToLoad.Get_3xJSDS())
{if(this.jm_oDatabase.Get_SDSDBWork().db.addD3xTable(this.jm_odtToLoad.Get_3xJSDS().Get_GLDString(),true))
{var jt_o3x2tb=this.jm_oDatabase.Get_SDSDBWork().db.get3x2Table(jt_glid);if(!(jt_o3x2tb&&jt_o3x2tb.tb.getGlid()==this.jm_odtToLoad.Get_Glid()))
return new GLDataStatusCacheFail("Header glid");this.jm_odtToLoad.Set_Version(jt_o3x2tb.tb.getVersion());}}}
return new GLDataStatusLoadSuccess();};}"use strict";function A3xaMTHXLoader(ji_fnOnChange,ji_oDatabase,ji_aGlid,ji_aodtToLoad,ji_pTypTables)
{A3xaTaskManager.call(this,ji_fnOnChange);var jt_this=this;this.jm_oDTStatus.jm_Operation=A3xa2DefineDtSts().jc_DTStatus2_OpLoad;this.jm_oDatabase=(ji_oDatabase||null);this.jm_aGlidToLoad=(ji_aGlid||null);this.jm_aGlidQueue=null;this.jm_otktbLoader=null;this._OnRelease=function()
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("","","A3xaMTHXLoader._OnRelease");return this.ReleaseCurrentTbTaskLoader();};this.ReleaseCurrentTbTaskLoader=function()
{if(!this.jm_otktbLoader)
return false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("","","A3xaMTHXLoader.ReleaseCurrentTbTaskLoader");this.jm_otktbLoader.Release();this.jm_otktbLoader=null;return true;};this.StartNextTbTaskLoader=function()
{if(!(this.jm_aGlidQueue&&this.jm_aGlidQueue.length))
return false;var jt_Glid=this.jm_aGlidQueue.shift();if(!jt_Glid)
return false;jg_oe.LogStatusBar2(new A3xaString(["Loading... "+this.jm_oDatabase.jm_oDbSchema.Get_Descr(jt_Glid),"Cargando... "+this.jm_oDatabase.jm_oDbSchema.Get_Descr(jt_Glid),"Carregando... "+this.jm_oDatabase.jm_oDbSchema.Get_Descr(jt_Glid),"Caricamento... "+this.jm_oDatabase.jm_oDbSchema.Get_Descr(jt_Glid)]),true);var jt_otktbLoader=new A3xaTaskHXLoader(function(){return jt_this.Task();},this.jm_oDatabase,jt_Glid);if(!jt_otktbLoader.jm_odtToLoad)
return false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("Table id: "+jt_Glid,"","A3xaMTHXLoader.StartNextTbTaskLoader");ji_aodtToLoad.Set_Item(jt_Glid,jt_otktbLoader.jm_odtToLoad);this.jm_otktbLoader=jt_otktbLoader;this.jm_oDTStatus.SetLoadStatusInProgress();jt_otktbLoader.Start();return true;};this._OnEnd=function(ji_oDTStatusEnd)
{if(ji_oDTStatusEnd&&ji_oDTStatusEnd.IsFail())
return ji_oDTStatusEnd;for(var i=0;i<this.jm_aGlidToLoad.length;i++)
{var jt_ogldt=ji_aodtToLoad.Get_Item(this.jm_aGlidToLoad[i]);var jt_glid=null;if(jt_ogldt)
jt_glid=jt_ogldt.Get_Glid();if(!jt_glid||jt_glid!=this.jm_aGlidToLoad[i])
{jg_oe.LogErr("Fail tablename missing or wrong name: "+
jt_glid+"=="+this.jm_aGlidToLoad[i],"","A3xaMTHXLoader._OnEnd");if(!this.jm_aGlidToLoad[i]||this.jm_oDatabase.jm_oDbSchema.IsMandatory(this.jm_aGlidToLoad[i]))
return new GLDataStatusLoadFail("Load Database Tableset 1");continue;}
if(jt_ogldt.jm_oDTStatus.IsFail())
{jg_oe.LogErr("Fail ("+jt_glid+")","","A3xaMTHXLoader._OnEnd");if(this.jm_oDatabase.jm_oDbSchema.IsMandatory(jt_glid))
return new GLDataStatusLoadFail("Load Database Tableset 1");}
else if(jt_ogldt.jm_oDTStatus.IsEmpty())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Empty ("+jt_ogldt.Get_Glid()+")","","A3xaMTHXLoader._OnEnd");if(this.jm_oDatabase.jm_oDbSchema.IsMandatory(jt_glid))
return new GLDataStatusLoadFail("Load Database Tableset 1");}
else if(!jt_ogldt.jm_oDTStatus.IsSuccess())
{if(this.jm_oDatabase.jm_oDbSchema.IsMandatory(jt_glid))
return new GLDataStatusLoadFail("Load Database Table. Unknown Status"+jt_glid);}}
return new GLDataStatusLoadSuccess();};this._CheckStatus=function()
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("this.jm_otktbLoader="+
(this.jm_otktbLoader?this.jm_otktbLoader.jm_oDTStatus.Get_Descr2():"null"),"","A3xaMTHXLoader._CheckStatus");var jr_oDTStatus=new GLDataStatus();jr_oDTStatus.jm_Target=this.Get_Target();jr_oDTStatus.jm_Operation=this.Get_Operation();jr_oDTStatus.jm_Status=this.Get_Status();if(!this.IsInProgress())
{jg_oe.LogErr("Unexpected Status","","A3xaMTHXLoader._CheckStatus");return null;}
if(this.IsOpening()||(this.jm_otktbLoader&&this.jm_otktbLoader.IsDone()))
{this.ReleaseCurrentTbTaskLoader();if(!(this.jm_aGlidQueue&&this.jm_aGlidQueue.length))
{jr_oDTStatus.SetLoadStatusSuccess();return jr_oDTStatus;}
if(!this.StartNextTbTaskLoader())
{jr_oDTStatus.SetLoadStatusFail();return jr_oDTStatus;}}
if(!this.jm_otktbLoader)
{jg_oe.LogErr("TaskLoader is null","","A3xaMTHXLoader._CheckStatus");return null;}
if(this.jm_otktbLoader.IsInProgress())
{jr_oDTStatus.SetLoadStatusInProgress();return jr_oDTStatus;}
if(this.jm_otktbLoader.IsFail())
{jr_oDTStatus.SetLoadStatusFail(this.jm_otktbLoader.jm_oDTStatus.jm_sMessage);this.ReleaseCurrentTbTaskLoader();return jr_oDTStatus;}
if(this.jm_otktbLoader.IsSuccess()||this.jm_otktbLoader.IsEmpty())
{return this._CheckStatus();}
jr_oDTStatus.SetLoadStatusFail("Unexpected");return jr_oDTStatus;};this._OnStart=function()
{if(!(this.jm_aGlidToLoad&&this.jm_aGlidToLoad.length))
{this.jm_oDTStatus.SetLoadStatusFail("Tablenames not defined");return false;}
this.jm_aGlidQueue=[];for(var i=0;i<this.jm_aGlidToLoad.length;i++)
this.jm_aGlidQueue.push(this.jm_aGlidToLoad[i]);return true;};}"use strict";function A3xa3IAjaxTables()
{var jr_I={I:function(){return null;},requestMain:function(ji_fnOnDone){return false;},get3xXUR:function(){return null;}};return jr_I;}
function A3xa3AjaxTables()
{var jr_o={jm_oxur:null,jxt:A3xa3IAjaxTables()};jr_o.jxt.I=function(){return{Ijxt:jr_o.jxt};};jr_o.jxt.get3xXUR=function(){return jr_o.jm_oxur;};jr_o.jxt.requestMain=function(ji_fnOnDone,ji_o3xxur)
{jg_oe.LogStatusBar2(new A3xaString(["Request Main","Solicitud Datos Principal","Solicitação Dados Principal","Richiesta Dati Principali"]));if(!ji_o3xxur)
{var ji_o3xxur=new A3xaXur();ji_o3xxur.CopyFromXUR(jg_oApp.Get_AppXUR().Get_3xXUR());ji_o3xxur.jm_FormName=jg_oe.jc_oXUR.jc_XURFN_ListEntity;ji_o3xxur.jm_TypAjaxResponse=jg_oe.jc_oXUR.jc_sAjaxTypEntitySet;}
var jt_oxeidXUR=ji_o3xxur.Get_3xXEID();var jt_te=jt_oxeidXUR.Get_TypEntity();if(jt_te&&jt_te!=jg_oe.jc_oEntity.jc_Typ_Enterprise)
return false;ji_o3xxur.jm_FormName=jg_oe.jc_oXUR.jc_XURFN_AjaxEntity;jr_o.jm_oxur=ji_o3xxur;$.ajax({method:"POST",timeout:10000,url:jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",data:{p3k:"1",p3x:ji_o3xxur.Get_XURCC(),p3n:JSON.stringify({mark:"J3",oppg:"app_entityset",optyp:"exec",code:"",msg:""},function(ji_k,ji_v)
{return ji_v;})},success:function(ji_response)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo(ji_response,"","A3xa3AjaxTables.ajax.success");var jt_oResponse=JSON.parse(ji_response,function(ji_k,ji_v)
{return ji_v;});if(jt_oResponse&&jt_oResponse.mark=="J3"&&jt_oResponse.oppg=="app_entityset")
{var jt_bSuccess=false;if(jt_oResponse.result=="success")
{var jt_o3x3dtslice=A3xa3DataTableSlice(A3xa3DataSourceGLRSPool(jt_oResponse.data),jr_o.jxt.get3xXUR());if(jt_o3x3dtslice.writeGLRS2All())
jt_bSuccess=true;}
if(ji_fnOnDone)
ji_fnOnDone(jt_bSuccess,jr_o.jxt.get3xXUR());}},error:function(ji_response)
{}});return true;};return jr_o.jxt;}"use strict";function A3xaDataManager(ji_fnOnLoadDone,ji_oDatabase)
{this.jm_fnOnLoadDone=(ji_fnOnLoadDone||null);this.jm_oDatabase=(ji_oDatabase||null);this.jm_odbLoader=null;var jt_this=this;this.LoadEnterprises=function(){return this.ManageData(false,true,false,false);};this.ManageNewAjaxData=function(){return this.ManageData(false,true,true,false);};this.ManagePreloadedData=function(){return this.ManageData(true,true,true,true);};this.ManageData=function(ji_bLoadCommon,ji_bLoadEnterprise,ji_bStoreAll,ji_bPreloaded)
{var jt_o3xxur=jg_oApp.Get_AppXUR().Get_3xXUR();var jt_oxeidXUR=jt_o3xxur.Get_3xXEID();var jt_bEnterprise=(!jt_oxeidXUR.Get_TypEntity()||jt_oxeidXUR.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise);var jt_fnThatsAllFolks=function(ji_oDTStatus)
{if(jt_this.jm_fnOnLoadDone)
jt_this.jm_fnOnLoadDone(ji_oDTStatus);return true;};var jt_fnOnLoadEnterprisesDone=function(ji_oDTStatus)
{var jr_b=false;if(!(ji_bStoreAll===false)&&!jg_oApp.Get_WebbotName()&&ji_oDTStatus&&ji_oDTStatus.IsSuccessOrEmpty())
{jr_b=jt_this.ManageDataStoreAll(function(ji_bSuccess)
{return true;},jt_o3xxur);}
jr_b=jt_fnThatsAllFolks(ji_oDTStatus);return jr_b;};var jt_fnOnLoadCommon2Done=function(ji_bSuccess)
{if(!ji_bSuccess)
return jt_fnThatsAllFolks(new GLDataStatusLoadFail());if(!(ji_bLoadEnterprise===false)&&jt_bEnterprise)
{return jt_this.ManageDataLoadEnterprises(jt_fnOnLoadEnterprisesDone,jt_o3xxur)}
return jt_fnOnLoadEnterprisesDone(new GLDataStatusLoadSuccess());};if(ji_bLoadCommon===false)
{jt_fnOnLoadCommon2Done(true);}
else
{this.ManageDataLoadCommon(function(ji_bSuccess)
{if(ji_bSuccess)
return jt_this.ManageDataRequest(jt_fnOnLoadCommon2Done,jt_o3xxur,true,ji_bPreloaded);return jt_fnThatsAllFolks(new GLDataStatusLoadFail());});}
return true;};this.ManageDataLoadCommon=function(ji_fnOnLoadCommonDone)
{var jt_fnOnLoadCommonDone=function(ji_bSuccess)
{if(!ji_bSuccess)
{if(jt_this.LoadCacheStoreCommon())
ji_bSuccess=true;}
if(ji_fnOnLoadCommonDone)
return ji_fnOnLoadCommonDone(ji_bSuccess);return true;};this.DatabaseLoadTOC(function(ji_bSuccess)
{if(ji_bSuccess)
{if(!(jt_this.jm_oDatabase.Get_ArrayDTLoad({jp_bTyp_Common:true})&&jt_this.jm_oDatabase.Get_ArrayDTLoad({jp_bTyp_Common:true}).Get_Count()>0))
{var jt_pisdsRecord_glidtoc=jt_this.jm_oDatabase.Get_TOCItem(GLIDR(A3xa2DefineTbid().jc_GGLID_MetaSystemControl));if(!jt_pisdsRecord_glidtoc)
return jt_fnOnLoadCommonDone(false);return jt_this.DatabaseLoadCommon(jt_fnOnLoadCommonDone);}
return jt_fnOnLoadCommonDone(true);}});return true;};this.ManageDataRequest=function(ji_fnRequestDone,ji_o3xxur,ji_bAlsoLoadCommon,ji_bPreloaded)
{var jt_oxeidXUR=ji_o3xxur.Get_3xXEID();var jt_bEnterprise=(!jt_oxeidXUR.Get_TypEntity()||jt_oxeidXUR.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise);if(jt_bEnterprise)
{var jt_oglPreloadedData=null;if(ji_bPreloaded)
jt_oglPreloadedData=jg_oApp.Get_GLPreloadedData();if(jt_oglPreloadedData&&!jQuery.isEmptyObject(jt_oglPreloadedData))
{var jt_bSuccess=false;var jt_o3x3dtslice=A3xa3DataTableSlice(A3xa3DataSourceGLRSPool(jt_oglPreloadedData),(ji_bAlsoLoadCommon===false?ji_o3xxur:null));if(jt_o3x3dtslice.writeGLRS2All())
jt_bSuccess=true;if(ji_bAlsoLoadCommon===false)
return(ji_fnRequestDone?ji_fnRequestDone(jt_bSuccess):jt_bSuccess);return(jt_bSuccess?jt_this.DatabaseLoadCommon(ji_fnRequestDone):(ji_fnRequestDone?ji_fnRequestDone(false):false));}
else
{var jr_b=A3xa3AjaxTables().requestMain(function(ji_bSuccess)
{if(ji_bAlsoLoadCommon===false)
return(ji_fnRequestDone?ji_fnRequestDone(ji_bSuccess):ji_bSuccess);return(ji_bSuccess?jt_this.DatabaseLoadCommon(ji_fnRequestDone):(ji_fnRequestDone?ji_fnRequestDone(false):false));},(ji_bAlsoLoadCommon===false?ji_o3xxur:null));}
return jr_b;}
if(ji_bAlsoLoadCommon===false)
return(ji_fnRequestDone?ji_fnRequestDone(true):true);return jt_this.DatabaseLoadCommon(ji_fnRequestDone);};this.ManageDataLoadEnterprises=function(ji_fnOnLoadEnterprisesDone,ji_o3xxur)
{var jt_oxeidXUR=ji_o3xxur.Get_3xXEID();var jt_bEnterprise=(!jt_oxeidXUR.Get_TypEntity()||jt_oxeidXUR.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise);var jt_bSilver=ji_o3xxur.IsSilver();var jt_bGold=ji_o3xxur.IsGold();var jt_bUnlimited=ji_o3xxur.IsUnlimited();var jt_bSingle=ji_o3xxur.IsSingle();var jt_bUnique=false;var jt_bMajor=false;var jt_bSubry=false;var jt_fnOnLoadUniqueDone=function(ji_oDTStatus)
{if(!ji_oDTStatus)
ji_oDTStatus=new GLDataStatusLoadFail();if(ji_oDTStatus.IsSuccessOrEmpty())
jt_bUnique=true;if(jt_bUnlimited)
{if(ji_oDTStatus.IsSuccessOrEmpty())
return jt_this.DatabaseLoadMajor(jt_fnOnLoadMajorDone);}
else if(jt_bSingle)
{return jt_this.DatabaseLoadMajor(jt_fnOnLoadMajorDone);}
return ji_fnOnLoadEnterprisesDone(ji_oDTStatus);};var jt_fnOnLoadMajorDone=function(ji_oDTStatus)
{if(!ji_oDTStatus)
ji_oDTStatus=new GLDataStatusLoadFail();if(ji_oDTStatus.IsSuccessOrEmpty())
jt_bMajor=true;if(jt_bUnlimited)
{if(ji_oDTStatus.IsSuccessOrEmpty())
return jt_this.DatabaseLoadSubry(jt_fnOnLoadSubryDone);}
else if(jt_bSingle)
{if(jt_bMajor||jt_bUnique)
return jt_this.DatabaseLoadSubry(jt_fnOnLoadSubryDone);}
return ji_fnOnLoadEnterprisesDone(ji_oDTStatus);};var jt_fnOnLoadSubryDone=function(ji_oDTStatus)
{if(!ji_oDTStatus)
ji_oDTStatus=new GLDataStatusLoadFail();if(ji_oDTStatus.IsSuccessOrEmpty())
jt_bSubry=true;if(jt_bUnlimited)
{if(ji_oDTStatus.IsSuccessOrEmpty())
return ji_fnOnLoadEnterprisesDone(ji_oDTStatus);}
else if(jt_bSingle)
{return ji_fnOnLoadEnterprisesDone(ji_oDTStatus);}
return ji_fnOnLoadEnterprisesDone(ji_oDTStatus);};if(!jt_bEnterprise)
return false;if(jt_bSilver)
return jt_this.DatabaseLoadSilver(ji_fnOnLoadEnterprisesDone);if(jt_bGold)
return jt_this.DatabaseLoadGold(ji_fnOnLoadEnterprisesDone);return jt_this.DatabaseLoadMain(function(ji_oDTStatus)
{if(ji_oDTStatus&&ji_oDTStatus.IsSuccessOrEmpty()&&(jt_bUnlimited||jt_bSingle))
return jt_this.DatabaseLoadUnique(jt_fnOnLoadUniqueDone);return ji_fnOnLoadEnterprisesDone(ji_oDTStatus);});};this.ManageDataStoreAll=function(ji_fnOnStoreAllDone,ji_o3xxur)
{var jt_oxeidXUR=ji_o3xxur.Get_3xXEID();var jt_bEnterprise=(!jt_oxeidXUR.Get_TypEntity()||jt_oxeidXUR.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise);var jt_bSilver=ji_o3xxur.IsSilver();var jt_bGold=ji_o3xxur.IsGold();var jt_Ucat=jt_oxeidXUR.Get_3xCat2().Get_Ucat();var jt_Vcat=jt_oxeidXUR.Get_3xCat2().Get_Vcat();var jt_oTimerAsyncDecouple=setTimeout(function()
{if(jt_bEnterprise&&jt_Ucat&&(jt_bGold||jt_bSilver))
{return jt_this.StoreTOC(ji_fnOnStoreAllDone);}
else
{var jr_b=jt_this.StoreData(function(ji_bSuccess)
{if(ji_bSuccess)
return jt_this.StoreTOC(ji_fnOnStoreAllDone);return ji_fnOnStoreAllDone(false);});}},10);return true;};this.LoadCacheStoreCommon=function()
{var jr_b=false;var jt_odb=this.jm_oDatabase;if(!jt_odb)
return false;var jt_o3x2sdsdb=jt_odb.Get_SDSDBStore();if(!jt_o3x2sdsdb)
return false;try
{jr_b=true;if(jr_b)
jr_b=jt_o3x2sdsdb.db.addTablesJSDS({jp_bTyp_Common:true});if(jr_b)
jr_b=this.jm_oDatabase.WriteGLRS2(GLIDR(A3xa2DefineTbid().jc_GGLID_MetaSystemControl),null,"");if(jr_b)
jr_b=this.jm_oDatabase.WriteGLRS2(GLIDR(A3xa2DefineTbid().jc_GGLID_Category),null,"");if(jr_b)
jr_b=this.jm_oDatabase.WriteGLRS2(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoTopArea),null,"");if(jr_b)
jr_b=this.jm_oDatabase.WriteGLRS2(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoArea),null,"");if(jr_b)
jr_b=this.jm_oDatabase.WriteGLRS2(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoRegion),null,"");if(jr_b)
jr_b=this.jm_oDatabase.WriteGLRS2(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCountry),null,"");if(jr_b)
jr_b=this.jm_oDatabase.WriteGLRS2(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoState),null,"");if(jr_b)
jr_b=this.jm_oDatabase.WriteGLRS2(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCity),null,"");}
catch(e)
{jr_b=false;this.ExceptionMessage(e,"DataManager.WriteLocalStorage");}
return jr_b;};this.DatabaseLoadTOC=function(ji_fnOnDone)
{jg_oe.LogStatusBar2(new A3xaString(["Loading TOC","Cargando TOC","Carregando TOC","Caricamento TOC"]));this.jm_odbLoader=new A3xaDbLoader(function(ji_oDTStatus)
{if(ji_oDTStatus.IsDone())
{var jt_bLoadTOCempty=false;if(ji_oDTStatus.IsFail())
{jt_bLoadTOCempty=true;}
else if(ji_oDTStatus.IsEmpty())
{jt_bLoadTOCempty=true;}
else if(ji_oDTStatus.IsSuccess())
{jt_bLoadTOCempty=false;}
else
{jt_bLoadTOCempty=true;}
if(jt_bLoadTOCempty&&!jt_this.jm_oDatabase.Get_SDSDBWork())
jt_bLoadTOCempty=false;var jt_odtTOC=null;var jt_glid=A3xa2DefineTbid().jc_GLID_TOC;var jt_I3tbid=A3xa3Tbid(jt_glid);var jt_tbtype=jt_I3tbid.getTbType();var jt_keyname=(jt_tbtype?jt_tbtype.tbtkeyname:"");if(jt_bLoadTOCempty)
{jt_odtTOC=jt_this.jm_oDatabase.Get_DataTable(jt_glid,true);if(!jt_odtTOC)
jt_bLoadTOCempty=false;}
if(jt_bLoadTOCempty)
{jt_odtTOC.jm_oDTStatus.SetCacheStatusEmpty();if(!jt_this.jm_oDatabase.Get_SDSDBWork().db.addTablesJSDS({jp_bTyp_TOC:true}))
jt_odtTOC.jm_oDTStatus.SetCacheStatusFail("Header glid");else
{var jt_o3x2tbTOC=jt_this.jm_oDatabase.Get_SDSDBWork().db.get3x2Table(jt_glid);if(!(jt_o3x2tbTOC&&jt_o3x2tbTOC.tb.getGlid()==jt_odtTOC.Get_Glid()))
jt_odtTOC.jm_oDTStatus.SetCacheStatusFail("Header glid");else
{jt_odtTOC.Set_Version(jt_o3x2tbTOC.tb.getVersion());jt_odtTOC.jm_oDTStatus.SetCacheStatusSuccess();}}}
if(ji_fnOnDone)
{var jt_odtTOC2=jt_this.jm_oDatabase.Get_DataTable(jt_glid,true);return ji_fnOnDone(jt_odtTOC2&&jt_odtTOC2.jm_oDTStatus.IsSuccessOrEmpty());}
return true;}
return true;},this.jm_oDatabase);this.jm_odbLoader.LoadTOCTables();return true;};this.StoreData=function(ji_fnOnDone)
{this.jm_oDatabase.jm_oDTStatus.jm_fnOnChange=function(ji_oDTStatus)
{if(ji_oDTStatus.IsFail())
{jt_this.jm_oDatabase.jm_aoDTStatus_TableToClear=null;jt_this.jm_oDatabase.ClearArrayDTStore();if(ji_fnOnDone)
return ji_fnOnDone(false);return true;}
if((ji_oDTStatus.IsOpStore()&&ji_oDTStatus.IsSuccessOrEmpty())||ji_oDTStatus.IsEmpty())
{jt_this.jm_oDatabase.jm_aoDTStatus_TableToClear=null;jt_this.jm_oDatabase.ClearArrayDTStore();if(ji_fnOnDone)
return ji_fnOnDone(true);return true;}
return true;}
this.jm_oDatabase.StoreAllData(true);return true;};this.StoreTOC=function(ji_fnOnDone)
{this.jm_oDatabase.jm_oDTStatus.jm_fnOnChange=function(ji_oDTStatus)
{if(ji_oDTStatus.IsDone())
{ji_oDTStatus.jm_fnOnChange=function(){};if(ji_fnOnDone)
return ji_fnOnDone(ji_oDTStatus.IsSuccessOrEmpty());return true;}
return true;}
this.jm_oDatabase.StoreTOC(true);return true;};this.DatabaseLoadCommon=function(ji_fnOnDone)
{jg_oe.LogStatusBar2(new A3xaString(["Loading common","Cargando datos común","Carregando dados comum","Caricamento dati comuni"]));this.jm_odbLoader=new A3xaDbLoader(function(ji_oDTStatus)
{if(ji_fnOnDone)
{if(ji_oDTStatus.IsFail())
return ji_fnOnDone(false);if(ji_oDTStatus.IsOpLoad()&&ji_oDTStatus.IsSuccessOrEmpty()&&jt_this.jm_odbLoader.IsCommonTables())
return ji_fnOnDone(true);}
return true;},this.jm_oDatabase);this.jm_odbLoader.LoadCommonTables();return true;};this.DatabaseLoadGold=function(ji_fnOnDone)
{jg_oe.LogStatusBar2(new A3xaString(["Loading main","Cargando principal","Carregando principal","Caricamento principale"]));this.jm_odbLoader=new A3xaDbLoader(function(ji_oDTStatus)
{if(ji_oDTStatus.IsOpLoad()&&ji_oDTStatus.IsDone()&&jt_this.jm_odbLoader.IsGoldTable())
{if(ji_fnOnDone)
ji_fnOnDone(ji_oDTStatus);}
return true;},this.jm_oDatabase);this.jm_odbLoader.LoadGoldTable();return true;};this.DatabaseLoadSilver=function(ji_fnOnDone)
{jg_oe.LogStatusBar2(new A3xaString(["Loading main","Cargando principal","Carregando principal","Caricamento principale"]));this.jm_odbLoader=new A3xaDbLoader(function(ji_oDTStatus)
{if(ji_oDTStatus.IsOpLoad()&&ji_oDTStatus.IsDone()&&jt_this.jm_odbLoader.IsSilverTable())
{if(ji_fnOnDone)
ji_fnOnDone(ji_oDTStatus);}
return true;},this.jm_oDatabase);this.jm_odbLoader.LoadSilverTable();return true;};this.DatabaseLoadMain=function(ji_fnOnDone)
{jg_oe.LogStatusBar2(new A3xaString(["Loading main","Cargando principal","Carregando principal","Caricamento principale"]));this.jm_odbLoader=new A3xaDbLoader(function(ji_oDTStatus)
{if(ji_oDTStatus.IsOpLoad()&&ji_oDTStatus.IsDone()&&jt_this.jm_odbLoader.IsMainTable())
{if(ji_fnOnDone)
ji_fnOnDone(ji_oDTStatus);}
return true;},this.jm_oDatabase);this.jm_odbLoader.LoadMainTable();return true;};this.DatabaseLoadUnique=function(ji_fnOnDone)
{jg_oe.LogStatusBar2(new A3xaString(["Loading unique","Cargando unique","Carregando unique","Caricamento unique"]));this.jm_odbLoader=new A3xaDbLoader(function(ji_oDTStatus)
{if(ji_oDTStatus.IsOpLoad()&&ji_oDTStatus.IsDone()&&jt_this.jm_odbLoader.IsUniqueTable())
{if(ji_fnOnDone)
ji_fnOnDone(ji_oDTStatus);}
return true;},this.jm_oDatabase);this.jm_odbLoader.LoadUniqueTable();return true;};this.DatabaseLoadMajor=function(ji_fnOnDone)
{jg_oe.LogStatusBar2(new A3xaString(["Loading major","Cargando major","Carregando major","Caricamento major"]));this.jm_odbLoader=new A3xaDbLoader(function(ji_oDTStatus)
{if(ji_oDTStatus.IsOpLoad()&&ji_oDTStatus.IsDone()&&jt_this.jm_odbLoader.IsMajorTable())
{if(ji_fnOnDone)
ji_fnOnDone(ji_oDTStatus);}
return true;},this.jm_oDatabase);this.jm_odbLoader.LoadMajorTable();return true;};this.DatabaseLoadSubry=function(ji_fnOnDone)
{jg_oe.LogStatusBar2(new A3xaString(["Loading subsidiary","Cargando sucursal","Carregando subsidiária","Caricamento succursale"]));this.jm_odbLoader=new A3xaDbLoader(function(ji_oDTStatus)
{if(ji_oDTStatus.IsOpLoad()&&ji_oDTStatus.IsDone()&&jt_this.jm_odbLoader.IsSubryTable())
{if(ji_fnOnDone)
ji_fnOnDone(ji_oDTStatus);}
return true;},this.jm_oDatabase);this.jm_odbLoader.LoadSubryTable();return true;};}
function A3xaDbLoader(ji_fnOnChange,ji_oDatabase)
{A3xaTaskManager.call(this,ji_fnOnChange);var jt_this=this;this.jm_oDatabase=(ji_oDatabase||null);this.jm_omthxLoader=null;this.jm_aGlidToLoad=[];this.jm_pTypTables={};this.IsTOCTables=function(){return this.jm_pTypTables.jp_bTyp_TOC||false;};this.IsCommonTables=function(){return this.jm_pTypTables.jp_bTyp_Common||false;};this.IsGoldTable=function(){return this.jm_pTypTables.jp_bTyp_Gold||false;};this.IsSilverTable=function(){return this.jm_pTypTables.jp_bTyp_Silver||false;};this.IsMainTable=function(){return this.jm_pTypTables.jp_bTyp_Main||false;};this.IsUniqueTable=function(){return this.jm_pTypTables.jp_bTyp_Unique||false;};this.IsMajorTable=function(){return this.jm_pTypTables.jp_bTyp_Major||false;};this.IsSubryTable=function(){return this.jm_pTypTables.jp_bTyp_Subry||false;};this.LoadTOCTables=function()
{this.jm_pTypTables={jp_bTyp_TOC:true};this.jm_oDatabase.ClearArrayDTLoad(this.jm_pTypTables);return this._LoadTables({jp_bTyp_TOC:true});};this.LoadCommonTables=function()
{this.jm_pTypTables={jp_bTyp_Common:true};return this._LoadTables();};this.LoadGoldTable=function()
{this.jm_pTypTables={jp_bTyp_Gold:true};this.jm_oDatabase.ClearArrayDTLoad(this.jm_pTypTables);return this._LoadTables();};this.LoadSilverTable=function()
{this.jm_pTypTables={jp_bTyp_Silver:true};this.jm_oDatabase.ClearArrayDTLoad(this.jm_pTypTables);return this._LoadTables();};this.LoadMainTable=function()
{this.jm_pTypTables={jp_bTyp_Main:true};this.jm_oDatabase.ClearArrayDTLoad(this.jm_pTypTables);return this._LoadTables();};this.LoadUniqueTable=function()
{this.jm_pTypTables={jp_bTyp_Unique:true};this.jm_oDatabase.ClearArrayDTLoad(this.jm_pTypTables);return this._LoadTables();};this.LoadMajorTable=function()
{this.jm_pTypTables={jp_bTyp_Major:true};this.jm_oDatabase.ClearArrayDTLoad(this.jm_pTypTables);return this._LoadTables();};this.LoadSubryTable=function()
{this.jm_pTypTables={jp_bTyp_Subry:true};this.jm_oDatabase.ClearArrayDTLoad(this.jm_pTypTables);return this._LoadTables();};this._OnReset=function()
{if(this.jm_omthxLoader)
this.jm_omthxLoader.Release();this.jm_omthxLoader=null;return true;};this._OnRelease=function()
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("","","A3xaDbLoader._OnRelease");return true;};this._OnStart=function()
{return true;};this._OnStart_TableHX=function()
{this.jm_omthxLoader=null;if(!this.jm_aGlidToLoad)
return false;this.jm_omthxLoader=new A3xaMTHXLoader(function(){return jt_this.Task();},this.jm_oDatabase,this.jm_aGlidToLoad,this.jm_oDatabase.Get_ArrayDTLoad(this.jm_pTypTables),this.jm_pTypTables);jg_oe.CanLogInfo()&&jg_oe.LogInfo("","","A3xaDbLoader._OnStart_TableHX");return true;};this._CheckStatus=function()
{if(this.IsOpening())
{if(jg_oe.Get_MgrStorage().IsStorageDefaultOpen())
{this.jm_oDTStatus.jm_Status=A3xa2DefineDtSts().jc_DTStatus2_StInProgress;if(this._OnStart_TableHX())
return this._CheckStatus();this.jm_oDTStatus.jm_Status=A3xa2DefineDtSts().jc_DTStatus2_StFail;return this.jm_oDTStatus;}
if(!jg_oe.Get_MgrStorage().IsStorageDefaultOpening())
{this.jm_oDTStatus.jm_Status=A3xa2DefineDtSts().jc_DTStatus2_StFail;}
return this.jm_oDTStatus;}
return this._CheckStatus_TableHX();};this._CheckStatus_TableHX=function()
{if(!this.jm_omthxLoader)
return null;jg_oe.CanLogInfo()&&jg_oe.LogInfo("Loading");if(this.jm_omthxLoader.IsReady())
{this.jm_omthxLoader.Start();if(!this.jm_omthxLoader)
return null;}
if(this.jm_omthxLoader.IsInProgress())
{return new GLDataStatusLoadInProgress();}
if(this.jm_omthxLoader.IsDone())
{if(this.jm_omthxLoader.IsSuccess())
{}
return this.jm_omthxLoader.jm_oDTStatus;}
return new GLDataStatusLoadFail("Load Database Tableset Unexpected");};this._OnEnd=function(ji_oDTStatusEnd)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("ji_oDTStatusEnd.Get_Descr2(): "+
ji_oDTStatusEnd.Get_Descr2(),"","A3xaDbLOader._OnEnd");if(ji_oDTStatusEnd.IsFail())
return ji_oDTStatusEnd;this._SetupLoadedRecords();jg_oe.CanLogInfo()&&jg_oe.LogInfo("Callback: "+
(this.jm_oDTStatus.jm_fnOnChange?"Y":"null"),"","A3xaDbLOader._OnEnd");return new GLDataStatusLoadSuccess();};this._LoadTables=function()
{var jt_ogtl=null;if(this.IsTOCTables())
jt_ogtl=this._Get_GlidsToLoad_TOC();else if(this.IsCommonTables())
jt_ogtl=this._Get_GlidsToLoad_COMMON();else if(this.IsGoldTable())
jt_ogtl=this._Get_GlidsToLoad_GOLD();else if(this.IsSilverTable())
jt_ogtl=this._Get_GlidsToLoad_SILVER();else if(this.IsMainTable())
jt_ogtl=this._Get_GlidsToLoad_MAIN();else if(this.IsUniqueTable())
jt_ogtl=this._Get_GlidsToLoad_UNIQUE();else if(this.IsMajorTable())
jt_ogtl=this._Get_GlidsToLoad_MAJOR();else if(this.IsSubryTable())
jt_ogtl=this._Get_GlidsToLoad_SUBRY();else
return false;if(jt_ogtl.jarr&&jt_ogtl.jarr.length)
this.jm_aGlidToLoad=this._MoveStore2Load(jt_ogtl.jarr);else
this.jm_aGlidToLoad=null;if(this.jm_aGlidToLoad&&this.jm_aGlidToLoad.length)
this.jm_aGlidToLoad=this._SkipAlreadyLoaded(this.jm_aGlidToLoad);if(!(this.jm_aGlidToLoad&&this.jm_aGlidToLoad.length))
{if(jt_ogtl.jbsuccess)
{this._SetupLoadedRecords();this.jm_oDTStatus.SetFrom(new GLDataStatusLoadSuccess());}
else
this.jm_oDTStatus.SetFrom(new GLDataStatusLoadFail("Table names to load(1)"));return true;}
this.Reset();this.Start();return true;};this._Get_GlidsToLoad_TOC=function()
{var jr_ogtl={jarr:null,jbsuccess:false};if(!this.jm_oDatabase.jm_oDbSchema.IsValid())
return jr_ogtl;var jr_aGlidToLoad=[];var jt_posTable=0;var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);while(jt_oSchemaTable)
{var jt_sTableNameQUR=null;if(jt_oSchemaTable.jp_bTyp_TOC)
{var jt_I3tbid=A3xa3Tbid(jt_oSchemaTable.jp_sName);var jt_sTableNameQUR=(jt_I3tbid.default2GlidXEID(jg_oApp.Get_AppXUR().Get_3xXUR())||"");if(jt_sTableNameQUR)
jr_aGlidToLoad.push(jt_sTableNameQUR);}
jt_posTable++;jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);}
jr_ogtl.jarr=jr_aGlidToLoad;jr_ogtl.jbsuccess=true;return jr_ogtl;};this._Get_GlidsToLoad_COMMON=function()
{var jr_ogtl={jarr:null,jbsuccess:false};if(!this.jm_oDatabase.jm_oDbSchema.IsValid())
return jr_ogtl;var jr_aGlidToLoad=[];var jt_posTable=0;var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);while(jt_oSchemaTable)
{var jt_sTableNameQUR=null;if(jt_oSchemaTable.jp_bTyp_Common)
{var jt_I3tbid=A3xa3Tbid(jt_oSchemaTable.jp_sName);var jt_sTableNameQUR=(jt_I3tbid.default2GlidXEID(jg_oApp.Get_AppXUR().Get_3xXUR())||"");if(jt_sTableNameQUR)
jr_aGlidToLoad.push(jt_sTableNameQUR);}
jt_posTable++;jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);}
jr_ogtl.jarr=jr_aGlidToLoad;jr_ogtl.jbsuccess=true;return jr_ogtl;};this._Get_GlidsToLoad_GOLD=function()
{var jr_ogtl={jarr:null,jbsuccess:false};if(!this.jm_oDatabase.jm_oDbSchema.IsValid())
return jr_ogtl;var jr_aGlidToLoad=[];var jt_posTable=0;var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);while(jt_oSchemaTable)
{var jt_sTableNameQUR=null;if(jt_oSchemaTable.jp_bTyp_Gold)
{var jt_I3tbid=A3xa3Tbid(jt_oSchemaTable.jp_sName);var jt_sTableNameQUR=(jt_I3tbid.default2GlidXEID(jg_oApp.Get_AppXUR().Get_3xXUR())||"");if(jt_sTableNameQUR)
jr_aGlidToLoad.push(jt_sTableNameQUR);}
jt_posTable++;jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);}
jr_ogtl.jarr=jr_aGlidToLoad;jr_ogtl.jbsuccess=true;return jr_ogtl;};this._Get_GlidsToLoad_SILVER=function()
{var jr_ogtl={jarr:null,jbsuccess:false};if(!this.jm_oDatabase.jm_oDbSchema.IsValid())
return jr_ogtl;var jr_aGlidToLoad=[];var jt_posTable=0;var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);while(jt_oSchemaTable)
{var jt_sTableNameQUR=null;if(jt_oSchemaTable.jp_bTyp_Silver)
{var jt_I3tbid=A3xa3Tbid(jt_oSchemaTable.jp_sName);var jt_sTableNameQUR=(jt_I3tbid.default2GlidXEID(jg_oApp.Get_AppXUR().Get_3xXUR())||"");if(jt_sTableNameQUR)
jr_aGlidToLoad.push(jt_sTableNameQUR);}
jt_posTable++;jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);}
jr_ogtl.jarr=jr_aGlidToLoad;jr_ogtl.jbsuccess=true;return jr_ogtl;};this._Get_GlidsToLoad_MAIN=function()
{var jr_ogtl={jarr:null,jbsuccess:false};if(!this.jm_oDatabase.jm_oDbSchema.IsValid())
return jr_ogtl;var jt_o3xxurxeid=jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID();var jr_aGlidToLoad=[];var jt_posTable=0;var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);while(jt_oSchemaTable)
{var jt_sTableNameQUR=null;if(jt_oSchemaTable.jp_bTyp_Main)
{var jt_I3tbid=A3xa3Tbid(jt_oSchemaTable.jp_sName);var jt_sTableNameQUR=(jt_I3tbid.default2GlidXEID(jt_o3xxurxeid)||"");jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_sTableNameQUR,jt_oSchemaTable.jp_sName: "+
jt_sTableNameQUR+","+jt_oSchemaTable.jp_sName,"","A3xaDbLoader._Get_GlidsToLoad_MAIN");if(jt_sTableNameQUR)
jr_aGlidToLoad.push(jt_sTableNameQUR);}
jt_posTable++;jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);}
jr_ogtl.jarr=jr_aGlidToLoad;jr_ogtl.jbsuccess=true;return jr_ogtl;};this._Get_GlidsToLoad_UNIQUE=function()
{var jr_ogtl={jarr:null,jbsuccess:false};if(!this.jm_oDatabase.jm_oDbSchema.IsValid())
return jr_ogtl;var jr_aGlidToLoad=[];var jt_posTable=0;var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);while(jt_oSchemaTable)
{var jt_sTableNameQUR=null;if(jt_oSchemaTable.jp_bTyp_Unique)
{var jt_I3tbid=A3xa3Tbid(jt_oSchemaTable.jp_sName);var jt_sTableNameQUR=(jt_I3tbid.default2GlidXEID(jg_oApp.Get_AppXUR().Get_3xXUR())||"");if(jt_sTableNameQUR)
jr_aGlidToLoad.push(jt_sTableNameQUR);}
jt_posTable++;jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);}
jr_ogtl.jarr=jr_aGlidToLoad;jr_ogtl.jbsuccess=true;return jr_ogtl;};this._Get_GlidsToLoad_MAJOR=function()
{var jr_ogtl={jarr:null,jbsuccess:false};if(!this.jm_oDatabase.jm_oDbSchema.IsValid())
return jr_ogtl;var jr_aGlidToLoad=[];var jt_posTable=0;var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);while(jt_oSchemaTable)
{var jt_sTableNameQUR=null;if(jt_oSchemaTable.jp_bTyp_Major)
{var jt_I3tbid=A3xa3Tbid(jt_oSchemaTable.jp_sName);var jt_sTableNameQUR=(jt_I3tbid.default2GlidXEID(jg_oApp.Get_AppXUR().Get_3xXUR())||"");if(jt_sTableNameQUR)
jr_aGlidToLoad.push(jt_sTableNameQUR);}
jt_posTable++;jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);}
jr_ogtl.jarr=jr_aGlidToLoad;jr_ogtl.jbsuccess=true;return jr_ogtl;};this._Get_GlidsToLoad_SUBRY=function()
{var jr_ogtl={jarr:null,jbsuccess:false};if(!this.jm_oDatabase.jm_oDbSchema.IsValid())
return jr_ogtl;var jr_aGlidToLoad=[];var jt_posTable=0;var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);while(jt_oSchemaTable)
{var jt_sTableNameQUR=null;if(jt_oSchemaTable.jp_bTyp_Subry)
{var jt_I3tbid=A3xa3Tbid(jt_oSchemaTable.jp_sName);var jt_sTableNameQUR=(jt_I3tbid.default2GlidXEID(jg_oApp.Get_AppXUR().Get_3xXUR())||"");if(jt_sTableNameQUR)
jr_aGlidToLoad.push(jt_sTableNameQUR);}
jt_posTable++;jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(jt_posTable);}
jr_ogtl.jarr=jr_aGlidToLoad;jr_ogtl.jbsuccess=true;return jr_ogtl;};this._MoveStore2Load=function(ji_aGlidToLoad)
{if(!ji_aGlidToLoad)
return null;var jt_odbsds=this.jm_oDatabase.Get_SDSDBStore();var jt_odbsdswk=this.jm_oDatabase.Get_SDSDBWork();var jt_aodtToLoad=this.jm_oDatabase.Get_ArrayDTLoad(this.jm_pTypTables);var jr_aGlidToLoad=[];var jt_IArray_dtcs=this.jm_oDatabase.Get_IArrayDTStore();for(var i=0;i<ji_aGlidToLoad.length;i++)
{var jt_glid=ji_aGlidToLoad[i];var jt_bFound_dtcs=false;for(var jt_ixdtcs=0;jt_IArray_dtcs&&jt_ixdtcs<jt_IArray_dtcs.getCount();jt_ixdtcs++)
{var jt_odtToReuse=null;var jt_o3xtbsds=null;var jt_glidToReuse=jt_IArray_dtcs.getKey(jt_ixdtcs);jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_glid,jt_glidToReuse,i="+jt_glid+","+jt_glidToReuse+","+jt_ixdtcs,"","A3xaDbLoader._MoveStore2Load");if(jt_glidToReuse==jt_glid)
jt_odtToReuse=jt_IArray_dtcs.getItem(jt_glidToReuse);else if(this.IsSubryTable())
{var jt_I3xtbid=A3xa3Tbid(jt_glid);var jt_I3xtbidToReuse=A3xa3Tbid(jt_glidToReuse);if(jt_I3xtbid.isSliceSubsidiary()&&jt_I3xtbidToReuse.isSliceSubsidiary()&&jt_I3xtbid.getLeadch()==jt_I3xtbidToReuse.getLeadch())
{jt_odtToReuse=jt_IArray_dtcs.getItem(jt_glidToReuse);}}
if(!jt_odtToReuse)
continue;jt_bFound_dtcs=true;if((this.IsCommonTables()||this.IsGoldTable()||this.IsSilverTable()||this.IsMainTable()||this.IsUniqueTable()||this.IsMajorTable()||this.IsSubryTable()))
{jt_o3xtbsds=jt_odbsds.db.get3x2Table(jt_glidToReuse);if(!(jt_odbsds&&jt_odtToReuse&&jt_odtToReuse.jm_oDTStatus.IsSuccess()&&!jt_odtToReuse.jm_oDTStatus.IsEmpty()))
{jt_odtToReuse=null;jt_o3xtbsds=null;}
if(!(jt_o3xtbsds&&jt_o3xtbsds.tb.getCountOfRecords()>0))
{var jt_sJSDS="";if(jt_odtToReuse)
jt_sJSDS=jt_odtToReuse.Get_3xJSDS().Get_GLDString();if(jt_sJSDS)
{jt_o3xtbsds=jt_odbsdswk.db.addD3xTable(jt_sJSDS,true);if(jt_o3xtbsds&&jt_o3xtbsds.tb.getGlid()==jt_odtToReuse.Get_Glid())
{jt_odtToReuse.Set_Version(jt_o3xtbsds.tb.getVersion());}
else
jt_o3xtbsds=null;}
if(!jt_o3xtbsds)
{jt_odtToReuse=null;jt_o3xtbsds=null;}}
else
{if(!jt_odbsdswk.db.add3x2Table(jt_o3xtbsds))
{jt_odtToReuse=null;jt_o3xtbsds=null;}}}
if(jt_odtToReuse)
{jt_odtToReuse.jm_oDTStatus=new GLDataStatusLoadSuccess();jt_aodtToLoad.Set_Item(jt_glidToReuse,jt_odtToReuse);if(this.IsSubryTable())
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_glidToReuse,jt_odtToReuse="+jt_glidToReuse+","+jt_odtToReuse,"","A3xaDbLoader._MoveStore2Load");}}
else
{jr_aGlidToLoad.push(jt_glidToReuse);}}
if(!jt_bFound_dtcs)
jr_aGlidToLoad.push(jt_glid);}
return jr_aGlidToLoad;};this._SkipAlreadyLoaded=function(ji_aGlidToLoad)
{if(!ji_aGlidToLoad)
return null;var jt_odbsdswk=this.jm_oDatabase.Get_SDSDBWork();var jr_aGlidToLoad=[];for(var i=0;i<ji_aGlidToLoad.length;i++)
{var jt_glid=ji_aGlidToLoad[i];var jt_odtToReuse=null;var jt_o3xtbsds=null;if(this.IsCommonTables())
{jt_odtToReuse=this.jm_oDatabase.Get_DataTable(jt_glid);jt_o3xtbsds=jt_odbsdswk.db.get3x2Table(jt_glid);jg_oe.CanLogInfo()&&jg_oe.LogInfo("1,jt_glid,jt_odtToReuse: "+
jt_glid+","+jt_odtToReuse,"","A3xaDbLoader._SkipAlreadyLoaded");if(!(jt_odtToReuse&&jt_odtToReuse.jm_oDTStatus.IsSuccess()&&!jt_odtToReuse.jm_oDTStatus.IsEmpty()))
{jt_odtToReuse=null;jt_o3xtbsds=null;}}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("2,jt_glid,jt_odtToReuse: "+
jt_glid+","+jt_odtToReuse,"","A3xaDbLoader._SkipAlreadyLoaded");if(!jt_odtToReuse)
{jr_aGlidToLoad.push(jt_glid);}}
return jr_aGlidToLoad;};this._SetupLoadedRecords=function()
{var jt_o3xxurxeid=jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID();for(var i=0;i<this.jm_oDatabase.jm_oDbSchema.jm_aTables.length;i++)
{var jt_oSchemaTable=this.jm_oDatabase.jm_oDbSchema.Get_Table_ByIndex(i);if(!jt_oSchemaTable)
continue;var jt_sTableNameQUR=(A3xa3Tbid(jt_oSchemaTable.jp_sName).default2GlidXEID(jt_o3xxurxeid)||"");if(!jt_sTableNameQUR)
continue;var jt_sTableParentQUR=(jt_oSchemaTable.jp_sParent?(A3xa3Tbid(jt_oSchemaTable.jp_sParent).default2GlidXEID(jt_o3xxurxeid)||""):"");jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_sTableNameQUR: "+
jt_sTableNameQUR,"","A3xaDbLOader._SetupLoadedRecords");var jt_IArray_dtl=this.jm_oDatabase.Get_IArrayDTLoad(this.jm_pTypTables);for(var jt_ixdtl=0;jt_IArray_dtl&&jt_ixdtl<jt_IArray_dtl.getCount();jt_ixdtl++)
{var jt_gliddtl=jt_IArray_dtl.getKey(jt_ixdtl);var jt_gliddtlParent=jt_sTableParentQUR;var jt_odt=null;var jt_odtParent=null;if(jt_gliddtl==jt_sTableNameQUR);else if(this.IsSubryTable())
{var jt_I3xtbid=A3xa3Tbid(jt_sTableNameQUR);var jt_I3xtbiddtl=A3xa3Tbid(jt_gliddtl);if(!(jt_I3xtbid.isSliceSubsidiary()&&jt_I3xtbiddtl.isSliceSubsidiary()&&jt_I3xtbid.getLeadch()==jt_I3xtbiddtl.getLeadch()))
{jt_gliddtl="";}
else if(jt_gliddtlParent)
jt_gliddtlParent=A3xa3Tbid(jt_gliddtlParent).replaceExtension(jt_I3xtbiddtl.getExtension());}
else
continue;if(jt_gliddtl)
{jt_odt=jt_IArray_dtl.getItem(jt_gliddtl);jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_gliddtl,jt_odt: "+
jt_gliddtl+","+jt_odt,"","A3xaDbLOader._SetupLoadedRecords");if(jt_gliddtlParent)
{jt_odtParent=this.jm_oDatabase.Get_DataTable(jt_gliddtlParent,true);if(jt_odtParent&&jt_odtParent.Get_Glid()!=jt_gliddtlParent)
{jt_odtParent=null;continue;}}
if(jt_odt&&!jt_odt.SetupLoadedRecords(jt_odtParent))
{}}}}
return true;};}"use strict";function A3xaDefines_Storage()
{this.jc_Default=1;this.jc_FLY=2;this.jc_SS=3;this.jc_LS=4;this.jc_FS=5;this.jc_IDB=6;this.Get_Descr=function(ji_StorageType)
{if(ji_StorageType==this.jc_Default)
return"Default Storage";if(ji_StorageType==this.jc_FLY)
return"FLY Storage";if(ji_StorageType==this.jc_SS)
return"Session Storage";if(ji_StorageType==this.jc_LS)
return"Local Storage";if(ji_StorageType==this.jc_IDB)
return"IDB Storage";return"Unknown Storage";};}
function A3xaStorage()
{this.Get_Type=function(){return 0;};this.Available=function(){return this.jm_bAvailable===true;};this.Enable=function(ji_b)
{this.ClearLatestOpFlags();this.jm_bEnable=(ji_b===true);return true;};this.IsEnabled=function(){return this.jm_bEnable;};this.IsOpen=function(){return this.jm_bOpen===true;};this.IsOpening=function(){return this.jm_bOpen===-1;};this.ExecOpen=function(ji_oDbTransaction,ji_oSchema){return true;};this.Open=A3xaStorage_Open;this.ExecClear=function(){return true;};this.Clear=A3xaStorage_Clear;this.IsClearRequest=function(){return this.jm_bClearRequest;}
this.Get_TableNames=function(){return null;}
this.NewTransaction=A3xaStorage_NewTransaction;this.ExecWrite=function(ji_oDbTransaction,ji_oStorageValue){return true;};this.ExecRead=function(ji_oDbTransaction,jio_oStorageValue){return true;}
this.Write3=A3xaStorage_Write3;this.Read3=A3xaStorage_Read3;this.CheckLatestOp=function A3xaStorage_CheckLatestOp(ji_Op)
{var jr_latest=null;if(ji_Op=="WR")
{jr_latest=this.jm_LatestWrite;this.jm_LatestWrite=null;}
else if(ji_Op=="RD")
{jr_latest=this.jm_LatestRead;this.jm_LatestRead=null;}
return jr_latest;};this.ClearLatestOpFlags=function()
{this.jm_LatestWrite=null;this.jm_LatestRead=null;};this.jm_bAvailable=false;this.jm_bEnable=false;this.jm_LatestWrite=null;this.jm_LatestRead=null;this.jm_bOpen=false;this.jm_bClearRequest=false;this.jm_oSchema=null;}
function A3xaStorage_Clear(ji_oDbTransaction)
{this.jm_LatestWrite=null;this.jm_LatestRead=null;if(ji_oDbTransaction)
{if(!(this.jm_bAvailable))
{if(ji_oDbTransaction)
ji_oDbTransaction.FireClearStorageError(null,"Fail on Clear Storage: Storage not available");return false;}
if(!(this.IsOpen()))
{if(ji_oDbTransaction)
ji_oDbTransaction.FireClearStorageError(null,"Fail on Clear Storage: Storage not open");return false;}
if(!ji_oDbTransaction.IsReady())
{if(ji_oDbTransaction)
ji_oDbTransaction.FireClearStorageError(null,"Fail on Clear Storage: Transaction not ready");return false;}}
var jt_b=this.ExecClear(ji_oDbTransaction);if(jt_b===true)
{if(ji_oDbTransaction)
ji_oDbTransaction.FireClearStorage(null);}
return true;}
function A3xaStorage_NewTransaction(ji_aDbTableName,ji_oStorageOpType,ji_odbtrListener)
{var jr_oDbTransaction=new A3xaStorage_Transaction(ji_aDbTableName,ji_oStorageOpType,ji_odbtrListener);jr_oDbTransaction.jm_oStorage=this;return jr_oDbTransaction;}
function A3xaStorage_Open(ji_oSchema,ji_fnDone)
{var jt_this=this;if(this.jm_bOpen)
return this.jm_bOpen;this.jm_bOpen=-1;if(!(this.jm_bAvailable&&this.jm_bEnable))
{this.jm_bOpen=false;if(ji_fnDone)
ji_fnDone(false,"Fail on Open Storage: Storage not available or disabled");return false;}
this.jm_oSchema=null;if(ji_oSchema&&!ji_oSchema.IsValid())
{this.jm_bOpen=false;if(ji_fnDone)
ji_fnDone(false,"Fail on Open Storage: Schema not valid");return false;}
this.jm_oSchema=(ji_oSchema||null);var jt_bOpen=this.ExecOpen(ji_oSchema,function(ji_bSuccess,ji_sMessage)
{jt_this.jm_bOpen=(ji_bSuccess||false);if(ji_fnDone)
ji_fnDone(ji_bSuccess,ji_sMessage);return true;});if(jt_bOpen===true)
{this.jm_bOpen=true;}
else if(jt_bOpen===false)
{this.jm_bOpen=false;}
return this.jm_bOpen;}
function A3xaStorage_Write3(ji_oDbTransaction,ji_oStorageValue)
{if(!ji_oStorageValue)
return false;if(!(this.jm_bAvailable&&this.jm_bEnable))
return false;if(!(this.IsOpen()))
return ji_oStorageValue.Set_Result({bStore:true,bError:true},"Store Record: "+"Storage Not Open");var jt_key=ji_oStorageValue.Get_Key();if(!jt_key)
return ji_oStorageValue.Set_Result({bStore:true,bError:true},"Store Record: "+"Key Empty");if(!(ji_oDbTransaction))
return ji_oStorageValue.Set_Result({bStore:true,bError:true},"Store Record: "+"Transaction undefined");if(!ji_oDbTransaction.IsReady())
return ji_oStorageValue.Set_Result({bStore:true,bError:true},"Store Record: "+"Transaction device not ready");if(this.ExecWrite(ji_oDbTransaction,ji_oStorageValue)===true)
{ji_oStorageValue.Set_Result({bStore:true,bSuccess:true});this.jm_LatestWrite=true;}
return true;}
function A3xaStorage_Read3(ji_oDbTransaction,jio_oStorageValue)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p1","A3xaStorage_Read3");if(!jio_oStorageValue)
return false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("p2","A3xaStorage_Read3");if(!(this.jm_bAvailable&&this.jm_bEnable))
return false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("p3","A3xaStorage_Read3");if(!(this.IsOpen()))
return jio_oStorageValue.Set_Result({bLoad:true,bError:true},"Load Record: "+"Storage Not Open");jg_oe.CanLogInfo()&&jg_oe.LogInfo("p4","A3xaStorage_Read3");if(!jio_oStorageValue.Get_Key())
return jio_oStorageValue.Set_Result({bLoad:true,bError:true},"Load Record: "+"Key Empty");jg_oe.CanLogInfo()&&jg_oe.LogInfo("p5="+jio_oStorageValue.Get_Key(),"A3xaStorage_Read3");if(!(ji_oDbTransaction))
return jio_oStorageValue.Set_Result({bLoad:true,bError:true},"Load Record: "+"Transaction undefined");if(!ji_oDbTransaction.IsReady())
return jio_oStorageValue.Set_Result({bLoad:true,bError:true},"Load Record: "+"Transaction device not ready");if(this.ExecRead(ji_oDbTransaction,jio_oStorageValue)===true)
{this.jm_LatestRead=true;}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("pend="+jio_oStorageValue.Get_Key(),"A3xaStorage_Read3");return true;}
function A3xaStorage_Transaction(ji_aDbTableName,ji_oStorageOpType,ji_odbtrListener)
{this.FireOpenStorage=A3xaStorage_Transaction_FireOpenStorage;this.FireOpenStorageError=A3xaStorage_Transaction_FireOpenStorageError;this.FireTransactionComplete=A3xaStorage_Transaction_FireTransactionComplete;this.FireTransactionError=A3xaStorage_Transaction_FireTransactionError;this.FireClearStorage=A3xaStorage_Transaction_FireClearStorage;this.FireClearStorageError=A3xaStorage_Transaction_FireClearStorageError;this.UsingTable=A3xaStorage_Transaction_UsingTable;this.Release=A3xaStorage_Transaction_Release;this.IsAsync=A3xaStorage_Transaction_IsAsync;this.Get_Storage=A3xaStorage_Transaction_Get_Storage;this.IsReady=A3xaStorage_Transaction_IsReady;this.jm_oStorage=null;this.jm_aDbTableName=ji_aDbTableName;this.jm_oStorageOpType=(ji_oStorageOpType||{});this.jm_sCurrentTableName=null;this.jm_bAsync=false;this.jm_bReleased=false;this.jm_bCompleted=false;this.jm_bFail=false;this.jm_odbtrListener=(ji_odbtrListener||null);}
function A3xaStorage_Transaction_FireOpenStorage(ji_oEvent)
{if(this.jm_odbtrListener)
return this.jm_odbtrListener.OnOpenStorage(this,ji_oEvent);return true;}
function A3xaStorage_Transaction_FireOpenStorageError(ji_oEvent,ji_sMessage)
{if(this.jm_odbtrListener)
return this.jm_odbtrListener.OnOpenStorageError(this,ji_oEvent,ji_sMessage);return true;}
function A3xaStorage_Transaction_FireClearStorage(ji_oEvent)
{if(this.jm_odbtrListener)
return this.jm_odbtrListener.OnClearStorage(this,ji_oEvent);return true;}
function A3xaStorage_Transaction_FireClearStorageError(ji_oEvent,ji_sMessage)
{if(this.jm_odbtrListener)
return this.jm_odbtrListener.OnClearStorageError(this,ji_oEvent,ji_sMessage);return true;}
function A3xaStorage_Transaction_FireTransactionComplete(ji_oEvent)
{if(this.jm_bCompleted||this.jm_bFail)
return false;this.jm_bCompleted=true;if(this.jm_oStorageOpType.bStore)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Transaction Completed for Store "+
(this.jm_oStorageOpType.bRecord?", Records":""));else if(this.jm_oStorageOpType.bLoad)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Transaction Completed for Load "+
(this.jm_oStorageOpType.bRecord?", Records":""));else if(this.jm_oStorageOpType.bClear)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Transaction Completed for Clear "+
(this.jm_oStorageOpType.bRecord?", Records":""));else
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Transaction Completed for ? "+
(this.jm_oStorageOpType.bRecord?", Records":""));for(var j=0;j<this.jm_aDbTableName.length;j++)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("tablename="+this.jm_aDbTableName[j]);if(this.jm_odbtrListener)
return this.jm_odbtrListener.OnTransactionComplete(this,ji_oEvent);return true;}
function A3xaStorage_Transaction_FireTransactionError(ji_oEvent,ji_sMessage)
{if(this.jm_bCompleted||this.jm_bFail)
return false;this.jm_bFail=true;if(this.jm_oStorageOpType.bStore)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Transaction Error for Store ");else if(this.jm_oStorageOpType.bLoad)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Transaction Error for Load ");else if(this.jm_oStorageOpType.bClear)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Transaction Error for Clear ");else
jg_oe.CanLogInfo()&&jg_oe.LogInfo("Transaction Error for ? ");for(var j=0;j<this.jm_aDbTableName.length;j++)
jg_oe.CanLogInfo()&&jg_oe.LogInfo("tablename="+this.jm_aDbTableName[j]);if(this.jm_odbtrListener)
return this.jm_odbtrListener.OnTransactionError(this,ji_oEvent,ji_sMessage);return true;}
function A3xaStorage_Transaction_Get_Storage(){return this.jm_oStorage;}
function A3xaStorage_Transaction_IsAsync(){return this.jm_bAsync||false;}
function A3xaStorage_Transaction_UsingTable(ji_sCurrentTableName)
{if(this.jm_bCompleted||this.jm_bFail)
return false;if(this.jm_sCurrentTableName!=ji_sCurrentTableName||!ji_sCurrentTableName)
{this.jm_sCurrentTableName=(ji_sCurrentTableName||null);jg_oe.CanLogInfo()&&jg_oe.LogInfo("Set name:"+(this.jm_sCurrentTableName||"null"),"","A3xaStorage_Transaction_UsingTable");}
return true;}
function A3xaStorage_Transaction_IsReady()
{if(this.jm_bCompleted||this.jm_bFail||this.jm_bReleased)
{jg_oe.LogErr("tbn,com,fail,rel:"+
(this.jm_aDbTableName||"null")+","+(this.jm_bCompleted?"Y":"N")+","+
(this.jm_bFail?"Y":"N")+","+(this.jm_bReleased?"Y":"N"),"","A3xaStorage_Transaction_IsReady");return false;}
if(!this.jm_aDbTableName)
{jg_oe.LogErr("tbn=null","","A3xaStorage_Transaction_IsReady");return false;}
return true;}
function A3xaStorage_Transaction_Release()
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Release Transaction for: "+(this.jm_aDbTableName?this.jm_aDbTableName[0]:"")+" "+
(this.jm_bReleased?"already released":""));if(this.jm_bReleased)
return false;if(!this.jm_bAsync)
{this.FireTransactionComplete(null);}
this.jm_bReleased=true;return true;}
function A3xaStorage_TransactionListener(ji_fnDone)
{this.OnOpenStorage=function(ji_odbtr,ji_oEvent)
{if(ji_odbtr.jm_oStorageOpType.bOpenReadWrite&&this.jm_fnDone)
return this.jm_fnDone(true);return true;};this.OnOpenStorageError=function(ji_odbtr,ji_oEvent,ji_sMessage)
{if(ji_odbtr.jm_oStorageOpType.bOpenReadWrite&&this.jm_fnDone)
return this.jm_fnDone(false);return true;};this.OnClearStorage=function(ji_odbtr,ji_oEvent){return true;};this.OnClearStorageError=function(ji_odbtr,ji_oEvent,ji_sMessage){return true;};this.OnTransactionComplete=function(ji_odbtr,ji_oEvent)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("A3xaStorage_TransactionListener_OnTransactionComplete");return true;};this.OnTransactionError=function(ji_odbtr,ji_oEvent,ji_sMessage){return true;};this.jm_fnDone=(ji_fnDone||null);}
function A3xaStorage_OpType()
{}
function A3xaStorage_Value(ji_xkey,ji_value)
{this.Get_Key=A3xaStorage_Value_Get_Key;this.Set_Key=A3xaStorage_Value_Set_Key;this.Get_Value=A3xaStorage_Value_Get_Value;this.Set_Value=A3xaStorage_Value_Set_Value;this.Get_Pair=A3xaStorage_Value_Get_Pair;this.Set_Pair=A3xaStorage_Value_Set_Pair;this.Set_Result=A3xaStorage_Value_Set_Result;this.jm_aValue=[];this.jm_aValue[jg_oe.jc_oA3xaDatabase.jc_sDbDefaultPrimaryKeyName]=(ji_xkey||null);this.jm_aValue["xvalue"]=(ji_value||null);}
function A3xaStorage_Value_Set_Result(ji_oStorageOpType,ji_sMessage){return true;}
function A3xaStorage_Value_Get_Key()
{return this.jm_aValue[jg_oe.jc_oA3xaDatabase.jc_sDbDefaultPrimaryKeyName]||null;}
function A3xaStorage_Value_Set_Key(ji_xkey)
{if(!ji_xkey)
return false;this.jm_aValue[jg_oe.jc_oA3xaDatabase.jc_sDbDefaultPrimaryKeyName]=ji_xkey;return true;}
function A3xaStorage_Value_Get_Value()
{return this.jm_aValue["xvalue"]||null;}
function A3xaStorage_Value_Set_Value(ji_value)
{this.jm_aValue["xvalue"]=ji_value;return true;}
function A3xaStorage_Value_Get_Pair()
{return this.jm_aValue||null;}
function A3xaStorage_Value_Set_Pair(ji_a,ji_bSkipCheck)
{if(!ji_a)
return false;var jt_key=ji_a[jg_oe.jc_oA3xaDatabase.jc_sDbDefaultPrimaryKeyName];var jt_value=ji_a["xvalue"];if(ji_bSkipCheck===true||!this.Get_Key())
this.Set_Key(jt_key);else if(this.Get_Key()!=jt_key)
return false;return this.Set_Value(jt_value);}"use strict";function A3xaStorageFLY()
{A3xaStorage.call(this);this.Get_Type=function(){return jg_oe.jc_oStorage.jc_FLY;};this.ExecClear=function(ji_oDbTransaction)
{this.jm_aFlyStorage=[];return true;};this.ExecWrite=function(ji_oDbTransaction,ji_oStorageValue)
{var jt_key=ji_oStorageValue.Get_Key();var jt_value=ji_oStorageValue.Get_Value();this.jm_aFlyStorage[jt_key]=jt_value;return true;};this.ExecRead=function(ji_oDbTransaction,jio_oStorageValue)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p1="+(jio_oStorageValue?jio_oStorageValue.Get_Key():"?"),"A3xaStorageFLY_ExecRead");return jio_oStorageValue.Set_Value(this.jm_aFlyStorage[jio_oStorageValue.Get_Key()]);};this.jm_bAvailable=true;this.jm_aFlyStorage=[];}"use strict";function A3xaStorageSS()
{A3xaStorage.call(this);this.Get_Type=function(){return jg_oe.jc_oStorage.jc_SS;};this.Available=function A3xaStorageSS_Available()
{var jt_bAvailable=false;try
{if("sessionStorage"in window&&window["sessionStorage"]!==null)
{sessionStorage.setItem("GSSSYS","Available1");var jt_text=sessionStorage.getItem("GSSSYS");if(jt_text&&jt_text=="Available1")
{sessionStorage.setItem("GSSSYS","Available2");jt_text=sessionStorage.getItem("GSSSYS");if(jt_text&&jt_text=="Available2")
{jt_bAvailable=true;}}}
this.jm_bAvailable=jt_bAvailable;}
catch(e)
{this.jm_bAvailable=false;}
return this.jm_bAvailable;};this.ExecClear=function(ji_oDbTransaction)
{sessionStorage.clear();jg_oe.LogStatusBar("Clear Session Storage");return true;};this.ExecWrite=function(ji_oDbTransaction,ji_oStorageValue)
{var jt_key=ji_oStorageValue.Get_Key();var jt_value=ji_oStorageValue.Get_Value();sessionStorage.setItem(jt_key,jt_value);return true;};this.ExecRead=function(ji_oDbTransaction,jio_oStorageValue)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p1="+(jio_oStorageValue?jio_oStorageValue.Get_Key():"?"),"A3xaStorageSS_ExecRead");return jio_oStorageValue.Set_Value(sessionStorage.getItem(jio_oStorageValue.Get_Key()));};}"use strict";function A3xaStorageLS()
{A3xaStorage.call(this);this.Get_Type=function(){return jg_oe.jc_oStorage.jc_LS;};this.Available=A3xaStorageLS_Available;this.ExecClear=function(ji_oDbTransaction)
{localStorage.clear();jg_oe.LogStatusBar("Clear Local Storage");return true;};this.ExecWrite=function(ji_oDbTransaction,ji_oStorageValue)
{var jt_key=ji_oStorageValue.Get_Key();var jt_value=ji_oStorageValue.Get_Value();localStorage.setItem(jt_key,jt_value);return true;};this.ExecRead=function(ji_oDbTransaction,jio_oStorageValue)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("p1="+(jio_oStorageValue?jio_oStorageValue.Get_Key():"?"),"A3xaStorageLS_ExecRead");return jio_oStorageValue.Set_Value(localStorage.getItem(jio_oStorageValue.Get_Key()));};}
function A3xaStorageLS_Available()
{var jt_bAvailable=false;try
{if("localStorage"in window&&window["localStorage"]!==null)
{localStorage.setItem("GLSSYS","Available1");var jt_text=localStorage.getItem("GLSSYS");if(jt_text&&jt_text=="Available1")
{localStorage.setItem("GLSSYS","Available2");jt_text=localStorage.getItem("GLSSYS");if(jt_text&&jt_text=="Available2")
jt_bAvailable=true;}}
this.jm_bAvailable=jt_bAvailable;}
catch(e)
{this.jm_bAvailable=false;}
return this.jm_bAvailable;}"use strict";function A3xaStorageIDB()
{A3xaStorage.call(this);var jt_this=this;this.Get_Type=function(){return jg_oe.jc_oStorage.jc_IDB;};this.Available=A3xaStorageIDB_Available;this.ExecOpen=A3xaStorageIDB_ExecOpen;this.Get_IDB=function(){return this.jm_oidb;};this.ExecClear=A3xaStorageIDB_ExecClear;this.Get_TableNames=function()
{if(!this.IsOpen())
return null;return this.jm_oidb.objectStoreNames||null;}
this.IsOpen=function(){return this.jm_bOpen===true&&this.jm_oidb;};this.NewTransaction=A3xaStorageIDB_NewTransaction;this.ExecWrite=A3xaStorageIDB_ExecWrite;this.ExecRead=function(ji_oDbTransaction,jio_oStorageValue)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Begin - key: "+jio_oStorageValue.Get_Key(),"IDB Exec Read");var jt_oidbOS=ji_oDbTransaction.Get_ObjectStore();if(!jt_oidbOS)
return false;var jt_oidbRequest=jt_oidbOS.get(jio_oStorageValue.Get_Key());jt_oidbRequest.onsuccess=function(event)
{if(!jio_oStorageValue)
return;var jt_aidb=event.target.result;var jt_osValue=new A3xaStorage_Value(null,null);jt_osValue.Set_Pair(jt_aidb);if(!jt_osValue.Get_Key())
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Empty - ki,ko,vo: "+jio_oStorageValue.Get_Key()+",null,null","IDB Exec Read");jio_oStorageValue.Set_Result({bLoad:true,bEmpty:true},"Load Record Empty ");}
else if(!jio_oStorageValue.Set_Pair(jt_aidb))
{jg_oe.LogErr("Fail - ki,ko,vo: "+jio_oStorageValue.Get_Key()+", "+jt_osValue.Get_Key()+", "+jt_osValue.Get_Value(),"IDB Exec Read");jio_oStorageValue.Set_Result({bLoad:true,bError:true},"Load Record: "+event.target.result+" - "+jt_oidbRequest.error);}
else
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Success - k,v: "+jio_oStorageValue.Get_Key()+", "+
jio_oStorageValue.Get_Value(),"IDB Exec Read");jt_this.jm_LatestRead=true;}};jt_oidbRequest.onerror=function(event)
{var jt_aidb=event.target.result;jg_oe.LogErr("Fail - ki,ko,vo: "+jio_oStorageValue.Get_Key()+", "+(jt_aidb?jt_aidb["xkey"]+", "+jt_aidb["xvalue"]:",null,null"),"IDB Exec Read");if(jio_oStorageValue)
jio_oStorageValue.Set_Result({bLoad:true,bError:true},"Load Record: "+event.target.result+" - "+jt_oidbRequest.error);};return-1;}
this.jm_oidb=null;this.jm_CurrentSchemaVersion=null;}
function A3xaStorageIDB_Available()
{var jt_bAvailable=false;try
{var jt_indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;var jt_IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction;var jt_IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange;if(jt_indexedDB)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Available","Indexeddb","A3xaStorageIDB_Available");jt_bAvailable=true;this.jm_bAvailable=jt_bAvailable;}
else
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Not Available","Indexeddb","A3xaStorageIDB_Available");this.jm_bAvailable=false;}
if(jt_IDBTransaction&&jt_IDBKeyRange);}
catch(e)
{this.jm_bAvailable=false;}
return this.jm_bAvailable;}
function A3xaStorageIDB_ExecClear(ji_oDbTransaction)
{if(!ji_oDbTransaction)
{this.jm_bClearRequest=true;jg_oe.LogStatusBar("Clear Indexeddb");return-1;}
this.jm_bClearRequest=false;var jt_sTableName=ji_oDbTransaction.jm_sCurrentTableName;var jt_oidbOS=ji_oDbTransaction.Get_ObjectStore();if(!jt_oidbOS)
return false;var jt_oidbRequest=null;try
{jt_oidbRequest=jt_oidbOS.clear();}
catch(e)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("ExecClear: "+e);jt_oidbRequest=null;}
if(!jt_oidbRequest)
{if(ji_oDbTransaction)
ji_oDbTransaction.FireClearStorageError(event,"Fail on Clear IndexedDB: "+"Cannot clear");return false;}
jg_oe.CanLogInfo({DB:3,DBT:"idb"})&jg_oe.LogInfo("idbreq ok","Clear Indexeddb");jt_oidbRequest.onerror=function(event)
{jg_oe.LogErr("Fail","Clear Indexeddb");if(ji_oDbTransaction)
ji_oDbTransaction.FireClearStorageError(event,"Fail on Clear IndexedDB: "+
event.target.error);};jt_oidbRequest.onsuccess=function(event)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Success","Clear Indexeddb: "+(jt_sTableName||"table"));if(ji_oDbTransaction)
ji_oDbTransaction.FireClearStorage(event);};return-1;}
function A3xaStorageIDB_NewTransaction(ji_aDbTableName,ji_oStorageOpType,ji_odbtrListener)
{var jr_oDbTransaction=new A3xaStorageIDB_Transaction(ji_aDbTableName,ji_oStorageOpType,ji_odbtrListener);jr_oDbTransaction.jm_bAsync=true;jr_oDbTransaction.jm_oStorage=this;return jr_oDbTransaction;}
function A3xaStorageIDB_ExecOpen(ji_oSchema,ji_fnDone)
{var jt_this=this;if(this.jm_oidb!=null)
return true;jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Begin","Open Indexeddb","A3xaStorageIDB_ExecOpen");var jt_oidbRequest=window.indexedDB.open(ji_oSchema.Get_DbName(),ji_oSchema.Get_DbVersion());if(!jt_oidbRequest)
{this.jm_bOpen=false;if(ji_fnDone)
ji_fnDone(false,"Fail on Open IndexedDB: "+"Cannot open");return false;}
jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("idbreq ok","Open Indexeddb","A3xaStorageIDB_ExecOpen");jt_oidbRequest.onerror=function(event)
{jg_oe.LogErr("Fail","Open Indexeddb","A3xaStorageIDB_ExecOpen");if(ji_fnDone)
ji_fnDone(false,"Fail on Open IndexedDB: "+event.target.error);};jt_oidbRequest.onsuccess=function(event)
{jt_this.jm_oidb=jt_oidbRequest.result;if(!jt_this.jm_oidb)
{jg_oe.LogErr("Fail (null-db) "+event.target.errorCode,"Open Indexeddb","A3xaStorageIDB_ExecOpen");if(ji_fnDone)
ji_fnDone(false,"Fail (null-db) "+event.target.errorCode);return;}
jt_this.jm_CurrentSchemaVersion=0;var jt_oidb=jt_oidbRequest.result;jt_this.jm_CurrentSchemaVersion=jt_this.jm_oidb.version;if(!ji_oSchema)
return;if(jt_this.jm_CurrentSchemaVersion!=ji_oSchema.jm_DbVersion)
{jg_oe.LogErr("jt_oidbRequest.onsuccess - wrong schema version - cv,nv: "+
jt_this.jm_CurrentSchemaVersion+","+ji_oSchema.jm_DbVersion+","+(event.target.errorCode||""),"Open Indexeddb","A3xaStorageIDB_ExecOpen");jg_oe.LogStatusBar("--- Reload the page to make the upgrade ---");jg_oe.LogStatusBar("--- Recargar la página para hacer la actualización ---");if(ji_fnDone)
ji_fnDone(false,"Open Rejected:  wrong schema version");return;}
jt_this.jm_bOpen=true;jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Success","Open Indexeddb","A3xaStorageIDB_ExecOpen");jt_this.jm_oidb.onerror=function(event)
{jg_oe.LogErr("Error "+event.target.errorCode,"Indexeddb","jm_oidb.onerror");};if(ji_fnDone)
ji_fnDone(true);};jt_oidbRequest.onupgradeneeded=function(event)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Begin","Upgrade Indexeddb","A3xaStorageIDB_ExecOpen");var jt_oidb=event.target.result;if(!jt_oidb)
{jg_oe.LogErr("Fail","Upgrade Indexeddb"+jt_oidbRequest.error,"A3xaStorageIDB_ExecOpen");return;}
var jt_aosNames=jt_oidb.objectStoreNames;var jt_osNamesCount=(jt_aosNames&&jt_aosNames.length>0)?jt_aosNames.length:0;for(var i=0;i<jt_osNamesCount;i++)
{if(!jt_aosNames[i])
continue;jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Delete old table: "+jt_aosNames[i],"Upgrade Indexeddb","A3xaStorageIDB_ExecOpen");try
{jt_oidb.deleteObjectStore(jt_aosNames[i]);}
catch(e)
{jg_oe.LogErr("Cannot Delete old table: "+jt_aosNames[i],"Upgrade Indexeddb");}}
var jt_aSchemaTableGroups=ji_oSchema.Get_TableGroups();var jt_nofstg=jt_aSchemaTableGroups.Get_I3x3().I().Iar.getCount();for(var i=0;i<jt_nofstg;i++)
{var jt_oSTG=jt_aSchemaTableGroups.Get_I3x3().I().Iar.getItem_ByIndex(i);if(jt_oSTG&&jt_oSTG.jp_sGroupName&&jt_oSTG.jp_sKeyName)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Create new Table "+jt_oSTG.jp_sGroupName,"Upgrade Indexeddb","A3xaStorageIDB_ExecOpen");var jt_oidbObjectStore=jt_oidb.createObjectStore(jt_oSTG.jp_sGroupName,{keyPath:jt_oSTG.jp_sKeyName});}}};return-1;}
function A3xaStorageIDB_ExecWrite(ji_oDbTransaction,ji_oStorageValue)
{var jt_key=ji_oStorageValue.Get_Key();var jt_value=ji_oStorageValue.Get_Value();var jt_this=this;var jt_oidbOS=ji_oDbTransaction.Get_ObjectStore();if(!jt_oidbOS)
return false;var jt_oidbRequest=null;try
{jt_oidbRequest=jt_oidbOS.put(ji_oStorageValue.Get_Pair());}
catch(e)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Write3-addOS: "+e);return ji_oStorageValue.Set_Result({bStore:true,bError:true},"Store Record: "+"Write Error");}
jt_oidbRequest.onsuccess=function(event)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("pc0000=OK "+event.target.result);if(ji_oStorageValue)
{ji_oStorageValue.Set_Result({bStore:true,bSuccess:true});jt_this.jm_LatestWrite=true;}};jt_oidbRequest.onerror=function(event)
{if(ji_oStorageValue)
ji_oStorageValue.Set_Result({bStore:true,bError:true},"Store Record: "+"Write Error - "+event.target.result+" - "+jt_oidbRequest.error);};return-1;}
function A3xaStorageIDB_Transaction(ji_aDbTableName,ji_oStorageOpType,ji_odbtrListener)
{A3xaStorage_Transaction.call(this,ji_aDbTableName,ji_oStorageOpType,ji_odbtrListener);this.IsReady=A3xaStorageIDB_Transaction_IsReady;this.Get_IDBTransaction=A3xaStorageIDB_Transaction_Get_IDBTransaction;this.Get_ObjectStore=A3xaStorageIDB_Transaction_Get_ObjectStore;this.UsingTable=A3xaStorageIDB_Transaction_UsingTable;this.jm_oidbTransaction=null;this.jm_oidbOS=null;}
function A3xaStorageIDB_Transaction_IsReady()
{if(!A3xaStorage_Transaction_IsReady.call(this))
return false;if(!this.jm_oidbOS)
{this.jm_oidbOS=this.Get_ObjectStore();if(!this.jm_oidbOS)
{jg_oe.LogErr("ObjectStore=null - tbn: "+(this.jm_aDbTableName||"null"),"","A3xaStorageIDB_Transaction_IsReady");return false;}}
return true;}
function A3xaStorageIDB_Transaction_Get_IDBTransaction(ji_oidb)
{if(this.jm_oidbTransaction)
return this.jm_oidbTransaction;if(!ji_oidb)
return null;try
{var jt_aSchemaTableGroupNames=null;if(this.jm_oStorage&&this.jm_oStorage.jm_oSchema)
jt_aSchemaTableGroupNames=this.jm_oStorage.jm_oSchema.Get_TableGroupNames(this.jm_aDbTableName);if(jt_aSchemaTableGroupNames&&jt_aSchemaTableGroupNames.length)
{if(this.jm_oStorageOpType.bStore)
this.jm_oidbTransaction=ji_oidb.transaction(jt_aSchemaTableGroupNames,"readwrite");else if(this.jm_oStorageOpType.bLoad)
this.jm_oidbTransaction=ji_oidb.transaction(jt_aSchemaTableGroupNames,"readonly");else if(this.jm_oStorageOpType.bClear)
this.jm_oidbTransaction=ji_oidb.transaction(jt_aSchemaTableGroupNames,"readwrite");}}
catch(e)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("alert(pb4025=)"+e);}
if(!this.jm_oidbTransaction)
return null;jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("alert(pb4030=)");if(this.jm_oStorageOpType.bStore)
jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Transaction Open for Store ");else if(this.jm_oStorageOpType.bLoad)
jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Transaction Open for Load ");else if(this.jm_oStorageOpType.bClear)
jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Transaction Open for Clear ");else
jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Transaction Open for ? ");for(var j=0;j<this.jm_aDbTableName.length;j++)
jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("tablename="+this.jm_aDbTableName[j]);var jt_this=this;var jt_oidbTransaction=this.jm_oidbTransaction;this.jm_oidbTransaction.oncomplete=function(ji_oidbEvent)
{jt_this.FireTransactionComplete(ji_oidbEvent);};this.jm_oidbTransaction.onerror=function(ji_oidbEvent)
{jt_this.FireTransactionError(ji_oidbEvent,jt_oidbTransaction.error);};return this.jm_oidbTransaction;}
function A3xaStorageIDB_Transaction_UsingTable(ji_sCurrentTableName)
{if(!A3xaStorage_Transaction_UsingTable.call(this,ji_sCurrentTableName))
return false;this.jm_oidbOS=null;if(!this.jm_sCurrentTableName)
this.jm_oidbTransaction=null;return true;}
function A3xaStorageIDB_Transaction_Get_ObjectStore()
{if(this.jm_oidbOS)
return this.jm_oidbOS;var jt_oidb=this.jm_oStorage.Get_IDB();if(!jt_oidb)
return null;jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("alert(pb3000=)");var jt_oidbTransaction=this.Get_IDBTransaction(jt_oidb);if(!jt_oidbTransaction)
return null;jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("alert(pb3010=)");if(!this.jm_sCurrentTableName)
return null;jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("alert(pb3020=)"+this.jm_sCurrentTableName);try
{var jt_pTable=null;var jt_oSTG=null;if(this.jm_oStorage.jm_oSchema)
jt_pTable=this.jm_oStorage.jm_oSchema.Get_Table_ByName(this.jm_sCurrentTableName);if(jt_pTable)
jt_oSTG=jt_pTable.jp_oSTG;if(jt_oSTG&&jt_oSTG.jp_sGroupName)
this.jm_oidbOS=jt_oidbTransaction.objectStore(jt_oSTG.jp_sGroupName);}
catch(e)
{jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Get_ObjectStore="+e);}
jg_oe.CanLogInfo({DB:3,DBT:"idb"})&&jg_oe.LogInfo("Get_ObjectStore-Table: "+this.jm_sCurrentTableName+" "+(this.jm_oidbOS?"OK":"Null"));return this.jm_oidbOS;}"use strict";function A3xaAZNMC()
{this.jm_A=null;this.jm_Z=null;this.jm_N=null;this.jm_M=null;this.jm_C=null;this.IsValid=function()
{return true;};this.IsEmpty=function()
{return!this.Get_A();};this.Get_3xAZNMC=function(){return this;};this._CopyFrom=function(ji_o3xaznmc,ji_bZ,ji_bN,ji_bC)
{if(!ji_o3xaznmc)
return false;ji_o3xaznmc=ji_o3xaznmc.Get_3xAZNMC();var jt_A=ji_o3xaznmc.Get_A();var jt_Z=null;var jt_N=null;var jt_M=null;var jt_C=null;if(!(ji_bZ===false))
jt_Z=ji_o3xaznmc.Get_Z();if(!(ji_bZ===false||ji_bN===false))
jt_N=ji_o3xaznmc.Get_N();if(!(ji_bZ===false||ji_bN===false||ji_bC===false))
jt_C=ji_o3xaznmc.Get_C();return this.Set_AZNMC(jt_A,jt_Z,jt_N,jt_M,jt_C);};this.CopyFrom=function(ji_o3xaznmc){return this._CopyFrom(ji_o3xaznmc);};this.CopyFromAZN=function(ji_o3xaznmc){return this._CopyFrom(ji_o3xaznmc,true,true,false);};this.CopyFromAZ=function(ji_o3xaznmc){return this._CopyFrom(ji_o3xaznmc,true,false,false);};this.Clear=function()
{this.jm_A=this.jm_Z=this.jm_N=this.jm_M=this.jm_C=null;return true;};this.Clear_C=function(){this.jm_C=null;return true;};this.Clear_NC=function(){this.jm_N=this.jm_C=null;return true;};this.Clear_ZNC=function(){this.jm_Z=this.jm_N=this.jm_C=null;return true;};this.Get_A=function(){return this.jm_A;};this.Get_Z=function(){return this.jm_Z;};this.Get_N=function(){return this.jm_N;};this.Get_M=function(){return this.jm_M;};this.Get_C=function()
{return((this.jm_A&&this.jm_Z&&this.jm_N))?this.jm_C:null;};this.Get_Code=function(ji_bN,ji_bC)
{if(!this.Get_A())
return"";if(!this.Get_Z())
return this.Get_A();var jr_s=this.Get_A()+this.Get_Z();if(ji_bN!==false)
{if(!this.Get_N())
return jr_s;jr_s+=this.Get_N();}
if(ji_bC!==false)
{if(!this.Get_C())
return jr_s;jr_s+=this.Get_C();}
return jr_s;};this.Set_AZNMC=function(ji_A,ji_Z,ji_N,ji_M,ji_C)
{if(ji_A=="0"||ji_A==0)
ji_A=null;if(ji_Z=="0"||ji_Z==0)
ji_Z=null;if(ji_N=="0"||ji_N==0)
ji_N=null;if(ji_M=="0"||ji_M==0)
ji_M=null;if(ji_C=="0"||ji_C==0)
ji_C=null;if(!ji_A)ji_Z=null;if(!ji_Z)ji_N=null;if(!ji_N)ji_M=null;if(!ji_N)ji_C=null;this.jm_A=(ji_A||null);this.jm_Z=(ji_Z||null);this.jm_N=(ji_N||null);this.jm_M=(ji_M||null);this.jm_C=(ji_C||null);return true;};this.Get_String=function(ji_bN,ji_bC,ji_sep)
{if(!ji_sep)
ji_sep=",";var jr_s="";jr_s+=A3xaToString(this.Get_A())+ji_sep+A3xaToString(this.Get_Z());if(!(ji_bN===false))
{jr_s+=ji_sep+A3xaToString(this.Get_N());if(!(ji_bC===false))
jr_s+=ji_sep+A3xaToString(this.Get_C());}
return jr_s;};this.Set_String=function(ji_s,ji_sep)
{if(!ji_sep)
ji_sep=",";if(!ji_s)
return false;return this.Set_Array(ji_s.split(ji_sep),0)>=0?true:false;};this.Set_Array=function(ji_a,ji_offset)
{if(!ji_a||ji_offset<0||ji_offset>=ji_a.length)
return-1;var jt_bAZNMC=false;var jt_A=null;var jt_Z=null;var jt_N=null;var jt_M=null;var jt_C=null;var jt_i=ji_offset;if(jt_i<ji_a.length)
{jt_bAZNMC=true;jt_A=ji_a[jt_i++];if(jt_A&&jt_A.length!=1)
jt_A=null;}
if(jt_i<ji_a.length)
{jt_Z=ji_a[jt_i++];if(jt_Z&&jt_Z.length!=1)
jt_Z=null;}
if(jt_i<ji_a.length)
{jt_N=ji_a[jt_i++];if(jt_N&&jt_N.length!=1)
jt_N=null;}
if(jt_i<ji_a.length)
{jt_C=ji_a[jt_i++];if(jt_C&&jt_C.length!=3)
jt_C=null;}
if(jt_bAZNMC)
this.Set_AZNMC(jt_A,jt_Z,jt_N,jt_M,jt_C);return jt_i;};this.MatchesAZ=function(ji_o3xaznmc,ji_bSkipSourceNull)
{return this.Matches(ji_o3xaznmc,ji_bSkipSourceNull,false,false);};this.MatchesAZN=function(ji_o3xaznmc,ji_bSkipSourceNull)
{return this.Matches(ji_o3xaznmc,ji_bSkipSourceNull,true,false);};this.Matches=function(ji_o3xaznmc,ji_bSkipSourceNull,ji_bN,ji_bC)
{if(ji_o3xaznmc)
ji_o3xaznmc=ji_o3xaznmc.Get_3xAZNMC();if(!ji_o3xaznmc)
return false;if((this.Get_A()||ji_o3xaznmc.Get_A())&&this.Get_A()!=ji_o3xaznmc.Get_A()&&((!ji_bSkipSourceNull)||(ji_o3xaznmc.Get_A())))
return false;if((this.Get_Z()||ji_o3xaznmc.Get_Z())&&this.Get_Z()!=ji_o3xaznmc.Get_Z()&&((!ji_bSkipSourceNull)||(ji_o3xaznmc.Get_Z())))
return false;if(!(ji_bN===false))
{if((this.Get_N()||ji_o3xaznmc.Get_N())&&this.Get_N()!=ji_o3xaznmc.Get_N()&&((!ji_bSkipSourceNull)||(ji_o3xaznmc.Get_N())))
return false;}
if(!(ji_bC===false))
{if((this.Get_C()||ji_o3xaznmc.Get_C())&&this.Get_C()!=ji_o3xaznmc.Get_C()&&((!ji_bSkipSourceNull)||(ji_o3xaznmc.Get_C())))
return false;}
return true;};this.IsBestFromBabylon=function(){return this.Get_A()=="Y";};this.IsLA=function(){return this.Get_A()=="L";};this.Set_LA=function(){this.Set_AZNMC("L","A");return true;};this.CanBeUnlimited=function()
{if(this.Get_N())
return true;if(this.Get_Z())
{if(A3xaIsDigit(this.Get_Z()))
return true;if(this.IsLA())
return true;if(this.IsBestFromBabylon())
return true;}
return false;};this.CanBeSilver=function()
{if(this.CanBeUnlimited())
return false;if(this.Get_Z())
return true;return false;};this.CanBeSilverTop=function()
{if(this.CanBeUnlimited())
return false;if(this.CanBeSilver())
return false;if(this.Get_A())
return true;return false;};this.CanBeGold=function()
{if(this.CanBeUnlimited())
return false;if(this.CanBeSilver())
return false;if(!this.Get_A())
return true;return false;};}
function A3xaAZNMC_XApp(ji_o3xaznmc)
{this.jm_o3xaznmc=null;this.Get_3xAZNMC=function(){return this.jm_o3xaznmc;};this.Get_3xAZNMC2=function(){return this.jm_o3xaznmc;};this.IsBestFromBabylon=function(){return this.jm_o3xaznmc.IsBestFromBabylon();};this.IsLA=function(){return this.jm_o3xaznmc.IsLA();};this.Set_LA=function(){this.jm_o3xaznmc.Set_LA();return this.jm_o3xaznmc;};this.jm_o3xaznmc=(ji_o3xaznmc?ji_o3xaznmc.Get_3xAZNMC():new A3xaAZNMC());}
function New_A3xaAZNMC_XApp(ji_o3xaznmc){return new A3xaAZNMC_XApp(ji_o3xaznmc);}"use strict";function A3xaPS()
{this.IsValid=function()
{return true;};this.IsEmpty=function()
{return!this.Get_P();};this.Get_3xPS=function(){return this;};this.CopyFrom=function(ji_o3xps)
{if(ji_o3xps)
ji_o3xps=ji_o3xps.Get_3xPS();if(!ji_o3xps)
return false;return this.Set_PS(ji_o3xps.Get_P(),ji_o3xps.Get_S());};this.Clear=function()
{this.jm_P=this.jm_S=null;return true;};this.Clear_S=function()
{this.jm_S=null;return true;};this.Get_P=function(){return this.jm_P;};this.Get_S=function(){return this.jm_S;};this.Get_Code=function()
{if(!this.Get_P())
return"";return A3xaToString(this.Get_P())+A3xaToString(this.Get_S());};this.Set_PS=function(ji_P,ji_S)
{if(ji_P=="0"||ji_P=="00"||ji_P=="000"||ji_P==0)
ji_P=null;if(ji_S=="0"||ji_S=="00"||ji_S=="000"||ji_S==0)
ji_S=null;if(!ji_P)ji_S=null;this.jm_P=(ji_P||null);this.jm_S=(ji_S||null);return true;};this.Get_String=function(ji_sep)
{if(!ji_sep)
ji_sep=",";return A3xaToString(this.Get_P())+ji_sep+A3xaToString(this.Get_S());};this.Set_String=function(ji_s,ji_sep)
{if(!ji_sep)
ji_sep=",";if(!ji_s)
return false;return this.Set_Array(ji_s.split(ji_sep),0)>=0?true:false;};this.Set_Array=function(ji_a,ji_offset)
{if(!ji_a||ji_offset<0||ji_offset>=ji_a.length)
return-1;var jt_bPS=false;var jt_P=null;var jt_S=null;var jt_i=ji_offset;if(jt_i<ji_a.length)
{jt_bPS=true;jt_P=ji_a[jt_i++];if(jt_P&&jt_P.length>3)
jt_P=null;}
if(jt_i<ji_a.length)
{jt_S=ji_a[jt_i++];if(jt_S&&jt_S.length>3)
jt_S=null;}
if(jt_bPS)
this.Set_PS(jt_P,jt_S);return jt_i;};this.Matches=function(ji_o3xps,ji_bSkipSourceNull)
{if(ji_o3xps)
ji_o3xps=ji_o3xps.Get_3xPS();if(!ji_o3xps)
return false;if((this.Get_P()||ji_o3xps.Get_P())&&this.Get_P()!=ji_o3xps.Get_P()&&((!ji_bSkipSourceNull)||(ji_o3xps.Get_P())))
return false;if((this.Get_S()||ji_o3xps.Get_S())&&this.Get_S()!=ji_o3xps.Get_S()&&((!ji_bSkipSourceNull)||(ji_o3xps.Get_S())))
return false;return true;};this.jm_P=null;this.jm_S=null;}
function A3xaPS_XApp(ji_o3xps)
{this.Get_3xPS=function(){return this.jm_o3xps;};this.Get_3xPS2=function(){return this.jm_o3xps;};this.jm_o3xps=(ji_o3xps?ji_o3xps.Get_3xPS():new A3xaPS());}
function New_A3xaPS_XApp(ji_o3xps){return new A3xaPS_XApp(ji_o3xps);}"use strict";function A3xaCategoryCode()
{this.IsValid=function()
{return true;};this.IsEmpty=function()
{return!this.Get_Ucat();};this.Get_3xCat=function(){return this;};this.CopyFrom=function(ji_o3xcat)
{if(!ji_o3xcat)
return false;ji_o3xcat=ji_o3xcat.Get_3xCat();return this.Set_Category(ji_o3xcat.Get_Ucat(),ji_o3xcat.Get_Vcat());};this.Clear=function()
{this.jm_Ucat=this.jm_Vcat=null;return true;};this.Get_Ucat=function(){return this.jm_Ucat;};this.Get_Vcat=function(){return this.jm_Vcat;};this.Get_UVcat=function()
{if(!this.jm_Ucat)
return"";return this.jm_Ucat+(this.jm_Vcat?this.jm_Vcat:"");};this.Get_Group=function(){return this.Get_Ucat();};this.Get_Code=function()
{return this.Get_UVcat();};this.Set_Category=function(ji_Ucat,ji_Vcat)
{if(ji_Ucat=="0"||ji_Ucat==0)
ji_Ucat=null;if(ji_Vcat=="0"||ji_Vcat==0)
ji_Vcat=null;if(!ji_Ucat){ji_Vcat=null;}
this.jm_Ucat=(ji_Ucat||null);this.jm_Vcat=(ji_Vcat||null);return true;};this.Get_String=function(ji_sep)
{if(!ji_sep)
ji_sep=",";var jr_s="";if(!this.jm_Ucat)
return jr_s+ji_sep;return jr_s+this.jm_Ucat+ji_sep+A3xaToString(this.jm_Vcat);};this.Set_String=function(ji_s,ji_sep)
{if(!ji_sep)
ji_sep=",";if(!ji_s)
return false;return this.Set_Array(ji_s.split(ji_sep),0)>=0?true:false;};this.Set_Array=function(ji_a,ji_offset)
{if(!ji_a||ji_offset<0||ji_offset>=ji_a.length)
return-1;var jt_Ucat=null;var jt_Vcat=null;var jt_i=ji_offset;if(jt_i<ji_a.length)
{jt_Ucat=ji_a[jt_i++];if(jt_Ucat&&jt_Ucat.length!=1)
jt_Ucat=null;}
if(jt_i<ji_a.length)
{jt_Vcat=ji_a[jt_i++];if(jt_Vcat&&jt_Vcat.length!=1)
jt_Vcat=null;}
this.Set_Category(jt_Ucat,jt_Vcat);return jt_i;};this.Matches=function(ji_o3xcat,ji_bSkipSourceNull)
{if(ji_o3xcat)
ji_o3xcat=ji_o3xcat.Get_3xCat();if(!ji_o3xcat)
return false;if(this.IsEmpty())
return ji_o3xcat.IsEmpty()?true:false
var jr_b=false;if(this.Get_Ucat())
{if(this.Get_Ucat()==ji_o3xcat.Get_Ucat())
{if(this.Get_Vcat()==ji_o3xcat.Get_Vcat())
return true;return false;}
else if(ji_o3xcat.Get_Ucat())
return false;else
{jr_b|=(ji_bSkipSourceNull?true:false);}}
return jr_b;};this.jm_Ucat=null;this.jm_Vcat=null;}
function A3xaCategoryCode_XApp(ji_o3xcat)
{this.Get_3xCat=function(){return this.jm_o3xcat;};this.Get_3xCat2=function(){return this.jm_o3xcat;};this.ToTypGeo=function()
{var jr_TypEntity_Geo=null;if(!this.jm_o3xcat)
return null;if(this.jm_o3xcat.IsEmpty())
return null;if(this.IsTypGeo())
{var jt_Vcat=this.jm_o3xcat.Get_Vcat();if(!jt_Vcat)
return null;if(jt_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_Area)
return jg_oe.jc_oEntity.jc_Typ_GeoArea;jr_TypEntity_Geo=this._ToTypGeoRegion(jt_Vcat);if(jr_TypEntity_Geo)
return jr_TypEntity_Geo;if(jt_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_City)
return jg_oe.jc_oEntity.jc_Typ_GeoCity;if(jt_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_Country)
return jg_oe.jc_oEntity.jc_Typ_GeoCountry;jr_TypEntity_Geo=this._ToTypGeoState(jt_Vcat);if(jr_TypEntity_Geo)
return jr_TypEntity_Geo;}
return null;};this.IsTypGeo=function()
{if(!this.jm_o3xcat)
return false;if(this.jm_o3xcat.Get_Ucat())
{if(this.jm_o3xcat.Get_Ucat()==jg_oe.jc_oEntity.jc_UCat_Geo)
return true;}
return false;};this._ToTypGeoRegion=function(ji_Vcat)
{if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_Region)
return jg_oe.jc_oEntity.jc_Typ_GeoRegion;if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_RegionNR)
return jg_oe.jc_oEntity.jc_Typ_GeoRegion;if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_RegionTR)
return jg_oe.jc_oEntity.jc_Typ_GeoRegion;if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_RegionMetr)
return jg_oe.jc_oEntity.jc_Typ_GeoRegion;if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_RegionIsland)
return jg_oe.jc_oEntity.jc_Typ_GeoRegion;return null;};this._ToTypGeoState=function(ji_Vcat)
{if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_State)
return jg_oe.jc_oEntity.jc_Typ_GeoState;if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_Provincie)
return jg_oe.jc_oEntity.jc_Typ_GeoState;if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_Department)
return jg_oe.jc_oEntity.jc_Typ_GeoState;if(ji_Vcat==jg_oe.jc_oEntity.jc_VCat_Geo_RegionAdmin)
return jg_oe.jc_oEntity.jc_Typ_GeoState;return null;};this.IsMetasystem_Control=function()
{if(!this.jm_o3xcat)
return false;return this.jm_o3xcat.Get_Ucat()==jg_oe.jc_oEntity.jc_UCat_Metasystem&&this.jm_o3xcat.Get_Vcat()==jg_oe.jc_oEntity.jc_VCat_Metasystem_Control;};this.IsGroup_Metasystem=function()
{if(!this.jm_o3xcat)
return false;return this.jm_o3xcat.Get_Ucat()==jg_oe.jc_oEntity.jc_UCat_Metasystem;};this.IsGroup_Category=function()
{if(!this.jm_o3xcat)
return false;return this.jm_o3xcat.Get_Ucat()==jg_oe.jc_oEntity.jc_UCat_Category;};this.IsGroup_Topic=function()
{if(!this.jm_o3xcat)
return false;return this.jm_o3xcat.Get_Ucat()==jg_oe.jc_oEntity.jc_UCat_Topic;};this.IsGroup_Geo=function()
{if(!this.jm_o3xcat)
return false;return this.jm_o3xcat.Get_Ucat()==jg_oe.jc_oEntity.jc_UCat_Geo;};this.jm_o3xcat=(ji_o3xcat?ji_o3xcat.Get_3xCat():new A3xaCategoryCode());}
function New_A3xaCategoryCode_XApp(ji_o3xcat){return new A3xaCategoryCode_XApp(ji_o3xcat);}
function A3xaCategoryList(ji_sCategoryList)
{this.Match=function(ji_o3xcat)
{if(ji_o3xcat)
ji_o3xcat=ji_o3xcat.Get_3xCat();if(!ji_o3xcat||ji_o3xcat.IsEmpty())
return false;if(!(this.jm_ao3xcat&&this.jm_ao3xcat.length))
return false;for(var i=0;i<this.jm_ao3xcat.length;i++)
{if(this.jm_ao3xcat[i].Matches(ji_o3xcat))
return true;}
return false;};this.jm_ao3xcat=[];var jt_assCategoryList=((ji_sCategoryList&&ji_sCategoryList.length)?ji_sCategoryList.split("#"):null);for(var iss=0;jt_assCategoryList&&iss<jt_assCategoryList.length;iss++)
{if(!jt_assCategoryList[iss]||jt_assCategoryList[iss].substring(0,3)=="p3x")
continue;var jt_asCategoryList=(jt_assCategoryList[iss]?jt_assCategoryList[iss].split(","):null);if(!jt_asCategoryList)
continue;for(var i=0;i<jt_asCategoryList.length;i++)
{var jt_o3xcat=new A3xaCategoryCode();if(!jt_asCategoryList[i])
continue;jt_o3xcat.Set_String(jt_asCategoryList[i],"-");this.jm_ao3xcat.push(jt_o3xcat);}}}"use strict";function A3xaXEID()
{var jt_this=this;this.jm_TypEntity=null;this.jm_IdEntity=null;this.jm_TypGroup=null;this.jm_IdGroup=null;this.jm_o3xaznmc=null;this.jm_o3xps=null;this.jm_o3xcat=null;this.IsValid=function()
{return true;};this.IsEmpty=function()
{return!this.Get_TypEntity();};this.Get_3xXEID=function(){return this;};this.CopyFrom=function(ji_o3xxeid)
{if(ji_o3xxeid)
ji_o3xxeid=ji_o3xxeid.Get_3xXEID();if(!ji_o3xxeid)
return false;this.Set_GEID(ji_o3xxeid.Get_TypEntity(),ji_o3xxeid.Get_IdEntity(),ji_o3xxeid.Get_TypGroup(),ji_o3xxeid.Get_IdGroup());this.Set_3xAZNMC(ji_o3xxeid);this.Set_3xPS(ji_o3xxeid);this.Set_3xCat(ji_o3xxeid);return true;};this.Clear=function()
{this.Set_GEID(null,null,null,null);this.jm_o3xaznmc.Clear();this.jm_o3xps.Clear();this.jm_o3xcat.Clear();return true;};this.Get_PrimaryKey=function()
{var jt_te=this.Get_TypEntity();var jt_ide=this.Get_IdEntity();if(!(jt_te&&jt_ide>0))
return null;return A3xaToString(jt_te)+","+A3xaToString(jt_ide);};this.Get_TypEntity=function(){return this.jm_TypEntity;};this.Set_TypEntity=function(ji_val){this.jm_TypEntity=ji_val;return true;};this.Get_IdEntity=function(){return this.jm_IdEntity;};this.Set_IdEntity=function(ji_val){this.jm_IdEntity=ji_val;return true;};this.Get_TypGroup=function(){return this.jm_TypGroup;};this.Set_TypGroup=function(ji_val){this.jm_TypGroup=ji_val;return true;};this.Get_IdGroup=function(){return this.jm_IdGroup;};this.Set_IdGroup=function(ji_val){this.jm_IdGroup=ji_val;return true;};this.IsGroupMajor=function()
{return(!this.jm_TypGroup||this.jm_TypGroup=="M"||this.jm_TypGroup=="U")&&!(this.jm_IdGroup>0);};this.IsGroupMinor=function(){return this.jm_TypGroup&&this.jm_IdGroup>0;};this.Set_GEID=function(ji_te,ji_ide,ji_tg,ji_idg)
{this.Set_TypEntity(ji_te||null);this.Set_IdEntity(ji_ide||null);this.Set_TypGroup(ji_tg||null);this.Set_IdGroup(ji_idg||null);return true;};this.Clear_GEID=function()
{this.Set_TypEntity(null);this.Set_IdEntity(null);this.Set_TypGroup(null);this.Set_IdGroup(null);return true;};this.Get_3xAZNMC=function(){return this.jm_o3xaznmc;};this.Get_3xAZNMC2=function(){return this.jm_o3xaznmc;};this.Set_3xAZNMC=function(ji_o3xaznmc){return this.jm_o3xaznmc.CopyFrom(ji_o3xaznmc);};this.Set_3xAZN=function(ji_o3xaznmc){return this.jm_o3xaznmc.CopyFromAZN(ji_o3xaznmc);};this.Set_3xAZ=function(ji_o3xaznmc){return this.jm_o3xaznmc.CopyFromAZ(ji_o3xaznmc);};this.Get_3xPS=function(){return this.jm_o3xps;};this.Get_3xPS2=function(){return this.jm_o3xps;};this.Set_3xPS=function(ji_o3xps){return this.jm_o3xps.CopyFrom(ji_o3xps);};this.Get_3xCat=function(){return this.jm_o3xcat;};this.Get_3xCat2=function(){return this.jm_o3xcat;};this.Set_3xCat=function(ji_o3xcat){return this.jm_o3xcat.CopyFrom(ji_o3xcat);};this.Get_Code=function()
{return"";};this.Get_String=function(ji_bGEID,ji_bEC,ji_sep)
{if(ji_bGEID===false&&ji_bEC===false)
return"";if(!ji_sep)
ji_sep=",";var jr_s=A3xaToString(this.Get_TypEntity());if(ji_bGEID!==false)
{jr_s+=ji_sep+A3xaToString(this.Get_IdEntity())+
ji_sep+A3xaToString(this.Get_TypGroup())+
ji_sep+A3xaToString(this.Get_IdGroup());}
if(ji_bEC!==false)
{jr_s+=ji_sep+ji_sep+this.Get_3xAZNMC2().Get_String();jr_s+=ji_sep+this.Get_3xPS2().Get_String();jr_s+=ji_sep+this.Get_3xCat2().Get_String();}
return jr_s;};this.Set_String=function(ji_s,ji_sep)
{if(!ji_sep)
ji_sep=",";if(!ji_s)
return false;return this.Set_Array(ji_s.split(ji_sep),0)>=0?true:false;};this.Get_CompactCode=function()
{var jr_scc="A0";var jt_o3xaznmc=this.Get_3xAZNMC2();var jt_o3xps=this.Get_3xPS2();var jt_o3xcat=this.Get_3xCat2();jr_scc+=(this.Get_TypEntity()||"0");jr_scc+=(this.Get_IdEntity()||"0");jr_scc+=(this.Get_TypGroup()||"M");jr_scc+=(this.Get_IdGroup()||"0");jr_scc+="A";jr_scc+=(jt_o3xaznmc.Get_A()||"0");jr_scc+=(jt_o3xaznmc.Get_Z()||"0");jr_scc+=(jt_o3xaznmc.Get_N()||"0");jr_scc+=(jt_o3xaznmc.Get_M()||"0");jr_scc+=(jt_o3xaznmc.Get_C()||"0");jr_scc+="0";jr_scc+=(jt_o3xps.Get_P()||"0");jr_scc+=(jt_o3xps.Get_S()||"0");jr_scc+="0";jr_scc+=(jt_o3xcat.Get_Ucat()||"0");jr_scc+=(jt_o3xcat.Get_Vcat()||"0");return jr_scc;};this.Set_CompactCode=function(ji_scc)
{if(!ji_scc)
return false;var jt_cursor=0;var jt_lencc=ji_scc.length;if(jt_lencc<2)
return false;var jt_A0cc=ji_scc.substring(jt_cursor,jt_cursor+2);if(jt_A0cc!="A0")
return false;jt_cursor=2;if(jt_cursor>=jt_lencc)
return true;var jt_te=null;var jt_ide=null;var jt_tg=null;var jt_idg=null;jt_te=ji_scc.charAt(jt_cursor++);if(!jt_te||jt_te=="0")
jt_te=null;if(jt_cursor<jt_lencc)
{jt_ide=ji_scc.charAt(jt_cursor);if(!jt_ide||jt_ide=="0")
{jt_ide=null;jt_cursor++;}
else
{jt_ide=parseInt(ji_scc.substring(jt_cursor),10);if(jt_ide>0)
{while(A3xaIsDigit(ji_scc.charAt(jt_cursor)))
jt_cursor++;}
else
{jt_ide=null;jt_cursor++;}}
if(jt_cursor<jt_lencc)
{jt_tg=ji_scc.charAt(jt_cursor++);if(!jt_tg||jt_tg=="0")
jt_tg=null;if(!jt_tg)
return false;if(jt_cursor<jt_lencc)
{jt_idg=ji_scc.charAt(jt_cursor);if(!jt_idg||jt_idg=="0")
{jt_idg=null;jt_cursor++;}
else
{jt_idg=parseInt(ji_scc.substring(jt_cursor),10);if(jt_idg>0)
{while(A3xaIsDigit(ji_scc.charAt(jt_cursor)))
jt_cursor++;}
else
{jt_idg=null;jt_cursor++;}}}}}
if(jt_cursor<jt_lencc)
{var jt_markaznmc=ji_scc.charAt(jt_cursor++);if(jt_markaznmc!="A")
return false;}
if(jt_cursor>=jt_lencc)
{this.Set_GEID(jt_te,jt_ide,jt_tg,jt_idg);return true;}
var jt_a=null;var jt_z=null;var jt_n=null;var jt_m=null;var jt_c=null;jt_a=ji_scc.charAt(jt_cursor++);if(jt_cursor<jt_lencc)
{jt_z=ji_scc.charAt(jt_cursor++);if(jt_cursor<jt_lencc)
{jt_n=ji_scc.charAt(jt_cursor++);if(jt_cursor<jt_lencc)
{jt_m=ji_scc.charAt(jt_cursor++);if(jt_cursor<jt_lencc)
{jt_c=ji_scc.charAt(jt_cursor);if(jt_c&&jt_c!="0")
{if(jt_cursor>jt_lencc-3)
return false;jt_c=ji_scc.substring(jt_cursor,jt_cursor+3);jt_cursor+=3;}
else if(jt_c=="0")
{jt_c=null;jt_cursor++;}
else
return false;}}}}
if(!jt_a||jt_a=="0"){jt_a=null;jt_z=null;jt_n=null;jt_m=null;jt_c=null;}
else if(!jt_z||jt_z=="0"){jt_z=null;jt_n=null;jt_m=null;jt_c=null;}
else if(!jt_n||jt_n=="0"){jt_n=null;jt_m=null;jt_c=null;}
else if(!jt_c||jt_c=="0"){jt_c=null;}
if(jt_cursor<jt_lencc)
{var jt_markps=ji_scc.charAt(jt_cursor++);if(jt_markps!="0")
return false;}
if(jt_cursor>=jt_lencc)
{this.Set_GEID(jt_te,jt_ide,jt_tg,jt_idg);this.Get_3xAZNMC2().Set_AZNMC(jt_a,jt_z,jt_n,jt_m,jt_c);return true;}
var jt_p=null;var jt_s=null;jt_p=ji_scc.charAt(jt_cursor);if(jt_p&&jt_p!="0")
{if(jt_cursor>jt_lencc-3)
return false;jt_p=ji_scc.substring(jt_cursor,jt_cursor+3);jt_cursor+=3;}
else if(jt_p=="0")
{jt_p=null;jt_cursor++;}
else
return false;if(jt_cursor<jt_lencc)
{jt_s=ji_scc.charAt(jt_cursor);if(jt_s&&jt_s!="0")
{jt_s=ji_scc.substring(jt_cursor,jt_cursor+2);jt_cursor+=2;var jt_s3=ji_scc.charAt(jt_cursor);if(jt_s3&&jt_s3!="0"&&!A3xaIsDigit(jt_s3))
{jt_s=jt_s+jt_s3;jt_cursor++;}}
else if(jt_s=="0")
{jt_s=null;jt_cursor++;}
else
return false;}
if(!jt_p||jt_p=="0"){jt_p=null;jt_s=null;}
else if(!jt_s||jt_s=="0"){jt_s=null;}
if(jt_cursor<jt_lencc)
{var jt_markcat=ji_scc.charAt(jt_cursor++);if(jt_markcat!="0")
return false;}
if(jt_cursor>=jt_lencc)
{this.Set_GEID(jt_te,jt_ide,jt_tg,jt_idg);this.Get_3xAZNMC2().Set_AZNMC(jt_a,jt_z,jt_n,jt_m,jt_c);this.Get_3xPS2().Set_PS(jt_p,jt_s);return true;}
var jt_ucat=null;var jt_vcat=null;jt_ucat=ji_scc.charAt(jt_cursor++);if(jt_cursor<jt_lencc)
jt_vcat=ji_scc.charAt(jt_cursor++);if(!jt_ucat||jt_ucat=="0"){jt_ucat=null;jt_vcat=null;}
else if(!jt_vcat||jt_vcat=="0"){jt_vcat=null;}
if(jt_cursor!=jt_lencc)
return false;this.Set_GEID(jt_te,jt_ide,jt_tg,jt_idg);this.Get_3xAZNMC2().Set_AZNMC(jt_a,jt_z,jt_n,jt_m,jt_c);this.Get_3xPS2().Set_PS(jt_p,jt_s);this.Get_3xCat2().Set_Category(jt_ucat,jt_vcat);return true;};this.Set_Array=function(ji_a,ji_offset)
{if(!ji_a||ji_offset<0||ji_offset>=ji_a.length)
return-1;var jt_i=ji_offset;if(ji_a[jt_i].substring(0,2)=="A0")
{if(!this.Set_CompactCode(ji_a[jt_i]))
return-1;jt_i++;return jt_i;}
if(jt_i<ji_a.length)
this.Set_TypEntity(ji_a[jt_i++]);if(jt_i<ji_a.length)
this.Set_IdEntity(ji_a[jt_i++]);if(jt_i<ji_a.length)
this.Set_TypGroup(ji_a[jt_i++]);if(jt_i<ji_a.length)
this.Set_IdGroup(ji_a[jt_i++]);if(jt_i<ji_a.length)
jt_i++;if(jt_i<ji_a.length)
{this.Get_3xAZNMC2().Set_Array(ji_a,jt_i);jt_i+=4;this.Get_3xPS2().Set_Array(ji_a,jt_i);jt_i+=2;this.Get_3xCat2().Set_Array(ji_a,jt_i);jt_i+=2;}
return jt_i;};this.Matches=function(ji_oxeid,ji_bSkipSourceNull)
{return this._A3xaXEID_Matches(ji_oxeid,ji_bSkipSourceNull);};this._A3xaXEID_Matches=function(ji_oxeid,ji_bSkipSourceNull)
{if(ji_oxeid)
ji_oxeid=ji_oxeid.Get_3xXEID();if(!ji_oxeid)
return false;if((this.Get_TypEntity()||ji_oxeid.Get_TypEntity())&&this.Get_TypEntity()!=ji_oxeid.Get_TypEntity()&&((!ji_bSkipSourceNull)||(ji_oxeid.Get_TypEntity())))
return false;if((this.Get_IdEntity()||ji_oxeid.Get_IdEntity())&&this.Get_IdEntity()!=ji_oxeid.Get_IdEntity()&&((!ji_bSkipSourceNull)||(ji_oxeid.Get_IdEntity())))
return false;if((this.Get_TypGroup()||ji_oxeid.Get_TypGroup())&&this.Get_TypGroup()!=ji_oxeid.Get_TypGroup()&&((!ji_bSkipSourceNull)||(ji_oxeid.Get_TypGroup())))
return false;if((this.Get_IdGroup()||ji_oxeid.Get_IdGroup())&&this.Get_IdGroup()!=ji_oxeid.Get_IdGroup()&&((!ji_bSkipSourceNull)||(ji_oxeid.Get_IdGroup())))
return false;if(!this.Get_3xCat2().Matches(ji_oxeid,ji_bSkipSourceNull))
return false;if(!this.Get_3xAZNMC2().Matches(ji_oxeid,ji_bSkipSourceNull))
return false;if(!this.Get_3xPS2().Matches(ji_oxeid,ji_bSkipSourceNull))
return false;return true;};this.MatchesArray=function(ji_aoxeid,ji_bSkipNull)
{if(!ji_aoxeid)
return false;for(var i=0;i<ji_aoxeid.length;i++)
{if(this.Matches(ji_aoxeid[i],ji_bSkipNull))
return true;}
return false;};this._S=function(ji_val)
{if(!ji_val||ji_val==0||ji_val=="0")
return"";return ji_val;};this.Get_XJSon=function(ji_o3xxeidCompare)
{if(ji_o3xxeidCompare)
ji_o3xxeidCompare=ji_o3xxeidCompare.Get_3xXEID();var jr_sxj='{';jr_sxj+='"'+jg_oe.jc_oA3xaDbZero.jc_eidf_enty+'":"'+this._S(this.Get_TypEntity())+'"';jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_enid+'":"'+this._S(this.Get_IdEntity())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_TypGroup())!=this._S(ji_o3xxeidCompare.Get_TypGroup()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_egty+'":"'+this._S(this.Get_TypGroup())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_IdGroup())!=this._S(ji_o3xxeidCompare.Get_IdGroup()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_egid+'":"'+this._S(this.Get_IdGroup())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xCat2().Get_Ucat())!=this._S(ji_o3xxeidCompare.Get_3xCat2().Get_Ucat()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_ucat+'":"'+this._S(this.Get_3xCat2().Get_Ucat())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xCat2().Get_Vcat())!=this._S(ji_o3xxeidCompare.Get_3xCat2().Get_Vcat()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_vcat+'":"'+this._S(this.Get_3xCat2().Get_Vcat())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xAZNMC2().Get_A())!=this._S(ji_o3xxeidCompare.Get_3xAZNMC2().Get_A()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_a+'":"'+this._S(this.Get_3xAZNMC2().Get_A())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xAZNMC2().Get_Z())!=this._S(ji_o3xxeidCompare.Get_3xAZNMC2().Get_Z()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_z+'":"'+this._S(this.Get_3xAZNMC2().Get_Z())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xAZNMC2().Get_N())!=this._S(ji_o3xxeidCompare.Get_3xAZNMC2().Get_N()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_n+'":"'+this._S(this.Get_3xAZNMC2().Get_N())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xAZNMC2().Get_M())!=this._S(ji_o3xxeidCompare.Get_3xAZNMC2().Get_M()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_m+'":"'+this._S(this.Get_3xAZNMC2().Get_M())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xAZNMC2().Get_C())!=this._S(ji_o3xxeidCompare.Get_3xAZNMC2().Get_C()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_c+'":"'+this._S(this.Get_3xAZNMC2().Get_C())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xPS2().Get_P())!=this._S(ji_o3xxeidCompare.Get_3xPS2().Get_P()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_p+'":"'+this._S(this.Get_3xPS2().Get_P())+'"';if(!ji_o3xxeidCompare||this._S(this.Get_3xPS2().Get_S())!=this._S(ji_o3xxeidCompare.Get_3xPS2().Get_S()))
jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_eidf_s+'":"'+this._S(this.Get_3xPS2().Get_S())+'"';jr_sxj+='}';return jr_sxj;};this.Set_XJSon=function(ji_sxjebis)
{var jt_oxjebis=JSON.parse(ji_sxjebis,function(ji_k,ji_v)
{return ji_v;});if(!jt_oxjebis)
return false;this.Set_GEID(jt_oxjebis.f3x_enty,jt_oxjebis.f3x_enid,jt_oxjebis.f3x_egty,jt_oxjebis.f3x_egid);this.Get_3xCat2().Set_Category(jt_oxjebis.f3x_cU,jt_oxjebis.f3x_cV);this.Get_3xAZNMC2().Set_AZNMC(jt_oxjebis.f3x_gnA,jt_oxjebis.f3x_gnZ,jt_oxjebis.f3x_gnN,jt_oxjebis.f3x_gnM,jt_oxjebis.f3x_gnC);this.Get_3xPS2().Set_PS(jt_oxjebis.f3x_gpP,jt_oxjebis.f3x_gpS);return true;};this.CanBeUnlimitedEnterprise=function()
{if(this.Get_TypEntity()&&this.Get_TypEntity()!=jg_oe.jc_oEntity.jc_Typ_Enterprise)
return false;return this.Get_3xAZNMC2()&&this.Get_3xAZNMC2().CanBeUnlimited();};this.CanBeSilverEnterprise=function()
{if(this.Get_TypEntity()&&this.Get_TypEntity()!=jg_oe.jc_oEntity.jc_Typ_Enterprise)
return false;return this.Get_3xAZNMC2()&&this.Get_3xAZNMC2().CanBeSilver();};this.CanBeSilverTopEnterprise=function()
{if(this.Get_TypEntity()&&this.Get_TypEntity()!=jg_oe.jc_oEntity.jc_Typ_Enterprise)
return false;return this.Get_3xAZNMC2()&&this.Get_3xAZNMC2().CanBeSilverTop();};this.CanBeGoldEnterprise=function()
{if(this.Get_TypEntity()&&this.Get_TypEntity()!=jg_oe.jc_oEntity.jc_Typ_Enterprise)
return false;return this.Get_3xAZNMC2()&&this.Get_3xAZNMC2().CanBeGold();};this.jm_o3xaznmc=new A3xaAZNMC();this.jm_o3xps=new A3xaPS();this.jm_o3xcat=new A3xaCategoryCode();}
function A3xaXEID_XApp(ji_o3xxeid)
{this.Get_3xXEID=function(){return this.jm_o3xxeid;};this.BuildAltKey=function(ji_TypEntityTarget,ji_bSelf)
{if(!this.jm_o3xxeid)
return null;if(!ji_TypEntityTarget)
{if(ji_bSelf)
ji_TypEntityTarget=A3xaToString(this.jm_o3xxeid.Get_TypEntity());if(!ji_TypEntityTarget)
return null;}
if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
{return ji_TypEntityTarget+","+this.jm_o3xxeid.Get_3xAZNMC().Get_String()+","+this.jm_o3xxeid.Get_3xPS().Get_String();}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_Category)
{if(!this.jm_o3xxeid.Get_3xCat2().IsEmpty())
return ji_TypEntityTarget+","+this.jm_o3xxeid.Get_3xCat().Get_String();}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_GeoTopArea)
{var jt_o3xaznmc=this.jm_o3xxeid.Get_3xAZNMC();if(jt_o3xaznmc.Get_A())
return ji_TypEntityTarget+","+jt_o3xaznmc.Get_A();}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_GeoArea)
{var jt_o3xaznmc=this.jm_o3xxeid.Get_3xAZNMC();if(jt_o3xaznmc.Get_Z())
return ji_TypEntityTarget+","+jt_o3xaznmc.Get_String(false,false);}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
{var jt_o3xaznmc=this.jm_o3xxeid.Get_3xAZNMC();if(jt_o3xaznmc.Get_N())
return ji_TypEntityTarget+","+jt_o3xaznmc.Get_String(true,false);}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_GeoCity)
{var jt_o3xaznmc=this.jm_o3xxeid.Get_3xAZNMC();if(jt_o3xaznmc.Get_C())
return ji_TypEntityTarget+","+jt_o3xaznmc.Get_String();}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
{var jt_o3xPS=this.jm_o3xxeid.Get_3xPS();var jt_P=A3xaToString(jt_o3xPS.Get_P());if(jt_P)
return ji_TypEntityTarget+","+jt_P;}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_GeoState)
{var jt_o3xPS=this.jm_o3xxeid.Get_3xPS();var jt_P=A3xaToString(jt_o3xPS.Get_P());var jt_S=A3xaToString(jt_o3xPS.Get_S());if(jt_P&&jt_S)
return ji_TypEntityTarget+","+jt_P+","+jt_S;}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_Enterprise)
{var jt_o3xaznmc=this.jm_o3xxeid.Get_3xAZNMC();var jt_o3xcat=this.jm_o3xxeid.Get_3xCat();return ji_TypEntityTarget+","+jt_o3xaznmc.Get_String(true,false)+","+jt_o3xcat.Get_String();}
else if(ji_TypEntityTarget==jg_oe.jc_oEntity.jc_Typ_Enterprise)
{return null;}
return null;};this.jm_o3xxeid=(ji_o3xxeid?ji_o3xxeid.Get_3xXEID():new A3xaXEID());}
function New_A3xaXEID_XApp(ji_o3xxeid){return new A3xaXEID_XApp(ji_o3xxeid);}"use strict";function A3xaEBIS()
{this.IsValid=function()
{return true;};this.IsEmpty=function()
{return false;};this.Get_3xEBIS=function(){return this;};this.CopyFrom=function(ji_o3xebis)
{if(ji_o3xebis)
ji_o3xebis=ji_o3xebis.Get_3xEBIS();if(!ji_o3xebis)
return false;this.Set_Created(ji_o3xebis.Get_Created());this.Set_Modified(ji_o3xebis.Get_Modified());this.Set_Order(ji_o3xebis.Get_Order());this.Set_Idsym(ji_o3xebis.Get_Idsym());this.Set_Name(ji_o3xebis.Get_Name());this.Set_Descr(ji_o3xebis.Get_Descr());this.Set_Website(ji_o3xebis.Get_Website());this.Set_Lat(ji_o3xebis.Get_Lat());this.Set_Lon(ji_o3xebis.Get_Lon());this.Set_Color(ji_o3xebis.Get_Color());return true;};this.Clear=function()
{this.Set_Created("");this.Set_Modified("");this.Set_Order("");this.Set_Idsym("");this.Set_Name("");this.Set_Descr("");this.Set_Website("");this.Set_Lat("");this.Set_Lon("");this.Set_Color("");return true;};this.Get_Created=function(){return this.jm_Created;};this.Get_Modified=function(){return this.jm_Modified;};this.Get_Order=function(){return this.jm_Order;};this.Get_Idsym=function(){return this.jm_Idsym;};this.Get_Name=function(){return this.jm_sName;};this.Get_Descr=function(){return this.jm_sDescr;};this.Get_Website=function(){return this.jm_sWebsite;};this.Get_Lat=function(){return this.jm_Lat;};this.Get_Lon=function(){return this.jm_Lon;};this.Get_Color=function(){return this.jm_Color||this.jm_DefaultColor;};this._Get_Color=function(){return this.jm_Color;};this.Set_Created=function(ji_Created){this.jm_Created=ji_Created;return true;};this.Set_Modified=function(ji_Modified){this.jm_Modified=ji_Modified;return true;};this.Set_Order=function(ji_Order){this.jm_Order=ji_Order;return true;};this.Set_Idsym=function(ji_Idsym){this.jm_Idsym=ji_Idsym;return true;};this.Set_Name=function(ji_sName){this.jm_sName=ji_sName;return true;};this.Set_Descr=function(ji_sDescr){this.jm_sDescr=ji_sDescr;return true;};this.Set_Website=function(ji_sWebsite){this.jm_sWebsite=ji_sWebsite;return true;};this.Set_Lat=function(ji_Lat){this.jm_Lat=ji_Lat;return true;};this.Set_Lon=function(ji_Lon){this.jm_Lon=ji_Lon;return true;};this.Set_Color=function(ji_Color){this.jm_Color=ji_Color;return true;};this.Set_DefaultColor=function(ji_Color){this.jm_DefaultColor=ji_Color;return true;};this.Get_DefaultColor=function(){return this.jm_DefaultColor;};this._S=function(ji_val)
{if(!ji_val||ji_val==0||ji_val=="0")
return"";return ji_val;};this.Get_XJSon=function(ji_o3xebisCompare)
{if(ji_o3xebisCompare)
ji_o3xebisCompare=ji_o3xebisCompare.Get_3xEBIS();var jt_comma="";var jr_sxj='{';if(!ji_o3xebisCompare||this._S(this.Get_Created())!=this._S(ji_o3xebisCompare.Get_Created()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_created+'":"'+this._S(this.Get_Created())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Modified())!=this._S(ji_o3xebisCompare.Get_Modified()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_modified+'":"'+this._S(this.Get_Modified())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Order())!=this._S(ji_o3xebisCompare.Get_Order()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_order+'":"'+this._S(this.Get_Order())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Idsym())!=this._S(ji_o3xebisCompare.Get_Idsym()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_sym+'":"'+this._S(this.Get_Idsym())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this._Get_Color())!=this._S(ji_o3xebisCompare._Get_Color()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_color+'":"'+this._S(this._Get_Color())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Lat())!=this._S(ji_o3xebisCompare.Get_Lat()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_lat+'":"'+this._S(this.Get_Lat())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Lon())!=this._S(ji_o3xebisCompare.Get_Lon()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_lon+'":"'+this._S(this.Get_Lon())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Name())!=this._S(ji_o3xebisCompare.Get_Name()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_name+'":"'+this._S(this.Get_Name())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Descr())!=this._S(ji_o3xebisCompare.Get_Descr()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_descr+'":"'+this._S(this.Get_Descr())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Website())!=this._S(ji_o3xebisCompare.Get_Website()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_url+'":"'+this._S(this.Get_Website())+'"';jt_comma=",";}
jr_sxj+='}';return jr_sxj;};this.Set_XJSon=function(ji_sxjebis)
{var jt_oxjebis=JSON.parse(ji_sxjebis,function(ji_k,ji_v)
{return ji_v;});if(!jt_oxjebis)
return false;this.Set_Created(jt_oxjebis.f3x_ucretime);this.Set_Modified(jt_oxjebis.f3x_umodtime);this.Set_Order(jt_oxjebis.f3x_esorder);this.Set_Idsym(jt_oxjebis.f3x_esym);this.Set_Color(jt_oxjebis.f3x_escolor);this.Set_Lat(jt_oxjebis.f3x_eslat);this.Set_Lon(jt_oxjebis.f3x_eslon);this.Set_Name(jt_oxjebis.f3x_esname);this.Set_Descr(jt_oxjebis.f3x_esdescr);this.Set_Website(jt_oxjebis.f3x_esurl);return true;};this.jm_Created=null;this.jm_Modified=null;this.jm_Order=null;this.jm_Idsym=null;this.jm_sName=null;this.jm_Color=null;this.jm_sDescr=null;this.jm_sWebsite=null;this.jm_Lat=null;this.jm_Lon=null;this.jm_DefaultColor="FFFFFF";}"use strict";function A3xaEBID()
{this.IsValid=function()
{return true;};this.IsEmpty=function()
{return false;};this.Get_3xEBID=function(){return this;};this.CopyFrom=function(ji_o3xebid)
{if(ji_o3xebid)
ji_o3xebid=ji_o3xebid.Get_3xEBID();if(!ji_o3xebid)
return false;this.Set_TypEntity(ji_o3xebid.Set_TypEntity());this.Set_IdEntity(ji_o3xebid.Get_IdEntity());this.Set_Count(ji_o3xebid.Get_Count());this.Set_Likes(ji_o3xebid.Get_Likes());this.Set_LikesBonus(ji_o3xebid.Get_LikesBonus());this.Set_Clicks(ji_o3xebid.Get_Clicks());this.Set_ClickTime(ji_o3xebid.Get_ClickTime());this.Set_Score(ji_o3xebid.Get_Score());this.Set_ScoreWeight(ji_o3xebid.Get_ScoreWeight());this.Set_MaxClicks(ji_o3xebid.Get_MaxClicks());this.Set_MaxScore(ji_o3xebid.Get_MaxScore());return true;};this.Clear=function()
{this.Set_TypEntity(null);this.Set_IdEntity(null);this.Set_Count(Number(0));this.Set_Likes(Number(0));this.Set_LikesBonus(Number(0));this.Set_Clicks(Number(0));this.Set_ClickTime("");this.Set_Score(Number(0));this.Set_ScoreWeight(Number(0));return true;};this.Get_TypEntity=function(){return this.jm_TypEntity;};this.Get_IdEntity=function(){return this.jm_IdEntity;};this.Get_Count=function(){return Number(this.jm_Count||0);};this.Get_Likes=function(){return Number(this.jm_Likes||0);};this.Get_LikesBonus=function(){return Number(this.jm_LikesBonus||0);};this.Get_LikesTotal=function(){return Number(this.Get_Likes())+Number(this.Get_LikesBonus());};this.Get_Clicks=function(){return Number(this.jm_Clicks||0);};this.Get_ClickTime=function(){return(this.jm_ClickTime||"");};this.Get_Score=function(){return Number(this.jm_Score||0);};this.Get_ScoreWeight=function(){return Number(this.jm_ScoreWeight||0);};this.Get_MaxClicks=function(){return Number(this.jm_MaxClicks||0);};this.Get_MaxScore=function(){return Number(this.jm_MaxScore||0);};this.Set_TypEntity=function(ji_te){this.jm_TypEntity=ji_te;return true;};this.Set_IdEntity=function(ji_ide){this.jm_IdEntity=ji_ide;return true;};this.Set_Count=function(ji_Count){this.jm_Count=Number(ji_Count||0);return true;};this.Set_Likes=function(ji_Likes){this.jm_Likes=Number(ji_Likes||0);return true;};this.Set_LikesBonus=function(ji_LikesBonus){this.jm_LikesBonus=Number(ji_LikesBonus||0);return true;};this.Set_Clicks=function(ji_Clicks){this.jm_Clicks=Number(ji_Clicks||0);return true;};this.Set_ClickTime=function(ji_ClickTime){this.jm_ClickTime=(ji_ClickTime||"");return true;};this.Set_Score=function(ji_Score){this.jm_Score=Number(ji_Score||0);return true;};this.Set_ScoreWeight=function(ji_ScoreWeight){this.jm_ScoreWeight=Number(ji_ScoreWeight||0);return true;};this.Set_MaxClicks=function(ji_MaxClicks){this.jm_MaxClicks=Number(ji_MaxClicks||0);return true;};this.Set_MaxScore=function(ji_MaxScore){this.jm_MaxScore=Number(ji_MaxScore||0);return true;};this._S=function(ji_val)
{if(!ji_val||ji_val==0||ji_val=="0")
return"";return ji_val;};this.Get_XJSon=function(ji_o3xebidCompare)
{if(ji_o3xebidCompare)
ji_o3xebidCompare=ji_o3xebidCompare.Get_3xEBID();var jt_comma="";var jr_sxj='{';if(!ji_o3xebidCompare||this._S(this.Get_Count())!=this._S(ji_o3xebidCompare.Get_Count()))
{jr_sxj+='"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_count+'":"'+this._S(this.Get_Count())+'"';jt_comma=",";}
if(!ji_o3xebidCompare||this._S(this.Get_Likes())!=this._S(ji_o3xebidCompare.Get_Likes()))
{jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_likes+'":"'+this._S(this.Get_Likes())+'"';jt_comma=",";}
if(!ji_o3xebidCompare||this._S(this.Get_LikesBonus())!=this._S(ji_o3xebidCompare.Get_LikesBonus()))
{jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_likesbonus+'":"'+this._S(this.Get_LikesBonus())+'"';jt_comma=",";}
if(!ji_o3xebidCompare||this._S(this.Get_Clicks())!=this._S(ji_o3xebidCompare.Get_Clicks()))
{jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_clicks+'":"'+this._S(this.Get_Clicks())+'"';jt_comma=",";}
if(!ji_o3xebidCompare||this._S(this.Get_ClickTime())!=this._S(ji_o3xebidCompare.Get_ClickTime()))
{jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_clicksphtime+'":"'+this._S(this.Get_ClickTime())+'"';jt_comma=",";}
if(!ji_o3xebidCompare||this._S(this.Get_Score())!=this._S(ji_o3xebidCompare.Get_Score()))
{jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_score+'":"'+this._S(this.Get_Score())+'"';jt_comma=",";}
if(!ji_o3xebidCompare||this._S(this.Get_ScoreWeight())!=this._S(ji_o3xebidCompare.Get_ScoreWeight()))
{jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_scoreweight+'":"'+this._S(this.Get_ScoreWeight())+'"';jt_comma=",";}
if(!ji_o3xebidCompare||this._S(this.Get_MaxClicks())!=this._S(ji_o3xebidCompare.Get_MaxClicks()))
{jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_maxclicks+'":"'+this._S(this.Get_MaxClicks())+'"';jt_comma=",";}
if(!ji_o3xebidCompare||this._S(this.Get_MaxScore())!=this._S(ji_o3xebidCompare.Get_MaxScore()))
{jr_sxj+=',"'+jg_oe.jc_oA3xaDbZero.jc_ebidf_maxscore+'":"'+this._S(this.Get_MaxScore())+'"';jt_comma=",";}
jr_sxj+='}';return jr_sxj;};this.jm_TypEntity=null;this.jm_IdEntity=null;this.jm_Count=null;this.jm_Likes=null;this.jm_LikesBonus=null;this.jm_Clicks=null;this.jm_ClickTime="";this.jm_Score=null;this.jm_ScoreWeight=null;this.jm_MaxClicks=null;this.jm_MaxScore=null;}"use strict";function A3xaREntityInfo(ji_aMaster,ji_arsSlaves)
{this.Get_Master=function(){return this.jm_aMaster;};this.Get_Slaves=function(){return this.jm_arsSlaves;};this.Attach_Attributes=function(ji_oAttributes){this.jm_oAttributes=ji_oAttributes;return true;};this.Get_Attributes=function(){return this.jm_oAttributes;};this.CopyFrom=function(ji_oeifa)
{if(!ji_oeifa)
return false;this.jm_aMaster=null;this.jm_arsSlaves=null;this.Attach_Attributes(ji_oeifa.Get_Attributes());var jt_aMaster=ji_oeifa.Get_Master();if(!jt_aMaster)
return true;this.jm_aMaster=jt_aMaster.slice(0);var jt_arsSlaves=ji_oeifa.Get_Slaves();if(!jt_arsSlaves)
return true;this.jm_arsSlaves=[];for(var i=0;jt_arsSlaves.length;i++)
this.jm_arsSlaves.push(jt_arsSlaves[i].slice());return true;};this.jm_aMaster=ji_aMaster;this.jm_arsSlaves=ji_arsSlaves;this.jm_oAttributes=null;}
function A3xaEI()
{this.jm_o3x2aeifa=A3xa3Array().O();this.IsValid=function()
{return true;};this.IsEmpty=function()
{return false;};this.Get_3xEI=function(){return this;};this.CopyFrom=function(ji_o3xei)
{if(ji_o3xei)
ji_o3xei=ji_o3xei.Get_3xEI();if(!ji_o3xei)
return false;this.jm_o3x2aeifa=A3xa3Array().O();var jt_o3x2aeifa=ji_o3xei.Get_3x2Info();var jt_c=0;if(jt_o3x2aeifa)
jt_c=jt_o3x2aeifa.ar.getCount();for(var i=0;i<jt_c;i++)
{var jt_k=jt_o3x2aeifa.ar.getKey(i);var jt_oeifa=new A3xaREntityInfo(null,null);jt_oeifa.CopyFrom(jt_o3x2aeifa.ar.getItem(jt_k));this.jm_o3x2aeifa.ar.addItem(jt_k,jt_oeifa);}
return true;};this.Clear=function()
{this.jm_o3x2aeifa=A3xa3Array().O();return true;};this.Get_3x2Info=function(ji_TypInfo,ji_IdInfo)
{if(!(ji_TypInfo||ji_IdInfo))
return this.jm_o3x2aeifa;var jr_o3x2aeifa_Selected=A3xa3Array().O();var jt_c=this.jm_o3x2aeifa.ar.getCount();for(var i=0;i<jt_c;i++)
{var jt_k=this.jm_o3x2aeifa.ar.getKey(i);var jt_oeifa=this.jm_o3x2aeifa.ar.getItem(jt_k);var jt_eityp=jt_oeifa.jm_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ];var jt_eiid=jt_oeifa.jm_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id];if((!ji_TypInfo||jt_eityp==ji_TypInfo)&&(!ji_IdInfo||jt_eiid==ji_IdInfo))
jr_o3x2aeifa_Selected.ar.addItem(jt_k,jt_oeifa);}
return jr_o3x2aeifa_Selected;};this._S=function(ji_val)
{if(!ji_val||ji_val==0||ji_val=="0")
return"";return ji_val;};this.Get_XJSon=function(ji_o3xebisCompare)
{if(ji_o3xebisCompare)
ji_o3xebisCompare=ji_o3xebisCompare.Get_3xEBIS();var jt_comma="";var jr_sxj='{';if(!ji_o3xebisCompare||this._S(this.Get_Created())!=this._S(ji_o3xebisCompare.Get_Created()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_created+'":"'+this._S(this.Get_Created())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Modified())!=this._S(ji_o3xebisCompare.Get_Modified()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_modified+'":"'+this._S(this.Get_Modified())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Order())!=this._S(ji_o3xebisCompare.Get_Order()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_order+'":"'+this._S(this.Get_Order())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Idsym())!=this._S(ji_o3xebisCompare.Get_Idsym()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_sym+'":"'+this._S(this.Get_Idsym())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this._Get_Color())!=this._S(ji_o3xebisCompare._Get_Color()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_color+'":"'+this._S(this._Get_Color())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Lat())!=this._S(ji_o3xebisCompare.Get_Lat()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_lat+'":"'+this._S(this.Get_Lat())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Lon())!=this._S(ji_o3xebisCompare.Get_Lon()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_lon+'":"'+this._S(this.Get_Lon())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Name())!=this._S(ji_o3xebisCompare.Get_Name()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_name+'":"'+this._S(this.Get_Name())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Descr())!=this._S(ji_o3xebisCompare.Get_Descr()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_descr+'":"'+this._S(this.Get_Descr())+'"';jt_comma=",";}
if(!ji_o3xebisCompare||this._S(this.Get_Website())!=this._S(ji_o3xebisCompare.Get_Website()))
{jr_sxj+=jt_comma+'"'+jg_oe.jc_oA3xaDbZero.jc_ebisf_url+'":"'+this._S(this.Get_Website())+'"';jt_comma=",";}
jr_sxj+='}';return jr_sxj;};this.Set_XJSon=function(ji_sxjebis)
{var jt_oxjebis=JSON.parse(ji_sxjebis,function(ji_k,ji_v)
{return ji_v;});if(!jt_oxjebis)
return false;this.Set_Created(jt_oxjebis.f3x_ucretime);this.Set_Modified(jt_oxjebis.f3x_umodtime);this.Set_Order(jt_oxjebis.f3x_esorder);this.Set_Idsym(jt_oxjebis.f3x_esym);this.Set_Color(jt_oxjebis.f3x_escolor);this.Set_Lat(jt_oxjebis.f3x_eslat);this.Set_Lon(jt_oxjebis.f3x_eslon);this.Set_Name(jt_oxjebis.f3x_esname);this.Set_Descr(jt_oxjebis.f3x_esdescr);this.Set_Website(jt_oxjebis.f3x_esurl);return true;};}"use strict";function A3xaDefines_Entity()
{this.jc_Typ_MetaSystemControl="K";this.jc_Typ_CategoryGroup="U";this.jc_Typ_Category="B";this.jc_Typ_Info="H";this.jc_Typ_Enterprise="E";this.jc_Typ_GeoTopArea="A";this.jc_Typ_GeoNZ="Z";this.jc_Typ_GeoNR="N";this.jc_Typ_GeoMicroRegion="M";this.jc_Typ_GeoArea="G";this.jc_Typ_GeoRegion="R";this.jc_Typ_GeoCountry="P";this.jc_Typ_GeoState="S";this.jc_Typ_GeoCity="C";this.jc_UCat_Metasystem="M";this.jc_UCat_Category="C";this.jc_UCat_Topic="A";this.jc_UCat_Geo="P";this.jc_VCat_Metasystem_Control="C";this.jc_VCat_Geo_Area="A";this.jc_VCat_Geo_Region="R";this.jc_VCat_Geo_RegionNR="N";this.jc_VCat_Geo_RegionTR="T";this.jc_VCat_Geo_RegionMetr="M";this.jc_VCat_Geo_RegionIsland="I";this.jc_VCat_Geo_City="C";this.jc_VCat_Geo_Country="P";this.jc_VCat_Geo_State="S";this.jc_VCat_Geo_Provincie="V";this.jc_VCat_Geo_Department="D";this.jc_VCat_Geo_RegionAdmin="G";this.jc_tg_Major="M";this.jc_tg_Unique="U";this.jc_tg_Minor="S";this.jc_tg_MinorBranch="B";this.jc_tg_MinorDestination="T";this.jc_tg_MinorSubsidiary="A";}
function A3xaDefines_EntityInfo()
{this.jc_TI_4LName="O";this.jc_CI_4LName_Text="O";this.jc_TI_4LDescr="P";this.jc_CI_4LDescr_Text="P";this.jc_TI_Website="W";this.jc_CI_Website_Button="W";this.jc_CI_Website_Text="T";this.jc_CI_Website_Bold="B";this.jc_CI_Website_Html="H";this.jc_TI_Video="V";this.jc_CI_Video_YoutubeId="Y";this.jc_CI_Video_VimeoId="V";this.jc_CI_Video_Url="W";this.jc_TI_Facebook="F";this.jc_CI_Facebook_Page="P";this.jc_CI_Facebook_Group="G";this.jc_CI_Facebook_User="U";this.jc_TI_Twitter="D";this.jc_CI_Twitter_Url="D";this.jc_TI_GooglePlus="E";this.jc_CI_GooglePlus_Url="E";this.jc_TI_Phone="T";this.jc_CI_Phone_Number="T";this.jc_TI_Skype="S";this.jc_CI_Skype_Id="S";this.jc_TI_Note="N";this.jc_CI_Note_Text="N";this.jc_TI_Email="M";this.jc_CI_Email_Addr="M";this.jc_TI_Image="I";this.jc_CI_Image_Url="I";this.jc_CI_Image_StaticMapUrl="M";this.jc_TI_Gallery="G";this.jc_CI_Gallery_FlickrUrl="F";this.jc_CI_Gallery_Flickrset="S";this.jc_CI_Gallery_FlickrGallery="G";this.jc_TI_A3xaGallery="H";this.jc_CI_A3xaGallery_Url="A";this.jc_CI_A3xaGallery_Flickrset="S";this.jc_CI_A3xaGallery_FlickrGallery="G";this.jc_TI_Person="U";this.jc_CI_Person_Name="U";this.jc_CI_Person_Attrib="T";this.jc_TI_Wiki="WIK";this.jc_CI_Wikipedia="W";this.jc_CI_Wikiphoneprefix="P";this.jc_CI_Wikitravel="T";this.jc_TI_WaterCloset="WCL";this.jc_CI_WCUrl="W";this.jc_TI_MetasystemControl="K";this.jc_CI_MetasystemControl_DDCity="C";this.jc_CI_MetasystemControl_DDCategory="B";this.jc_TI_QueryUnifiedRequest="QUR";this.jc_CI_QueryUnifiedRequest_DD="T";this.jc_TI_TOS="TOS";this.jc_CI_TOS_Stored="S";}
function A3xaDCEntity()
{this.jm_o3xxeid=new A3xaXEID();this.jm_o3xebis=new A3xaEBIS();this.jm_o3xebid=new A3xaEBID();this.jm_o3xei=null;this.jm_o3xsName=null;this.jm_o3xsDescr=null;this.IsValid=function()
{if(!this.Get_3xXEID().Get_TypEntity())
return false;if(!this.Get_3xXEID().Get_IdEntity())
return false;if(this.Get_3xXEID().Get_3xCat2().IsEmpty())
return false;if(!(this.Get_3xEBIS().Get_Name()||this.Get_LName()))
return false;return true;};this.Get_3xXEID=function(){return this.jm_o3xxeid;};this.Get_3xEBIS=function(){return this.jm_o3xebis;};this.Get_3xEBID=function(){return this.jm_o3xebid;};this.Get_3xEI=function(){return this.jm_o3xei;};this.Replace_3xEBIS=function(ji_o3xebis)
{if(ji_o3xebis)
ji_o3xebis=ji_o3xebis.Get_3xEBIS();if(!ji_o3xebis)
return false;this.jm_o3xebis=ji_o3xebis;return true;};this.Replace_3xEBID=function(ji_o3xebid)
{if(ji_o3xebid)
ji_o3xebid=ji_o3xebid.Get_3xEBID();if(!ji_o3xebid)
return false;this.jm_o3xebid=ji_o3xebid;return true;};this.Replace_3xEI=function(ji_o3xei)
{if(ji_o3xei)
ji_o3xei=ji_o3xei.Get_3xEI();if(!ji_o3xei)
return false;this.jm_o3xei=ji_o3xei;return true;};this.A3xaDCEntity_CopyFrom=function(ji_odce,ji_bXEID,ji_bEBIS,ji_bEBID,ji_bEI)
{if(!ji_odce)
return false;if(!(ji_bXEID===false))
{if(!this.Get_3xXEID().CopyFrom(ji_odce.Get_3xXEID()))
return false;}
if(!(ji_bEBIS===false))
this.Get_3xEBIS().CopyFrom(ji_odce.Get_3xEBIS());if(!(ji_bEBID===false))
this.Get_3xEBID().CopyFrom(ji_odce.Get_3xEBID());return true;};this.CopyFrom=function(ji_odc,ji_bXEID,ji_bEBIS,ji_bEBID,ji_bEI)
{return this.A3xaDCEntity_CopyFrom(ji_odc,ji_bXEID,ji_bEBIS,ji_bEBID,ji_bEI);};this.Set_3xsName=function(ji_o3xsName,ji_o3xsDescr)
{this.jm_o3xsName=(ji_o3xsName||null);this.jm_o3xsDescr=(ji_o3xsDescr||null);return true;};this.Copy3xsNameFrom=function(ji_odc)
{if(!ji_odc)
return false;return this.Set_3xsName(ji_odc.Get_3xsName(),ji_odc.Get_3xsDescr());};this.Get_3xsName=function()
{if(this.jm_o3xsName&&this.jm_o3xsName.Get_LString())
return this.jm_o3xsName;var jt_s="";if(this.Get_3xEBIS())
jt_s=this.Get_3xEBIS().Get_Name();return new A3xaString([jt_s,jt_s,jt_s,jt_s]);};this.Get_LName=function(){return this.Get_3xsName().Get_LString();};this.Get_3xsDescr=function()
{if(this.jm_o3xsDescr&&this.jm_o3xsDescr.Get_LString())
return this.jm_o3xsDescr;var jt_s="";if(this.Get_3xEBIS())
jt_s=this.Get_3xEBIS().Get_Descr();return new A3xaString([jt_s,jt_s,jt_s,jt_s]);};this.Get_LDescr=function(){return this.Get_3xsDescr().Get_LString();};this.LinkCommonData=function(ji_odb){return false;};this.Get_CommonLinkedRecord=function(ji_TypEntity){return null;};}"use strict";function A3xa2IStaticDataSource_TableEntity()
{var jr_I={};return jr_I;}
function A3xa2ISDS_DbEntity()
{var jr_I={};return jr_I;}
function A3xa2StaticDataSource_TableEntity(ji_sdsTable,ji_bJSON)
{var jr_o=A3xa2StaticDataSource_Table(ji_sdsTable,ji_bJSON);jr_o.tb._tbeparent_buildTableIndex=jr_o.tb.buildTableIndex;jr_o.tb.buildTableIndexes=function()
{return jr_o.tb.buildTableIndex(null,null);};jr_o.tb.buildTableIndex=function(ji_keyName,ji_fnKeyMaker)
{if(ji_keyName&&ji_fnKeyMaker)
return jr_o.tb._tbeparent_buildTableIndex(ji_keyName,ji_fnKeyMaker);var jr_pisdsKeyMaker=jr_o.tb.getKeyMaker(null,null);if(jr_pisdsKeyMaker.keyname&&jr_pisdsKeyMaker.fnkeymaker)
return jr_o.tb._tbeparent_buildTableIndex(jr_pisdsKeyMaker.keyname,jr_pisdsKeyMaker.fnkeymaker);return false;};jr_o.tb.getRecord_ByKey=function(ji_key)
{var jr_pisdsKeyMaker=jr_o.tb.getKeyMaker(null,ji_key);if(!(jr_pisdsKeyMaker.keyname&&jr_pisdsKeyMaker.fnkeymaker))
return null;var jr_pisdsRecord=jr_o.tb.getRecord(jr_pisdsKeyMaker.fnkeymaker);if(!(jr_pisdsRecord&&jr_pisdsRecord.iseq&&jr_pisdsRecord.index>=0))
return null;jr_pisdsRecord.key=ji_key;return jr_pisdsRecord;};jr_o.tb.addRecord_ByKey=function(ji_key,ji_fields,ji_bRebuildIndexes)
{var jr_pisdsKeyMaker=jr_o.tb.getKeyMaker(null,ji_key);if(!(jr_pisdsKeyMaker.keyname&&jr_pisdsKeyMaker.fnkeymaker))
return null;var jr_pisdsRecord=jr_o.tb.addRecord(jr_pisdsKeyMaker.fnkeymaker,ji_fields);if(!(jr_pisdsRecord&&jr_pisdsRecord.index>=0))
return null;if(ji_bRebuildIndexes)
jr_o.tb.buildTableIndexes();jr_pisdsRecord.key=ji_key;return jr_pisdsRecord;};jr_o.tb.removeRecord_ByKey=function(ji_key,ji_bRebuildIndexes)
{var jr_pisdsKeyMaker=jr_o.tb.getKeyMaker(null,ji_key);if(!(jr_pisdsKeyMaker.keyname&&jr_pisdsKeyMaker.fnkeymaker))
return null;var jr_pisdsRecord=jr_o.tb.removeRecord(jr_pisdsKeyMaker.fnkeymaker);if(!(jr_pisdsRecord&&jr_pisdsRecord.key&&jr_pisdsRecord.o3x2rec))
return null;if(ji_bRebuildIndexes)
jr_o.tb.buildTableIndexes();return jr_pisdsRecord;};jr_o.tb.getKeyMaker=function(ji_keyName,ji_matchingKey)
{var jr_pisdsKeyMaker=PISDSKeyMaker();jr_pisdsKeyMaker.keyname=ji_keyName;if(jr_o.tb.getType()==A3xa2DefineTbid().jc_tbtype_tid.tbtname)
{if(!jr_pisdsKeyMaker.keyname)
jr_pisdsKeyMaker.keyname=A3xa2DefineTbid().jc_tbtype_tid.tbtkeyname;jr_pisdsKeyMaker.fnkeymaker=function(ji_pisdsRecord)
{ji_pisdsRecord.key=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDatabase.jc_tidf_tid);if(ji_matchingKey!=null&&ji_matchingKey==ji_pisdsRecord.key)
ji_pisdsRecord.iseq=true;return ji_pisdsRecord;};}
else if(jr_o.tb.getType()==A3xa2DefineTbid().jc_tbtype_eid.tbtname)
{if(!jr_pisdsKeyMaker.keyname)
jr_pisdsKeyMaker.keyname=A3xa2DefineTbid().jc_tbtype_eid.tbtkeyname;jr_pisdsKeyMaker.fnkeymaker=function(ji_pisdsRecord)
{var jt_o3xxeid=new A3xaXEID();var jt_xeidcc=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_eidf_xeidcc);if(jt_xeidcc)
{if(!jt_o3xxeid.Set_CompactCode(jt_xeidcc))
return ji_pisdsRecord;}
else
{var jt_te=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_eidf_enty);var jt_ide=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_eidf_enid);if(!(jt_te&&jt_ide))
return ji_pisdsRecord;jt_o3xxeid.Set_TypEntity(jt_te);jt_o3xxeid.Set_IdEntity(jt_ide);}
ji_pisdsRecord.key=jt_o3xxeid.Get_PrimaryKey();if(ji_matchingKey!=null&&ji_matchingKey==ji_pisdsRecord.key)
ji_pisdsRecord.iseq=true;return ji_pisdsRecord;};}
else if(jr_o.tb.getType()==A3xa2DefineTbid().jc_tbtype_ebis.tbtname)
{if(!jr_pisdsKeyMaker.keyname)
jr_pisdsKeyMaker.keyname=A3xa2DefineTbid().jc_tbtype_ebis.tbtkeyname;jr_pisdsKeyMaker.fnkeymaker=function(ji_pisdsRecord)
{var jt_te=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_ebisf_enty);var jt_ide=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_ebisf_enid);if(jt_te&&jt_ide)
ji_pisdsRecord.key=jt_te+","+jt_ide;if(ji_matchingKey!=null&&ji_matchingKey==ji_pisdsRecord.key)
ji_pisdsRecord.iseq=true;return ji_pisdsRecord;};}
else if(jr_o.tb.getType()==A3xa2DefineTbid().jc_tbtype_ebid.tbtname)
{if(!jr_pisdsKeyMaker.keyname)
jr_pisdsKeyMaker.keyname=A3xa2DefineTbid().jc_tbtype_ebid.tbtkeyname;jr_pisdsKeyMaker.fnkeymaker=function(ji_pisdsRecord)
{var jt_te=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_ebidf_enty);var jt_ide=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_ebidf_enid);if(jt_te&&jt_ide)
ji_pisdsRecord.key=jt_te+","+jt_ide;if(ji_matchingKey!=null&&ji_matchingKey==ji_pisdsRecord.key)
ji_pisdsRecord.iseq=true;return ji_pisdsRecord;};}
else if(jr_o.tb.getType()==A3xa2DefineTbid().jc_tbtype_ei.tbtname)
{if(!jr_pisdsKeyMaker.keyname)
jr_pisdsKeyMaker.keyname=A3xa2DefineTbid().jc_tbtype_ei.tbtkeyname;jr_pisdsKeyMaker.fnkeymaker=function(ji_pisdsRecord)
{var jt_te=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_eif_enty);var jt_ide=ji_pisdsRecord.o3x2rec.rec.getFieldValue_ByName(jg_oe.jc_oA3xaDbZero.jc_eif_enid);if(jt_te&&jt_ide)
ji_pisdsRecord.key=jt_te+","+jt_ide;if(ji_matchingKey!=null&&ji_matchingKey==ji_pisdsRecord.key)
ji_pisdsRecord.iseq=true;return ji_pisdsRecord;};}
return jr_pisdsKeyMaker;};return jr_o;}
function A3xa2SDS_DbEntity()
{var jr_o=A3xa2StaticDataSource_Db();jr_o.db.setDefaultDbVersion(jg_o3xdbZero.d3x_version);jr_o.db.new3x2Table=function(ji_sdsTable,ji_bJSON){return A3xa2StaticDataSource_TableEntity(ji_sdsTable,ji_bJSON);};jr_o.db.addTablesJSDS=function(ji_pTypTables)
{if(!ji_pTypTables||ji_pTypTables.jp_bTyp_TOC)
{if(!jr_o.db.addD3xTable(jg_o3xtbTOC_tid.d3x_tbTOC))
return false;}
if(!ji_pTypTables||ji_pTypTables.jp_bTyp_Common)
{if(!jr_o.db.addD3xTable(jg_o3xtbCommon_eid.d3x_tbControlPanel))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommon_ebis.d3x_tbControlPanel))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommon_ebid.d3x_tbControlPanel))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommon_ei.d3x_tbControlPanel))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommon_eid.d3x_tbCategories))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommon_ebis.d3x_tbCategories))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommon_ebid.d3x_tbCategories))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommon_ei.d3x_tbCategories))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_eid.d3x_tbTopArea))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ebis.d3x_tbTopArea))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ebid.d3x_tbTopArea))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ei.d3x_tbTopArea))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_eid.d3x_tbArea))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ebis.d3x_tbArea))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ebid.d3x_tbArea))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ei.d3x_tbArea))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_eid.d3x_tbRegion))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ebis.d3x_tbRegion))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ebid.d3x_tbRegion))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonAZNM_ei.d3x_tbRegion))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonPS_eid.d3x_tbCountry))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonPS_ebis.d3x_tbCountry))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonPS_ebid.d3x_tbCountry))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonPS_ei.d3x_tbCountry))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonPS_eid.d3x_tbState))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonPS_ebis.d3x_tbState))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonPS_ebid.d3x_tbState))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonPS_ei.d3x_tbState))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonC_eid.d3x_tbCity))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonC_ebis.d3x_tbCity))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonC_ebid.d3x_tbCity))
return false;if(!jr_o.db.addD3xTable(jg_o3xtbCommonC_ei.d3x_tbCity))
return false;}
return true;};return jr_o;}"use strict";function A3xaDefines_A3xaDbZero()
{this.jc_o3x2tbid=A3xa2DefineTbid();this.jc_eidf_xeidcc="f3x_xeidcc";this.jc_eidf_enty="f3x_enty";this.jc_eidf_enid="f3x_enid";this.jc_eidf_egty="f3x_egty";this.jc_eidf_egid="f3x_egid";this.jc_eidf_ucat="f3x_cU";this.jc_eidf_vcat="f3x_cV";this.jc_eidf_a="f3x_gnA";this.jc_eidf_z="f3x_gnZ";this.jc_eidf_n="f3x_gnN";this.jc_eidf_m="f3x_gnM";this.jc_eidf_c="f3x_gnC";this.jc_eidf_p="f3x_gpP";this.jc_eidf_s="f3x_gpS";this.jc_ebisf_enty="f3x_enty";this.jc_ebisf_enid="f3x_enid";this.jc_ebisf_created="f3x_ucretime";this.jc_ebisf_modified="f3x_umodtime";this.jc_ebisf_order="f3x_esorder";this.jc_ebisf_sym="f3x_esym";this.jc_ebisf_color="f3x_escolor";this.jc_ebisf_lat="f3x_eslat";this.jc_ebisf_lon="f3x_eslon";this.jc_ebisf_name="f3x_esname";this.jc_ebisf_descr="f3x_esdescr";this.jc_ebisf_url="f3x_esurl";this.jc_ebidf_enty="f3x_enty";this.jc_ebidf_enid="f3x_enid";this.jc_ebidf_count="f3x_count";this.jc_ebidf_likes="f3x_likes";this.jc_ebidf_likesbonus="f3x_likesbonus";this.jc_ebidf_clicks="f3x_clicks";this.jc_ebidf_clicksphtime="f3x_clicksphtime";this.jc_ebidf_score="f3x_score";this.jc_ebidf_scoreweight="f3x_scoreweight";this.jc_ebidf_maxclicks="f3x_maxclicks";this.jc_ebidf_maxscore="f3x_maxscore";this.jc_eif_enty="f3x_enty";this.jc_eif_enid="f3x_enid";this.jc_sEifaName="f3x_ei";this.jc_Eifa_Typ=0;this.jc_Eifa_Cod=1;this.jc_Eifa_Id=2;this.jc_Eifa_IdParent=3;this.jc_Eifa_Info=4;this.jc_EifaX_Mark=5;this.jc_EifaX_Typ=6;this.jc_EifaX_Cod=7;this.jc_EifaX_Id=8;this.jc_EifaX_IdParent=9;this.jc_EifaX_Info=10;this.jc_aSchemaTables=[{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_MetaSystemControl),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"ControlPanels"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Category),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"Categories"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoTopArea),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"TopAreas"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoArea),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"Areas"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoRegion),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"Regions"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoCity),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:false,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"Cities"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoCountry),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:false,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"Countries"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoState),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:false,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"States"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_MetaSystemControl),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_MetaSystemControl),jp_sDescr:"ControlPanels BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_Category),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Category),jp_sDescr:"Categories BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_GeoTopArea),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoTopArea),jp_sDescr:"TopAreas BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_GeoArea),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoArea),jp_sDescr:"Areas BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_GeoRegion),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoRegion),jp_sDescr:"Regions BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_GeoCity),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoCity),jp_sDescr:"Cities BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_GeoCountry),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoCountry),jp_sDescr:"Countries BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_GeoState),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoState),jp_sDescr:"States BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_MetaSystemControl),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_ComDyn,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_MetaSystemControl),jp_sDescr:"ControlPanels DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_Category),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_ComDyn,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Category),jp_sDescr:"Categories DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_GeoTopArea),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_ComDyn,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoTopArea),jp_sDescr:"TopAreas DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_GeoArea),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_ComDyn,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoArea),jp_sDescr:"Areas DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_GeoRegion),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_ComDyn,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoRegion),jp_sDescr:"Regions DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_GeoCity),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_ComDyn,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoCity),jp_sDescr:"Cities DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_GeoCountry),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_ComDyn,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoCountry),jp_sDescr:"Countries DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_GeoState),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_ComDyn,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoState),jp_sDescr:"States DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_MetaSystemControl),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_MetaSystemControl),jp_sDescr:"ControlPanels Info"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_Category),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Category),jp_sDescr:"Categories Info"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_GeoTopArea),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoTopArea),jp_sDescr:"TopAreas Info"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_GeoArea),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoArea),jp_sDescr:"Areas Info"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_GeoRegion),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoRegion),jp_sDescr:"Regions Info"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_GeoCity),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoCity),jp_sDescr:"Cities Info"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_GeoCountry),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoCountry),jp_sDescr:"Countries Info"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_GeoState),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_GeoState),jp_sDescr:"States Info"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_SummaryEnterprises),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bMandatory:false,jp_bCacheAll:true,jp_bAX:true,jp_sDescr:"Summary Enterprises"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_SummaryEnterprises),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_Common:true,jp_bCacheAll:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_SummaryEnterprises),jp_sDescr:"Summary Enterprises DynamicInfo"},{jp_sName:this.jc_o3x2tbid.jc_GLID_TOC,jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Common,jp_bTyp_TOC:true,jp_bMandatory:true,jp_bCacheAll:true,jp_sDescr:"Table of Contents"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_gold),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Gold:true,jp_bMandatory:true,jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises G"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_gold),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Gold:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_gold),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises G BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_gold),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_EntDyn,jp_bTyp_Gold:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_gold),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises G DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_gold),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Gold:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_gold),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises G Info"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_silver),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Silver:true,jp_bMandatory:true,jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises V"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_silver),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Silver:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_silver),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises V BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_silver),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_EntDyn,jp_bTyp_Silver:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_silver),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises V DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_silver),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Silver:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_silver),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises V Info"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Main:true,jp_bMandatory:true,jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Main:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_EntDyn,jp_bTyp_Main:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Main:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises Info"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_unique),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Unique:true,jp_bMandatory:true,jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises U"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_unique),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Unique:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_unique),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises U BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_unique),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_EntDyn,jp_bTyp_Unique:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_unique),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises U DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_unique),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Unique:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_unique),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises U Info"},{jp_sName:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_major),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Major:true,jp_bMandatory:true,jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises M"},{jp_sName:this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_major),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Major:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_major),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises M BasicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_major),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_EntDyn,jp_bTyp_Major:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_major),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises M DynamicInfo"},{jp_sName:this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_major),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Major:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise,this.jc_o3x2tbid.jc_tbslice_major),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises M Info"},{jp_sName:this.jc_o3x2tbid.jc_xglid_mark+this.jc_o3x2tbid.jc_tbslice_subry+this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Subry:true,jp_bMandatory:true,jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises S"},{jp_sName:this.jc_o3x2tbid.jc_xglid_mark+this.jc_o3x2tbid.jc_tbslice_subry+this.jc_o3x2tbid.GLIDP(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Subry:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebis.tbtname,jp_sParent:this.jc_o3x2tbid.jc_xglid_mark+this.jc_o3x2tbid.jc_tbslice_subry+this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises S BasicInfo"},{jp_sName:this.jc_o3x2tbid.jc_xglid_mark+this.jc_o3x2tbid.jc_tbslice_subry+this.jc_o3x2tbid.GLIDN(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_EntDyn,jp_bTyp_Subry:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ebid.tbtname,jp_sParent:this.jc_o3x2tbid.jc_xglid_mark+this.jc_o3x2tbid.jc_tbslice_subry+this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises S DynamicInfo"},{jp_sName:this.jc_o3x2tbid.jc_xglid_mark+this.jc_o3x2tbid.jc_tbslice_subry+this.jc_o3x2tbid.GLIDF(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_oSTG:jg_oe.jc_oA3xaDatabase.jc_oSTG_Enterp,jp_bTyp_Subry:true,jp_bMandatory:true,jp_SubTable:this.jc_o3x2tbid.jc_tbtype_ei.tbtname,jp_sParent:this.jc_o3x2tbid.jc_xglid_mark+this.jc_o3x2tbid.jc_tbslice_subry+this.jc_o3x2tbid.GLIDR(this.jc_o3x2tbid.jc_GGLID_Enterprise),jp_DefaultStorageType:jg_oe.jc_oStorage.jc_FLY,jp_ExtendedStorageType:jg_oe.jc_oStorage.jc_Default,jp_sDescr:"Enterprises S Info"}];}
function A3xaDbZero()
{A3xaDatabase.call(this,new A3xaDbSchema(jg_oe.jc_oA3xaDatabase.jc_sDbName,jg_oe.jc_oA3xaDatabase.jc_DbSchemaVersion,jg_oe.jc_oA3xaDatabase.jc_sDbDefaultPrimaryKeyName,jg_oe.jc_oA3xaDbZero.jc_aSchemaTables));this._A3xaDbZero=function()
{this.Set_SDSDBStore(A3xa2SDS_DbEntity());this.Set_SDSDBWork(A3xa2SDS_DbEntity());};this.NewDataTable=function(ji_glid)
{return new GLDTEntity(this,ji_glid);};this.OnDataLoadedSetup=function()
{if(!this._SetupControlPanel())
return false;if(!this._SetupSlices())
return false;return true;};this._SetupControlPanel=function()
{var jt_o3xxeCP=jg_oApp.Get_3xXEMSC_ByXUR();if(jt_o3xxeCP)
{jt_o3xxeCP.LinkCommonData(this);jt_o3xxeCP.Get_3xEBIS().Set_DefaultColor("FFFFFF");}
return true;};this._SetupSlices=function()
{var jt_this=this;var jt_ogldtMain=this.Get_DataTable();if(!jt_ogldtMain)
return false;jt_ogldtMain.OnDataLoadedSetup();var jt_I3tbid=A3xa3Tbid(jt_ogldtMain.Get_Glid());if(jt_I3tbid.isEnterprise())
{var jt_glidUnique=GLIDR(A3xa2DefineTbid().jc_GGLID_Enterprise,A3xa2DefineTbid().jc_tbslice_unique,jt_I3tbid.getExtension());var jt_ogldtMainUnique=this.Get_DataTable(jt_glidUnique);if(jt_ogldtMainUnique)
{jt_ogldtMainUnique.OnDataLoadedSetup();jt_ogldtMain.MergeRecordset(jt_ogldtMainUnique);}
var jt_glidMajor=GLIDR(A3xa2DefineTbid().jc_GGLID_Enterprise,A3xa2DefineTbid().jc_tbslice_major,jt_I3tbid.getExtension());var jt_ogldtMainMajor=this.Get_DataTable(jt_glidMajor);if(jt_ogldtMainMajor)
{jt_ogldtMainMajor.OnDataLoadedSetup();jt_ogldtMain.MergeRecordset(jt_ogldtMainMajor);}
var jt_glidSubry=GLIDR(A3xa2DefineTbid().jc_GGLID_Enterprise,A3xa2DefineTbid().jc_tbslice_subry,jt_I3tbid.getExtension());var jt_ogldtMainSubry=this.Get_DataTable(jt_glidSubry);if(jt_ogldtMainSubry)
{jt_ogldtMainSubry.OnDataLoadedSetup();jt_ogldtMain.MergeRecordset(jt_ogldtMainSubry);}
var jt_I3x3dt_ForeignSubryes=this.Get_IArrayDTLoad({jp_bTyp_Subry:true});for(var i=0;jt_I3x3dt_ForeignSubryes&&i<jt_I3x3dt_ForeignSubryes.getCount();i++)
{var jt_glidForeignSubry=jt_I3x3dt_ForeignSubryes.getKey(i);if(jt_glidForeignSubry&&jt_glidForeignSubry!=jt_glidSubry&&A3xa3Tbid(jt_glidForeignSubry).isEID())
{var jt_odtForeignSubry=jt_I3x3dt_ForeignSubryes.getItem(jt_glidForeignSubry);if(jt_odtForeignSubry)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_glidForeignSubry="+jt_glidForeignSubry,"","A3xaDbZero._SetupSlices");jt_odtForeignSubry.OnDataLoadedSetup();jt_ogldtMain.MergeRecordset(jt_odtForeignSubry);}}}}
return true;};this.ApplyFiltersAndSorting=function(ji_oxur)
{var jt_this=this;if(!ji_oxur)
return false;var jt_ogldtMain=this.Get_DataTable();if(!jt_ogldtMain)
return false;var jt_o3xxur_xeid=ji_oxur.Get_3xXEID();var jt_o3xxur_aznmc=jt_o3xxur_xeid.Get_3xAZNMC2();var jt_o3xxur_ps=jt_o3xxur_xeid.Get_3xPS2();var jt_o3xxur_cat=jt_o3xxur_xeid.Get_3xCat2();var jt_o3xxur_aznmc_xapp=New_A3xaAZNMC_XApp(jt_o3xxur_xeid);var jt_te=jt_o3xxur_xeid.Get_TypEntity();var jt_MaxRecords=((ji_oxur.IsLimited()||jt_o3xxur_cat.IsEmpty())?20:0);if(ji_oxur.IsSortByTime())
jt_ogldtMain.SortByTime(true);else if(ji_oxur.IsSortByScore()||ji_oxur.IsSortByName())
jt_ogldtMain.SortByScore(true);else if(ji_oxur.IsSortByClick())
jt_ogldtMain.SortByClick(true);else if(ji_oxur.IsSortByLatestClick())
jt_ogldtMain.SortByLatestClick(true);if(jt_te==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl);else if(jt_te==jg_oe.jc_oEntity.jc_Typ_Category)
{jt_ogldtMain.New_IRecordsel(null,function(ji_k,ji_oxe)
{var jt_3xxeid=ji_oxe.Get_3xXEID();var jt_3xcat=jt_3xxeid.Get_3xCat2();if(jt_o3xxur_xeid.Get_IdEntity()&&jt_3xxeid.Get_IdEntity()!=jt_o3xxur_xeid.Get_IdEntity())
return 0;return 1;});}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoArea)
{jt_ogldtMain.New_IRecordsel(null,function(ji_k,ji_oxe)
{var jt_3xxeid=ji_oxe.Get_3xXEID();var jt_3xaznmc=jt_3xxeid.Get_3xAZNMC2();if(jt_o3xxur_xeid.Get_IdEntity()&&jt_3xxeid.Get_IdEntity()!=jt_o3xxur_xeid.Get_IdEntity())
return 0;return(New_A3xaAZNMC_XApp(jt_3xxeid).IsBestFromBabylon()?0:1);});}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
{jt_ogldtMain.New_IRecordsel(null,function(ji_k,ji_oxe)
{var jt_3xxeid=ji_oxe.Get_3xXEID();var jt_3xaznmc=jt_3xxeid.Get_3xAZNMC2();if(jt_o3xxur_xeid.Get_IdEntity()&&jt_3xxeid.Get_IdEntity()!=jt_o3xxur_xeid.Get_IdEntity())
return 0;if(!(jt_3xaznmc.Get_A()==jt_o3xxur_aznmc.Get_A()&&jt_3xaznmc.Get_Z()==jt_o3xxur_aznmc.Get_Z()))
return 0;return 1;});}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCity)
{jt_ogldtMain.New_IRecordsel(null,function(ji_k,ji_oxe)
{var jt_3xxeid=ji_oxe.Get_3xXEID();var jt_3xaznmc=jt_3xxeid.Get_3xAZNMC2();if(jt_o3xxur_xeid.Get_IdEntity()&&jt_3xxeid.Get_IdEntity()!=jt_o3xxur_xeid.Get_IdEntity())
return 0;if(!(jt_3xaznmc.Get_A()==jt_o3xxur_aznmc.Get_A()&&jt_3xaznmc.Get_Z()==jt_o3xxur_aznmc.Get_Z()&&jt_3xaznmc.Get_N()==jt_o3xxur_aznmc.Get_N()))
return 0;return 1;});}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
{jt_ogldtMain.New_IRecordsel(null,function(ji_k,ji_oxe)
{var jt_3xxeid=ji_oxe.Get_3xXEID();var jt_3xps=jt_3xxeid.Get_3xPS2();if(jt_o3xxur_xeid.Get_IdEntity()&&jt_3xxeid.Get_IdEntity()!=jt_o3xxur_xeid.Get_IdEntity())
return 0;return 1;});}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoState)
{jt_ogldtMain.New_IRecordsel(null,function(ji_k,ji_oxe)
{var jt_3xxeid=ji_oxe.Get_3xXEID();var jt_3xps=jt_3xxeid.Get_3xPS2();if(jt_o3xxur_xeid.Get_IdEntity()&&jt_3xxeid.Get_IdEntity()!=jt_o3xxur_xeid.Get_IdEntity())
return 0;if(!(jt_3xps.Get_P()==jt_o3xxur_ps.Get_P()))
return 0;return 1;});}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise)
{jt_ogldtMain.New_IRecordsel(null,function(ji_k,ji_oxe)
{var jt_3xxeid=ji_oxe.Get_3xXEID();var jt_3xaznmc=jt_3xxeid.Get_3xAZNMC2();var jt_3xcat=jt_3xxeid.Get_3xCat2();jg_oe.CanLogInfo()&&jg_oe.LogInfo("xur-ide,ide,idg="+jt_o3xxur_xeid.Get_IdEntity()+","+jt_3xxeid.Get_IdEntity()+","+jt_3xxeid.Get_IdGroup(),"","A3xaDbZero.ApplyFiltersAndSorting");if(jt_o3xxur_xeid.Get_IdEntity())
{if(jt_o3xxur_xeid.Get_IdEntity()!=jt_3xxeid.Get_IdEntity()&&jt_o3xxur_xeid.Get_IdEntity()!=jt_3xxeid.Get_IdGroup())
return 0;jg_oe.CanLogInfo()&&jg_oe.LogInfo("OK-xur-ide,ide,idg="+jt_o3xxur_xeid.Get_IdEntity()+","+jt_3xxeid.Get_IdEntity()+","+jt_3xxeid.Get_IdGroup(),"","A3xaDbZero.ApplyFiltersAndSorting");return 1;}
if(jt_o3xxur_aznmc.Get_A()&&!(jt_3xaznmc.Get_A()==jt_o3xxur_aznmc.Get_A()))
return 0;if(jt_o3xxur_aznmc.Get_Z()&&!(jt_3xaznmc.Get_Z()==jt_o3xxur_aznmc.Get_Z()))
return 0;if(jt_o3xxur_aznmc.Get_N()&&!(jt_3xaznmc.Get_N()==jt_o3xxur_aznmc.Get_N()))
return 0;if(jt_o3xxur_aznmc.Get_C()&&!(jt_3xaznmc.Get_C()==jt_o3xxur_aznmc.Get_C()))
return 0;if(jt_o3xxur_cat.Get_Ucat()&&!(jt_3xcat.Get_Ucat()==jt_o3xxur_cat.Get_Ucat()))
return 0;if(jt_o3xxur_cat.Get_Vcat()&&!(jt_3xcat.Get_Vcat()==jt_o3xxur_cat.Get_Vcat()))
return 0;return 1;},jt_MaxRecords);}
if(ji_oxur.IsSortByName())
jt_ogldtMain.SortByName(false);return true;};this.Get_3xXEMSC_ByXUR=function()
{var jt_o3xxeidxur=new A3xaXEID();jt_o3xxeidxur.CopyFrom(jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID());var jt_o3xxeidxur_xapp=new A3xaXEID_XApp(jt_o3xxeidxur);var jt_ogldtMSC=this.Get_DataTable(A3xa2DefineTbid().GLIDR(A3xa2DefineTbid().jc_GGLID_MetaSystemControl));if(!jt_ogldtMSC)
return null;var jr_oglrMSC=null;if(jt_o3xxeidxur.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_GeoCountry||jt_o3xxeidxur.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_GeoState)
{if(!(New_A3xaAZNMC_XApp(jt_o3xxeidxur.Get_3xAZNMC2()).IsLA()&&jt_o3xxeidxur.Get_3xAZNMC2().Get_Z()))
New_A3xaAZNMC_XApp(jt_o3xxeidxur.Get_3xAZNMC2()).Set_LA();jr_oglrMSC=jt_ogldtMSC.Get_3xDbEntityAX(jt_o3xxeidxur_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_MetaSystemControl));if(jr_oglrMSC)
return jr_oglrMSC;jt_o3xxeidxur.Get_3xPS2().Clear_S();jr_oglrMSC=jt_ogldtMSC.Get_3xDbEntityAX(jt_o3xxeidxur_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_MetaSystemControl));if(jr_oglrMSC)
return jr_oglrMSC;}
jt_o3xxeidxur=new A3xaXEID();jt_o3xxeidxur.CopyFrom(jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID());jt_o3xxeidxur_xapp=new A3xaXEID_XApp(jt_o3xxeidxur);jt_o3xxeidxur.Get_3xPS2().Clear();if(jt_o3xxeidxur.Get_3xAZNMC2().Get_C())
{jr_oglrMSC=jt_ogldtMSC.Get_3xDbEntityAX(jt_o3xxeidxur_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_MetaSystemControl));if(jr_oglrMSC)
return jr_oglrMSC;}
if(jt_o3xxeidxur.Get_3xAZNMC2().Get_N())
{jt_o3xxeidxur.Get_3xAZNMC2().Clear_C();jr_oglrMSC=jt_ogldtMSC.Get_3xDbEntityAX(jt_o3xxeidxur_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_MetaSystemControl));if(jr_oglrMSC)
return jr_oglrMSC;}
if(jt_o3xxeidxur.Get_3xAZNMC2().Get_Z())
{jt_o3xxeidxur.Get_3xAZNMC2().Clear_NC();jr_oglrMSC=jt_ogldtMSC.Get_3xDbEntityAX(jt_o3xxeidxur_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_MetaSystemControl));if(jr_oglrMSC)
return jr_oglrMSC;}
New_A3xaAZNMC_XApp(jt_o3xxeidxur.Get_3xAZNMC2()).Set_LA();jr_oglrMSC=jt_ogldtMSC.Get_3xDbEntityAX(jt_o3xxeidxur_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_MetaSystemControl));if(jr_oglrMSC)
return jr_oglrMSC;jt_o3xxeidxur.Get_3xAZNMC2().Clear();jr_oglrMSC=jt_ogldtMSC.Get_3xDbEntityAX(jt_o3xxeidxur_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_MetaSystemControl));return jr_oglrMSC;};this._A3xaDbZero();}"use strict";function GLDTEntity(ji_oDatabase,ji_glid)
{GLDataTable.call(this,ji_oDatabase,ji_glid);this.New3xDbEntity=function()
{var jt_glid=this.Get_Glid();var jt_oDbSchemaTable=this.Get_Database().jm_oDbSchema.Get_Table_ByName(jt_glid);if(!jt_oDbSchemaTable)
return null;if(jt_oDbSchemaTable.jp_SubTable==A3xa2DefineTbid().jc_tbtype_tid.tbtname)
{return new A3xaAbsDbEntity();}
else if(jt_oDbSchemaTable.jp_SubTable==A3xa2DefineTbid().jc_tbtype_eid.tbtname||!jt_oDbSchemaTable.jp_sParent)
{return new A3xaREntity(new A3xaXtdEntity());}
else if(jt_oDbSchemaTable.jp_SubTable==A3xa2DefineTbid().jc_tbtype_ebis.tbtname)
{return new GLREBIS();}
else if(jt_oDbSchemaTable.jp_SubTable==A3xa2DefineTbid().jc_tbtype_ebid.tbtname)
{return new GLREBID();}
else if(jt_oDbSchemaTable.jp_SubTable==A3xa2DefineTbid().jc_tbtype_ei.tbtname)
{return new GLREI();}
return null;};this.SetupSDSRecords=function(ji_ogldtParent)
{var jt_odb=this.Get_Database();var jt_glid=this.Get_Glid();var jt_oSchemaTable=jt_odb.jm_oDbSchema.Get_Table_ByName(jt_glid);if(!jt_odb.Get_SDSDBWork())
return false;var jt_I3tbid=A3xa3Tbid(jt_glid);var jt_tbtype=jt_I3tbid.getTbType();if(!jt_tbtype)
return false;var jt_o3x2tb=jt_odb.Get_SDSDBWork().db.get3x2Table(jt_glid,null,null);if(!jt_o3x2tb)
return false;var jt_o3x2index=jt_o3x2tb.tb.getTableIndex(jt_tbtype.tbtkeyname);if(!jt_o3x2index)
return false;var jt_a3x2oglr=A3xa3Array();var jt_nofrec=jt_o3x2index.ar.getCount();for(var i=0;i<jt_nofrec;i++)
{var jt_key=jt_o3x2index.ar.getKey(i);var jt_o3x2rec=jt_o3x2index.ar.getItem(jt_key);var jt_o3xdbe=this.New3xDbEntity();jt_o3xdbe.Set_SDS3x2Record(jt_o3x2rec);jt_a3x2oglr.addItem(jt_key,jt_o3xdbe);}
this.jm_aoglr=jt_a3x2oglr;return true;};this.SetupLoadedRecords=function(ji_ogldtParent)
{var jt_odb=this.Get_Database();var jt_glid=this.Get_Glid();var jt_oSchemaTable=jt_odb.jm_oDbSchema.Get_Table_ByName(jt_glid);this.SetupSDSRecords(ji_ogldtParent);var jt_oa3xRecordset=this.Get_IRecordset();var jt_aoglrAX=A3xa3Array();var jt_nRecords=(jt_oa3xRecordset?jt_oa3xRecordset.getCount():0);if(this.jm_bAX)
{for(var jrec=0;jrec<jt_nRecords;jrec++)
{var jt_id=jt_oa3xRecordset.getKey(jrec);var jt_oglr=jt_oa3xRecordset.getItem(jt_id);if(jt_oglr)
jt_aoglrAX.addItem(New_A3xaXEID_XApp(jt_oglr).BuildAltKey(null,true),jt_oglr);}}
this.jm_aoglrAX=jt_aoglrAX;if(ji_ogldtParent)
{if(!(jt_oSchemaTable&&jt_oSchemaTable.jp_sParent))
return false;for(var irecord=0;irecord<jt_nRecords;irecord++)
{var jt_id=ji_ogldtParent.Get_IRecordset().getKey(irecord);if(!jt_id)
continue;var jt_oglr=ji_ogldtParent.Get_3xDbEntity(jt_id);if(!jt_oglr)
continue;jt_oglr.Set_SubDbEntity(jt_oSchemaTable.jp_SubTable,this.Get_3xDbEntity(jt_id))}}
else
{}
return this.GLDataTable_SetupLoadedRecords(ji_ogldtParent);};this.OnDataLoadedSetup=function()
{var jt_nRows=this.Get_IRecordset().getCount();if(!(jt_nRows>0))
return false;for(var jt_Row=0;jt_Row<jt_nRows;jt_Row++)
{var jt_oxe=this.Get_IRecordset().getItem_ByIndex(jt_Row);jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_oxe.XEID="+
(jt_oxe?jt_oxe.Get_3xXEID().Get_String():"null"),"","GLDTEntity.OnDataLoadedSetup");jt_oxe.LinkCommonData(this.Get_Database());jt_oxe.Get_3xEBIS().Set_DefaultColor("FFFFFF");}
return true;};this.SortByTime=function(ji_bDesc)
{if(!(this.Get_IRecordset()&&this.Get_IRecordset().getCount()>0))
return true;var jt_1=(ji_bDesc?1:-1);this.Get_IRecordset().sortItems(function(ji_oglr_a,ji_oglr_b)
{if(ji_oglr_a.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return-jt_1;if(ji_oglr_b.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return jt_1;var jt_o3xDate_a=new A3xaDateTime();var jt_o3xDate_b=new A3xaDateTime();jt_o3xDate_a.Set_DateTime(ji_oglr_a.Get_3xEBIS().Get_Created());jt_o3xDate_b.Set_DateTime(ji_oglr_b.Get_3xEBIS().Get_Created());if(!(jt_o3xDate_a.IsValid()&&jt_o3xDate_b.IsValid()))
return 0;var jt_result=jt_o3xDate_a.Compare(jt_o3xDate_b);if(jt_result<0)
return jt_1;if(jt_result>0)
return-jt_1;return 0;});return true;};this.SortByLatestClick=function(ji_bDesc)
{if(!(this.Get_IRecordset()&&this.Get_IRecordset().getCount()>0))
return true;var jt_1=(ji_bDesc?1:-1);this.Get_IRecordset().sortItems(function(ji_oglr_a,ji_oglr_b)
{if(ji_oglr_a.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return-jt_1;if(ji_oglr_b.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return jt_1;var jt_o3xDate_a=new A3xaDateTime();var jt_o3xDate_b=new A3xaDateTime();jt_o3xDate_a.Set_DateTime(ji_oglr_a.Get_3xEBID().Get_ClickTime());jt_o3xDate_b.Set_DateTime(ji_oglr_b.Get_3xEBID().Get_ClickTime());var jt_baValid=(ji_oglr_a.Get_3xEBID().Get_ClickTime()&&jt_o3xDate_a.IsValid());var jt_bbValid=(ji_oglr_b.Get_3xEBID().Get_ClickTime()&&jt_o3xDate_b.IsValid());if(jt_baValid&&jt_bbValid)
{var jt_result=jt_o3xDate_a.Compare(jt_o3xDate_b);if(jt_result<0)
return jt_1;if(jt_result>0)
return-jt_1;}
else if(!jt_baValid&&jt_bbValid)
return jt_1;else if(jt_baValid&&!jt_bbValid)
return-jt_1;var jt_delta=ji_oglr_a.Get_3xEBID().Get_Score()-ji_oglr_b.Get_3xEBID().Get_Score();if(jt_delta<0)
return jt_1;if(jt_delta>0)
return-jt_1;return 0;});return true;};this.SortByName=function(ji_bDesc)
{if(!(this.Get_IRecordsel()&&this.Get_IRecordsel().I().Iar.getCount()>0))
return true;var jt_1=(ji_bDesc?1:-1);this.Get_IRecordsel().I().Iar.sortItems(function(ji_oglr_a,ji_oglr_b)
{if(ji_oglr_a.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return-jt_1;if(ji_oglr_b.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return jt_1;var jt_oebis_a=ji_oglr_a.Get_3xEBIS();var jt_oebis_b=ji_oglr_b.Get_3xEBIS();if(!(jt_oebis_a&&jt_oebis_b))
return 0;if(ji_oglr_a.Get_LName()==ji_oglr_b.Get_LName())
return 0;if(ji_oglr_a.Get_LName()<ji_oglr_b.Get_LName())
return jt_1;return-jt_1;});return true;};this.SortByScore=function(ji_bDesc)
{if(!(this.Get_IRecordset()&&this.Get_IRecordset().getCount()>0))
return true;var jt_1=(ji_bDesc?1:-1);this.Get_IRecordset().sortItems(function(ji_oglr_a,ji_oglr_b)
{if(ji_oglr_a.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return-jt_1;if(ji_oglr_b.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return jt_1;var jt_oebid_a=ji_oglr_a.Get_3xEBID();var jt_oebid_b=ji_oglr_b.Get_3xEBID();if(!(jt_oebid_a&&jt_oebid_b))
return 0;var jt_delta=jt_oebid_a.Get_Score()-jt_oebid_b.Get_Score();if(jt_delta<0)
return jt_1;if(jt_delta>0)
return-jt_1;return 0;});return true;};this.SortByClick=function(ji_bDesc)
{if(!(this.Get_IRecordset()&&this.Get_IRecordset().getCount()>0))
return true;var jt_1=(ji_bDesc?1:-1);this.Get_IRecordset().sortItems(function(ji_oglr_a,ji_oglr_b)
{if(ji_oglr_a.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return-jt_1;if(ji_oglr_b.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
return jt_1;var jt_oebid_a=ji_oglr_a.Get_3xEBID();var jt_oebid_b=ji_oglr_b.Get_3xEBID();if(!(jt_oebid_a&&jt_oebid_b))
return 0;var jt_delta=Number(jt_oebid_a.Get_Clicks())-Number(jt_oebid_b.Get_Clicks());if(jt_delta<0)
return jt_1;if(jt_delta>0)
return-jt_1;jt_delta=Number(jt_oebid_a.Get_Score())-Number(jt_oebid_b.Get_Score());if(jt_delta<0)
return jt_1;if(jt_delta>0)
return-jt_1;return 0;});return true;};}"use strict";function A3xaAbsDbEntity()
{this.jm_o3x2rec=null;this.jm_aoglrSub=[];this.Set_SDS3x2Record=function(ji_o3x2rec){this.jm_o3x2rec=ji_o3x2rec;return true;};this.Get_SDS3x2Record=function(){return this.jm_o3x2rec;};this.Get_Field=function(ji_name)
{if(!this.Get_SDS3x2Record())
return null;return this.Get_SDS3x2Record().rec.getFieldValue_ByName(ji_name);};this.Set_Field=function(ji_name,ji_fieldValue)
{if(!this.Get_SDS3x2Record())
return null;var jr_b=this.Get_SDS3x2Record().rec.setFieldValue(this.Get_SDS3x2Record().rec.getFieldPos(ji_name),ji_fieldValue);return jr_b;};this.Get_FieldArray_Recordset=function(ji_name)
{jg_oe.CanLogInfo()&&this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eif_enty)=="E"&&jg_oe.LogInfo("1: ","","A3xaAbsDbEntity.Get_FieldArray_Recordset");if(!this.Get_SDS3x2Record())
return null;jg_oe.CanLogInfo()&&this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eif_enty)=="E"&&jg_oe.LogInfo("2,ji_name: "+ji_name,"","A3xaAbsDbEntity.Get_FieldArray_Recordset");var jt_o3x2rsfa=this.Get_SDS3x2Record().rec.get3x2Recordset_ByName(ji_name);jg_oe.CanLogInfo()&&this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eif_enty)=="E"&&jg_oe.LogInfo("3: ","","A3xaAbsDbEntity.Get_FieldArray_Recordset");if(!jt_o3x2rsfa)
return null;jg_oe.CanLogInfo()&&this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eif_enty)=="E"&&jg_oe.LogInfo("jt_o3x2rsfa: "+jt_o3x2rsfa,"","A3xaAbsDbEntity.Get_FieldArray_Recordset");return jt_o3x2rsfa.rs.getD3xRecordset();};this.ConvertSpecialChars=function(ji_sValue)
{if(!ji_sValue)
return ji_sValue;return ji_sValue.replace(/__at2__/g,"@").replace(/&#40;/g,"(").replace(/&#41;/g,")").replace(/&apos;/g,"'").replace(/&quot;/g,"'").replace(/__apos__/g,"'").replace(/__quot__/g,"'");};this.Set_SubDbEntity=function(ji_SubType,ji_oglrSub)
{if(!(ji_SubType&&ji_oglrSub))
return false;if(!this.CheckSubDbEntity(ji_SubType,ji_oglrSub))
return false;this.jm_aoglrSub[ji_SubType]=ji_oglrSub;return true;};this.CheckSubDbEntity=function(ji_SubType,ji_oglrSub){return true;};this.Get_SubDbEntity=function(ji_SubType)
{return(ji_SubType?this.jm_aoglrSub[ji_SubType]:null);};}
function A3xaREntity(ji_odcCache)
{A3xaAbsDbEntity.call(this,null);this.Get_3xXEID=function()
{var jr_o3xxeid=this.jm_ogle.Get_3xXEID();if(!jr_o3xxeid)
return null;if(this.jm_bCacheXEID)
return jr_o3xxeid;this.jm_bCacheXEID=true;if(!this._CacheXEID());return jr_o3xxeid;};this._CacheXEID=function()
{var jr_o3xxeid=this.jm_ogle.Get_3xXEID();if(!jr_o3xxeid)
return false;var jt_xeidcc=this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_xeidcc);if(jt_xeidcc)
{if(!jr_o3xxeid.Set_CompactCode(jt_xeidcc))
return false;}
else
{jr_o3xxeid.Set_GEID(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_enty),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_enid),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_egty),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_egid));jr_o3xxeid.Get_3xCat2().Set_Category(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_ucat),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_vcat));jr_o3xxeid.Get_3xAZNMC2().Set_AZNMC(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_a),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_z),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_n),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_m),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_c));jr_o3xxeid.Get_3xPS2().Set_PS(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_p),this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eidf_s));}
this._OnCacheXEID();return true;};this._OnCacheXEID=function()
{this.jm_ogle.Replace_3xEBID(this.Get_3xEBID());this.jm_ogle.Replace_3xEBIS(this.Get_3xEBIS());this.jm_ogle.Replace_3xEI(this.Get_3xEI());return true;};this.CheckSubDbEntity=function(ji_SubType,ji_oglrSub)
{if(!(ji_SubType&&ji_oglrSub))
return false;if(this.Get_3xXEID().Get_TypEntity()!=ji_oglrSub.Get_TypEntity())
return false;if(this.Get_3xXEID().Get_IdEntity()!=ji_oglrSub.Get_IdEntity())
return false;return true;};this.Get_3xEBIS=function(){return this.Get_SubDbEntity(A3xa2DefineTbid().jc_tbtype_ebis.tbtname);};this.Get_3xEBID=function(){return this.Get_SubDbEntity(A3xa2DefineTbid().jc_tbtype_ebid.tbtname);};this.Get_3xEI=function(){return this.Get_SubDbEntity(A3xa2DefineTbid().jc_tbtype_ei.tbtname);};this.Get_3xsName=function(){return this.Get_3xEI().Get_3xsName();};this.Get_LName=function()
{var jt_o3xs4L=this.Get_3xsName();if(jt_o3xs4L&&jt_o3xs4L.Get_LString())
return jt_o3xs4L.Get_LString();if(this.Get_3xEBIS())
return this.Get_3xEBIS().Get_Name();return"";};this.Get_3xsDescr=function(){return this.Get_3xEI().Get_3xsDescr();};this.Get_LDescr=function()
{var jt_o3xs4L=this.Get_3xsDescr();if(jt_o3xs4L&&jt_o3xs4L.Get_LString())
return jt_o3xs4L.Get_LString();if(this.Get_3xEBIS())
return this.Get_3xEBIS().Get_Descr();return"";};this.LinkCommonData=function(ji_odb,ji_bNoInherit)
{this.Get_3xXEID();return this.jm_ogle.LinkCommonData(ji_odb,ji_bNoInherit);};this.Get_CommonLinkedRecord=function(ji_TypEntity)
{return this.jm_ogle.Get_CommonLinkedRecord(ji_TypEntity);};this.jm_ogle=(ji_odcCache?ji_odcCache:new A3xaDCEntity());this.jm_bCacheXEID=false;}
function GLREBIS()
{A3xaAbsDbEntity.call(this,null);this.Get_3xEBIS=function(){return this;};this.Get_TypEntity=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_enty);};this.Get_IdEntity=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_enid);};this.Get_Created=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_created);};this.Get_Modified=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_modified);};this.Get_Order=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_order);};this.Get_Idsym=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_sym);};this.Get_Lat=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_lat);};this.Get_Lon=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_lon);};this.Get_Name=function()
{return this.ConvertSpecialChars(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_name));};this.Get_Descr=function()
{return this.ConvertSpecialChars(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_descr));};this.Get_Website=function()
{return this.ConvertSpecialChars(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_url));};this._Get_Color=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebisf_color);};this.jm_DefaultColor="FFFFFF";this.Set_DefaultColor=function(ji_Color){this.jm_DefaultColor=ji_Color;return true;};this.Get_DefaultColor=function(){return this.jm_DefaultColor;};this.jm_Color=null;this.Set_Color=function(ji_Color){this.jm_Color=ji_Color;return true;};this.Get_Color=function()
{if(!this.jm_Color)this.jm_Color=this._Get_Color();if(this.jm_Color)return this.jm_Color;return this.jm_DefaultColor;};}
function GLREBID()
{A3xaAbsDbEntity.call(this,null);this.Get_3xEBID=function(){return this;};this.Get_TypEntity=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_enty);};this.Get_IdEntity=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_enid);};this.Get_Count=function(){return Number(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_count));};this.Get_Likes=function()
{return Number(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_likes));};this.Get_LikesBonus=function()
{return Number(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_likesbonus));};this.Get_LikesTotal=function(){return this.Get_Likes()+this.Get_LikesBonus();};this.Get_Clicks=function(){return Number(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_clicks));};this.Get_ClickTime=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_clicksphtime);};this.Get_Score=function(){return Number(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_score));};this.Get_ScoreWeight=function(){return Number(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_scoreweight));};this.Get_MaxClicks=function(){return Number(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_maxclicks));};this.Get_MaxScore=function(){return Number(this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_maxscore));};this.Set_Count=function(ji_value){return this.Set_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_count,ji_value);};this.Set_Clicks=function(ji_value){return this.Set_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_clicks,ji_value);};this.Set_Score=function(ji_value){return this.Set_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_score,ji_value);};this.Set_ClickTime=function(ji_value){return this.Set_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_clicksphtime,ji_value);};this.Set_ScoreWeight=function(ji_value){return this.Set_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_scoreweight,ji_value);};this.Set_MaxClicks=function(ji_value){return this.Set_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_maxclicks,ji_value);};this.Set_MaxScore=function(ji_value){return this.Set_Field(jg_oe.jc_oA3xaDbZero.jc_ebidf_maxscore,ji_value);};}
function GLREI()
{A3xaAbsDbEntity.call(this,null);this.Get_3xEI=function(){return this;};this.Get_TypEntity=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eif_enty);};this.Get_IdEntity=function(){return this.Get_Field(jg_oe.jc_oA3xaDbZero.jc_eif_enid);};this.Get_3x2Info=function(ji_TypInfo,ji_IdInfo)
{var jt_o3x2aeifa_Selected=A3xa3Array().O();var jt_arsInfo=this.Get_FieldArray_Recordset(jg_oe.jc_oA3xaDbZero.jc_sEifaName);jg_oe.CanLogInfo()&&this.Get_TypEntity()=="E"&&jg_oe.LogInfo("te,ide,jt_arsInfo: "+this.Get_TypEntity()+","+this.Get_IdEntity()+","+jt_arsInfo,"","GLREI.Get_3x2Info");if(!(jt_arsInfo&&jt_arsInfo.length))
return jt_o3x2aeifa_Selected;for(var i=0;i<jt_arsInfo.length;i++)
{if(!jt_arsInfo[i]||jt_arsInfo[i][jg_oe.jc_oA3xaDbZero.jc_Eifa_IdParent]>0)
continue;var jt_oeifa=new A3xaREntityInfo(jt_arsInfo[i],null);var jt_eityp=jt_oeifa.jm_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ];var jt_eiid=jt_oeifa.jm_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id];var jt_eikey=jt_eityp+","+jt_eiid;if((!ji_TypInfo||jt_eityp==ji_TypInfo)&&(!ji_IdInfo||jt_eiid==ji_IdInfo))
{for(var s=0;s<jt_arsInfo.length;s++)
{if(!jt_arsInfo[s])
continue;if(jt_arsInfo[s][jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ]&&jt_arsInfo[s][jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ]==jt_eityp&&jt_arsInfo[s][jg_oe.jc_oA3xaDbZero.jc_Eifa_IdParent]==jt_eiid)
{if(!jt_oeifa.jm_arsSlaves)
jt_oeifa.jm_arsSlaves=[];jt_oeifa.jm_arsSlaves.push(jt_arsInfo[s]);}}
jt_o3x2aeifa_Selected.ar.addItem(jt_eikey,jt_oeifa);}}
return jt_o3x2aeifa_Selected;};this.Get_Info=function(ji_TypInfo,ji_IdInfo)
{var jt_o3x2aeifa_Selected=this.Get_3x2Info(ji_TypInfo,ji_IdInfo);return jt_o3x2aeifa_Selected?jt_o3x2aeifa_Selected.ar.getArray(null):null;};this.Get_3xsField=function(ji_TypInfo,ji_CodInfo)
{var jt_o3x2aoeifa4L=this.Get_3x2Info(ji_TypInfo,null);var jt_b=false;var jr_o3xs4L=new A3xaString();for(var i=0;jt_o3x2aoeifa4L&&i<jt_o3x2aoeifa4L.ar.getCount();i++)
{var jt_aMaster=jt_o3x2aoeifa4L.ar.getItem_ByIndex(i).Get_Master();var jt_TypInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ];var jt_CodInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod];var jt_IdInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id];var jt_sInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];if(jt_CodInfo!=ji_CodInfo)
continue;jt_sInfo=this.ConvertSpecialChars(jt_sInfo);if(jr_o3xs4L.Set_IString(jt_IdInfo,jt_sInfo))
jt_b=true;}
if(!jt_b)
return null;return jr_o3xs4L;};this.Get_3xsName=function()
{return this.Get_3xsField(jg_oe.jc_oEntityInfo.jc_TI_4LName,jg_oe.jc_oEntityInfo.jc_CI_4LName_Text);};this.Get_LName=function()
{var jt_o3xs4L=this.Get_3xsName();if(!jt_o3xs4L)
return"";return jt_o3xs4L.Get_LString();};this.Get_3xsDescr=function()
{return this.Get_3xsField(jg_oe.jc_oEntityInfo.jc_TI_4LDescr,jg_oe.jc_oEntityInfo.jc_CI_4LDescr_Text);};this.Get_LDescr=function()
{var jt_o3xs4L=this.Get_3xsDescr();if(!jt_o3xs4L)
return"";return jt_o3xs4L.Get_LString();};}"use strict";function A3xaXtdEntity()
{this.jm_aoglrCommon=[];A3xaDCEntity.call(this);this.Get_CommonLinkedRecord=function(ji_TypEntity)
{if(!ji_TypEntity)
return null;return this.jm_aoglrCommon[ji_TypEntity]||null;};this.LinkCommonData=function(ji_odb,ji_bNoInherit)
{return this.A3xaXtdEntity_LinkCommonData(ji_odb,ji_bNoInherit);};this.A3xaXtdEntity_LinkCommonData=function(ji_odb,ji_bNoInherit)
{if(!ji_odb)
return false;var jt_TypEntity=this.Get_3xXEID().Get_TypEntity();var jt_oThis3xxeid_xapp=new A3xaXEID_XApp(this);var jt_oglrCategory=null;var jt_ogldtCategory=null;{jt_ogldtCategory=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_Category));if(jt_ogldtCategory)
{jt_oglrCategory=jt_ogldtCategory.Get_3xDbEntityAX(jt_oThis3xxeid_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_Category));}}
var jt_oglrGeoTopArea=null;var jt_oglrGeoArea=null;var jt_oglrGeoRegion=null;var jt_oglrGeoCity=null;var jt_oglrGeoCountry=null;var jt_oglrGeoState=null;var jt_ogldtGeoTopArea=null;var jt_ogldtGeoArea=null;var jt_ogldtGeoRegion=null;var jt_ogldtGeoCity=null;var jt_ogldtGeoCountry=null;var jt_ogldtGeoState=null;jt_ogldtGeoTopArea=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoTopArea));jt_ogldtGeoArea=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoArea));if(jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoTopArea&&jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoArea)
jt_ogldtGeoRegion=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoRegion));if(jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoTopArea&&jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoArea&&jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoRegion)
jt_ogldtGeoCity=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCity));if(jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoTopArea&&jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoArea&&jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoRegion)
jt_ogldtGeoCountry=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCountry));if(jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoTopArea&&jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoArea&&jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoRegion&&jt_TypEntity!=jg_oe.jc_oEntity.jc_Typ_GeoCountry)
jt_ogldtGeoState=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoState));if(jt_ogldtGeoTopArea)
{jt_oglrGeoTopArea=jt_ogldtGeoTopArea.Get_3xDbEntityAX(jt_oThis3xxeid_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_GeoTopArea));}
if(jt_ogldtGeoArea)
{jt_oglrGeoArea=jt_ogldtGeoArea.Get_3xDbEntityAX(jt_oThis3xxeid_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_GeoArea));if(jt_oglrGeoArea&&jt_ogldtGeoRegion)
{jt_oglrGeoRegion=jt_ogldtGeoRegion.Get_3xDbEntityAX(jt_oThis3xxeid_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_GeoRegion));if(jt_oglrGeoRegion&&jt_ogldtGeoCity)
jt_oglrGeoCity=jt_ogldtGeoCity.Get_3xDbEntityAX(jt_oThis3xxeid_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_GeoCity));}}
var jt_oglrAltKeySource=null;if(jt_ogldtGeoCountry)
{jt_oglrAltKeySource=jt_oglrGeoCity;if(!jt_oglrAltKeySource)
jt_oglrAltKeySource=this;var jt_oAltKeySource3xxeid_xapp=new A3xaXEID_XApp(jt_oglrAltKeySource);if(jt_oglrAltKeySource&&jt_oglrAltKeySource.Get_3xXEID().Get_3xPS().Get_P())
{jt_oglrGeoCountry=jt_ogldtGeoCountry.Get_3xDbEntityAX(jt_oAltKeySource3xxeid_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_GeoCountry));if(jt_oglrGeoCountry&&jt_oglrAltKeySource.Get_3xXEID().Get_3xPS().Get_S())
{if(jt_ogldtGeoState&&jt_oglrGeoCountry)
jt_oglrGeoState=jt_ogldtGeoState.Get_3xDbEntityAX(jt_oAltKeySource3xxeid_xapp.BuildAltKey(jg_oe.jc_oEntity.jc_Typ_GeoState));}}}
this.jm_aoglrCommon[jg_oe.jc_oEntity.jc_Typ_Category]=jt_oglrCategory;this.jm_aoglrCommon[jg_oe.jc_oEntity.jc_Typ_GeoTopArea]=jt_oglrGeoTopArea;this.jm_aoglrCommon[jg_oe.jc_oEntity.jc_Typ_GeoArea]=jt_oglrGeoArea;this.jm_aoglrCommon[jg_oe.jc_oEntity.jc_Typ_GeoRegion]=jt_oglrGeoRegion;this.jm_aoglrCommon[jg_oe.jc_oEntity.jc_Typ_GeoCity]=jt_oglrGeoCity;this.jm_aoglrCommon[jg_oe.jc_oEntity.jc_Typ_GeoCountry]=jt_oglrGeoCountry;this.jm_aoglrCommon[jg_oe.jc_oEntity.jc_Typ_GeoState]=jt_oglrGeoState;if(!ji_bNoInherit)
{if(jt_oglrAltKeySource)
this.Get_3xXEID().Set_3xPS(jt_oglrAltKeySource.Get_3xXEID());if(jt_oglrCategory)
{this.Get_3xEBIS().Set_Color(jt_oglrCategory.Get_3xEBIS().Get_Color());}}
return true;};}"use strict";function A3xaXur()
{A3xaXtdEntity.call(this);this.jm_FormName=null;this.jm_FormEvent=null;this.jm_TypAjaxResponse=null;this.jm_QUR=null;this.jm_Single=null;this.jm_SubEntity=null;this.jm_sEnterprise="";this.jm_sCategory="";this.jm_sCity="";this.jm_sState="";this.jm_sCountry="";this.jm_sRegion="";this.jm_sArea="";this.jm_oDTStatus=new GLDataStatusAjaxOpen();this.Clear=function()
{this.jm_FormName=null;this.jm_FormEvent=null;this.jm_TypAjaxResponse=null;this.jm_QUR=null;this.jm_Single=null;this.jm_SubEntity=null;this.jm_sEnterprise="";this.jm_sCategory="";this.jm_sCity="";this.jm_sState="";this.jm_sCountry="";this.jm_sRegion="";this.jm_sArea="";return true;};this.Get_3xXUR=function(){return this;};this.CopyFromXUR=function(ji_oxur)
{if(ji_oxur)
ji_oxur=ji_oxur.Get_3xXUR();if(!ji_oxur)
return false;if(!this.A3xaDCEntity_CopyFrom(ji_oxur,true,false,false,false))
return false;this.jm_FormName=ji_oxur.jm_FormName;this.jm_FormEvent=ji_oxur.jm_FormEvent;this.jm_TypAjaxResponse=ji_oxur.jm_TypAjaxResponse;this.jm_QUR=ji_oxur.jm_QUR;this.jm_Single=ji_oxur.jm_Single;this.jm_SubEntity=ji_oxur.jm_SubEntity;this.jm_sEnterprise=ji_oxur.jm_sEnterprise;this.jm_sCategory=ji_oxur.jm_sCategory;this.jm_sCity=ji_oxur.jm_sCity;this.jm_sState=ji_oxur.jm_sState;this.jm_sCountry=ji_oxur.jm_sCountry;this.jm_sRegion=ji_oxur.jm_sRegion;this.jm_sArea=ji_oxur.jm_sArea;return true;};this.Matches=function(ji_o3xxur,ji_bDontCheckOrder)
{if(ji_o3xxur)
ji_o3xxur.Get_3xXUR();if(!ji_o3xxur)
return false;if(this.jm_FormName!=ji_o3xxur.jm_FormName)
return false;if(this.jm_Single!=ji_o3xxur.jm_Single)
return false;if(this.jm_SubEntity!=ji_o3xxur.jm_SubEntity)
return false;if(!ji_bDontCheckOrder&&this.jm_QUR!=ji_o3xxur.jm_QUR)
return false;if(!this.Get_3xXEID()._A3xaXEID_Matches(ji_o3xxur))
return false;return true;};this.Set_UrlParams=function(ji_FormName,ji_FormEvent,ji_TAR,ji_QUR,ji_sxeid,ji_Single,ji_SubEntity,ji_sUrlParams)
{this.Clear();var jt_oUrlParams=new A3xaUrl(null,ji_sUrlParams);var jt_sXUR=jt_oUrlParams.Get_UrlParam("p3x");if(jt_sXUR)
this.Set_XURString(jt_sXUR);if(ji_FormName)
this.jm_FormName=ji_FormName;if(ji_FormEvent)
this.jm_FormEvent=ji_FormEvent;if(ji_TAR)
this.jm_TypAjaxResponse=ji_TAR;if(ji_QUR)
this.jm_QUR=ji_QUR;if(ji_Single)
this.jm_Single=ji_Single;if(ji_SubEntity)
this.jm_SubEntity=ji_SubEntity;if(ji_sxeid)
this.Get_3xXEID().Set_String(ji_sxeid);return true;};this.Set_UrlParams2=function(ji_oXurParams)
{this.Clear();if(!ji_oXurParams)
return false;if(ji_oXurParams.surlpar)
{var jt_oUrlParams=new A3xaUrl(null,ji_oXurParams.surlpar);var jt_sXUR=jt_oUrlParams.Get_UrlParam("p3x");if(jt_sXUR)
this.Set_XURString(jt_sXUR);}
if(ji_oXurParams.form)
this.jm_FormName=ji_oXurParams.form;if(ji_oXurParams.tar)
this.jm_TypAjaxResponse=ji_oXurParams.tar;if(ji_oXurParams.qur)
this.jm_QUR=ji_oXurParams.qur;if(ji_oXurParams.single)
this.jm_Single=ji_oXurParams.single;if(ji_oXurParams.subenty)
this.jm_SubEntity=ji_oXurParams.subenty;if(ji_oXurParams.o3xxeid)
this.Get_3xXEID().CopyFrom(ji_oXurParams.o3xxeid);else if(ji_oXurParams.sxeid)
this.Get_3xXEID().Set_String(ji_oXurParams.sxeid);return true;};this.Set_XURString=function(ji_s)
{if(!ji_s)
return false;var jt_X3cc=ji_s.substring(0,2);if(jt_X3cc=="X3")
return this.Set_XURCC(ji_s);var jt_aXUR=ji_s.split(",");if(!jt_aXUR)
return false;if(jt_aXUR.length>0)
this.jm_FormName=jt_aXUR[0];if(jt_aXUR.length>1)
this.jm_FormEvent=jt_aXUR[1];if(jt_aXUR.length>2)
this.jm_TypAjaxResponse=jt_aXUR[2];if(jt_aXUR.length>3)
this.jm_Single=jt_aXUR[3];if(jt_aXUR.length>4)
this.jm_SubEntity=jt_aXUR[4];if(jt_aXUR.length>5)
this.jm_QUR=jt_aXUR[5];if(jt_aXUR.length>6)
{var jt_sxeid="";for(var ix=6;ix<jt_aXUR.length;ix++)
jt_sxeid+=((ix>6?",":"")+jt_aXUR[ix]);this.Get_3xXEID().Set_String(jt_sxeid);}
return true;};this.Get_XURCC=function()
{if(!this.IsValid())
return"";var jt_sxeidcc=this.Get_3xXEID().Get_CompactCode();if(!jt_sxeidcc)
return"";var jr_s="X3"+(this.jm_FormName||"00")+(this.jm_FormEvent||"0")+
(this.jm_TypAjaxResponse||"000")+
(this.jm_Single||"0")+(this.jm_SubEntity||"0")+
(this.jm_QUR||"0")+jt_sxeidcc;return jr_s;};this.Set_XURCC=function(ji_scc)
{if(!ji_scc)
return false;var jt_cursor=0;var jt_lencc=ji_scc.length;if(jt_lencc<2)
return false;var jt_X3cc=ji_scc.substring(jt_cursor,jt_cursor+2);if(jt_X3cc!="X3")
return false;jt_cursor=2;var jt_FN=null;var jt_FE=null;var jt_TAR=null;var jt_Single=null;var jt_SubEntity=null;var jt_QUR=null;if(jt_cursor+2>jt_lencc)
return false;jt_FN=ji_scc.substring(jt_cursor,jt_cursor+2);if(jt_FN=="00")
jt_FN=null;jt_cursor+=2;if(jt_cursor+1>jt_lencc)
return false;jt_FE=ji_scc.charAt(jt_cursor);if(jt_FE!="0")
return false;jt_cursor+=1;if(jt_cursor+3>jt_lencc)
return false;jt_TAR=ji_scc.substring(jt_cursor,jt_cursor+3);if(jt_TAR==="000")
jt_TAR=null;jt_cursor+=3;if(jt_cursor+1>jt_lencc)
return false;jt_Single=ji_scc.charAt(jt_cursor);if(jt_Single=="0")
jt_Single=null;jt_cursor+=1;if(jt_cursor+1>jt_lencc)
return false;jt_SubEntity=ji_scc.charAt(jt_cursor);if(jt_SubEntity=="0")
jt_SubEntity=null;jt_cursor+=1;if(jt_cursor+1>jt_lencc)
return false;jt_QUR=ji_scc.charAt(jt_cursor);if(jt_QUR=="0")
jt_QUR=null;jt_cursor+=1;this.jm_FormName=jt_FN;this.jm_FormEvent=jt_FE;this.jm_TypAjaxResponse=jt_TAR;this.jm_Single=jt_Single;this.jm_SubEntity=jt_SubEntity;this.jm_QUR=jt_QUR;if(!this.Get_3xXEID().Set_CompactCode(ji_scc.substring(jt_cursor)))
return false;return true;};this.IsValid=function()
{return true;};this.IsForm_AjaxEntity=function(){return this.jm_FormName==jg_oe.jc_oXUR.jc_XURFN_AjaxEntity;};this.IsForm_ListEntity=function(){return this.jm_FormName==jg_oe.jc_oXUR.jc_XURFN_ListEntity;};this.IsSingle=function(){return this.jm_Single==jg_oe.jc_oXUR.jc_XURTG_Single;};this.IsLimited=function(){return this.jm_Single==jg_oe.jc_oXUR.jc_XURTG_Limited||!this.jm_Single;};this.IsUnlimited=function(){return this.jm_Single==jg_oe.jc_oXUR.jc_XURTG_Unlimited;};this.IsGold=function()
{return(this.IsLimited()&&this.Get_3xXEID().CanBeGoldEnterprise());};this.IsSilver=function()
{return(this.IsLimited()&&(this.Get_3xXEID().CanBeSilverEnterprise()||this.Get_3xXEID().CanBeSilverTopEnterprise()));};this.IsForm_SubsidiaryEntity=function(){return this.jm_SubEntity==jg_oe.jc_oXUR.jc_XURTG_Subsidiary;};this.IsForm_MasterEntity=function(){return!this.jm_SubEntity||this.jm_SubEntity=="0"||this.jm_SubEntity==jg_oe.jc_oXUR.jc_XURTG_Master;};this.IsForm_ViewEntity=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QueryViewEntity;};this.IsForm_NewEntity=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QueryNewEntity;};this.IsForm_EditEntity=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QueryEditEntity;};this.IsForm_UpdateEntity=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QueryUpdateEntity;};this.IsForm_DeleteEntity=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QueryDeleteEntity;};this.IsSortByScore=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBS;};this.IsSortByClick=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBC;};this.IsSortByName=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBA;};this.IsSortByTime=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBT;};this.IsSortByLatestClick=function(){return this.jm_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBL;};this.SortByScore=function()
{this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBS;return true;};this.SortByClick=function()
{this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBC;return true;};this.SortByName=function()
{this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBA;return true;};this.SortByTime=function()
{this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBT;return true;};this.SortByLatestClick=function()
{this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBL;return true;};this.MakeQUR=function(ji_bUnlimited,ji_bSortByTime)
{if(ji_bUnlimited)
{this.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;if(ji_bSortByTime)
this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBT;else
this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBS;}
else
{this.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Limited;if(ji_bSortByTime)
this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBT;else
this.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBS;}
return true;};this.Get_QueryRankIcon=function()
{var jr_oQueryRank_Icon=null;var jt_Ucat=this.Get_3xXEID().Get_3xCat2().Get_Ucat();var jt_o3xaznmc=this.Get_3xXEID().Get_3xAZNMC2();var jt_te=this.Get_3xXEID().Get_TypEntity();var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();if(this.IsSingle())
return null;if(jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise)
{if(jt_o3xaznmc.Get_C())
{if(jt_Ucat)
jr_oQueryRank_Icon=jt_odfic.jc_oIconMS_QueryRank_List;else
jr_oQueryRank_Icon=jt_odfic.jc_oIconMS_QueryRank_T10Iron;}
else if(jt_o3xaznmc.CanBeUnlimited())
{if(jt_Ucat)
jr_oQueryRank_Icon=jt_odfic.jc_oIconMS_QueryRank_List;else
jr_oQueryRank_Icon=jt_odfic.jc_oIconMS_QueryRank_T10Bronze;}
else if(jt_o3xaznmc.CanBeSilver())
jr_oQueryRank_Icon=jt_odfic.jc_oIconMS_QueryRank_T10Silver;else if(jt_o3xaznmc.CanBeSilverTop())
jr_oQueryRank_Icon=jt_odfic.jc_oIconMS_QueryRank_T10Silver;else if(true)
jr_oQueryRank_Icon=jt_odfic.jc_oIconMS_QueryRank_T10Gold;}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoTopArea||jt_te==jg_oe.jc_oEntity.jc_Typ_GeoArea||jt_te==jg_oe.jc_oEntity.jc_Typ_GeoRegion||jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCity||jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCountry||jt_te==jg_oe.jc_oEntity.jc_Typ_GeoState)
{;}
return jr_oQueryRank_Icon;};this.Get_QueryEntityIcon=function()
{var jr_oQueryEntity_Icon=null;var jt_Ucat=this.Get_3xXEID().Get_3xCat2().Get_Ucat();var jt_o3xaznmc=this.Get_3xXEID().Get_3xAZNMC2();var jt_te=this.Get_3xXEID().Get_TypEntity();var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();if(this.IsSingle())
return null;if(jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise);else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoTopArea);else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoArea)
jr_oQueryEntity_Icon=jt_odfic.jc_oIconCat_Area;else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
jr_oQueryEntity_Icon=jt_odfic.jc_oIconCat_Region;else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCity)
jr_oQueryEntity_Icon=jt_odfic.jc_oIconCat_City;else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
jr_oQueryEntity_Icon=jt_odfic.jc_oIconCat_Country;else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoState)
jr_oQueryEntity_Icon=jt_odfic.jc_oIconCat_State;return jr_oQueryEntity_Icon;};this.Get_QueryOrderbyIcon=function()
{var jr_oQueryOrderby_Icon=null;var jt_Ucat=this.Get_3xXEID().Get_3xCat2().Get_Ucat();var jt_o3xaznmc=this.Get_3xXEID().Get_3xAZNMC2();var jt_te=this.Get_3xXEID().Get_TypEntity();var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();if(this.IsSingle())
return null;if(this.IsSortByScore());else if(this.IsSortByTime())
jr_oQueryOrderby_Icon=jt_odfic.jc_oIconMS_QueryOrderby_Latest;else if(this.IsSortByClick());else if(this.IsSortByName());else if(this.IsSortByLatestClick());return jr_oQueryOrderby_Icon;};this.Get_XURString=function()
{if(!this.IsValid())
return"";var jr_s=(this.jm_FormName||"")+","+(this.jm_FormEvent||"")+","+
(this.jm_TypAjaxResponse||"")+","+
(this.jm_Single||"")+","+(this.jm_SubEntity||"")+","+
(this.jm_QUR||"")+","+this.Get_3xXEID().Get_String();return jr_s;};this.Set_XUDParams=function(ji_sEnterprise,ji_sCategory,ji_sCity,ji_sState,ji_sCountry,ji_sRegion,ji_sArea)
{if(ji_sEnterprise)
this.jm_sEnterprise=(ji_sEnterprise||"");this.jm_sCategory=(ji_sCategory||"");this.jm_sCity=(ji_sCity||"");this.jm_sState=(ji_sState||"");this.jm_sCountry=(ji_sCountry||"");this.jm_sRegion=(ji_sRegion||"");this.jm_sArea=(ji_sArea||"");return true;};this.Set_XUDString=function(ji_s)
{var jt_aXUD=null;if(!ji_s)
return false;jt_aXUD=ji_s.split(",");if(!(jt_aXUD&&jt_aXUD.length>0))
return false;return this.Set_XUDParams(jt_aXUD[0]||"",jt_aXUD[1]||"",jt_aXUD[2]||"",jt_aXUD[3]||"",jt_aXUD[4]||"",jt_aXUD[5]||"",jt_aXUD[6]||"");};this.Get_XUDString2=function(ji_pEncode)
{if(!this.IsValid())
return"";var jt_sEnt=(this.jm_sEnterprise||"");var jt_sCat=(this.jm_sCategory||"");var jt_sCit=(this.jm_sCity||"");var jt_sSta=(this.jm_sState||"");var jt_sCou=(this.jm_sCountry||"");var jt_sReg=(this.jm_sRegion||"");var jt_sAre=(this.jm_sArea||"");if(ji_pEncode=="encode")
{jt_sEnt=encodeURIComponent(this.HyphenSpecialChars(jt_sEnt,2));jt_sCat=encodeURIComponent(this.HyphenSpecialChars(jt_sCat,2));jt_sCit=encodeURIComponent(this.HyphenSpecialChars(jt_sCit,2));jt_sSta=encodeURIComponent(this.HyphenSpecialChars(jt_sSta,2));jt_sCou=encodeURIComponent(this.HyphenSpecialChars(jt_sCou,2));jt_sReg=encodeURIComponent(this.HyphenSpecialChars(jt_sReg,2));jt_sAre=encodeURIComponent(this.HyphenSpecialChars(jt_sAre,2));}
else if(ji_pEncode=="decode")
{jt_sEnt=decodeURIComponent(jt_sEnt);jt_sCat=decodeURIComponent(jt_sCat);jt_sCit=decodeURIComponent(jt_sCit);jt_sSta=decodeURIComponent(jt_sSta);jt_sCou=decodeURIComponent(jt_sCou);jt_sReg=decodeURIComponent(jt_sReg);jt_sAre=decodeURIComponent(jt_sAre);}
var jr_s=jt_sEnt+","+jt_sCat+","+jt_sCit+","+jt_sSta+","+jt_sCou+","+jt_sReg+","+jt_sAre;return jr_s;};this.HyphenSpecialChars=function(ji_s,ji_type)
{if(!ji_s)
return"";var jr_s="";if(ji_type==2)
jr_s=ji_s.replace(/ |\||\\|\!|\"|\'|\/|\(|\)|\=|\?|\^|\{|\}|\[|\]|\+|\*|\@|\#|\<|\>|\,|\;|\.|\:|\_|&apos;|&quot;|\$/g,"-");else
jr_s=ji_s.replace(/ |\||\\|\!|\"|\'|\/|\(|\)|\=|\?|\^|\{|\}|\[|\]|\+|\*|\@|\#|\<|\>|\,|\;|\.|\:|\_|&apos;|&quot;|\$|\%|\&/g,"-");jr_s=jr_s.replace("----","-").replace("---","-").replace("--","-").replace("--","-").replace("--","-");if(jr_s.slice(-1)=="-")
jr_s=jr_s.slice(0,-1);return jr_s;};this.LinkMainData=function(ji_odb)
{if(!ji_odb)
return false;var jt_ogldtMain=ji_odb.Get_DataTable();if(!jt_ogldtMain)
return false;var jt_keyMain=this.Get_3xXEID().Get_PrimaryKey();var jt_oglrMain=null;if(this.jm_Single==jg_oe.jc_oXUR.jc_XURTG_Single&&jt_keyMain)
jt_oglrMain=jt_ogldtMain.Get_3xDbEntity(jt_keyMain);if(jt_oglrMain)
this.CopyFrom(jt_oglrMain,false,true,false,false);jg_oe.CanLogInfo()&&jg_oe.LogInfo("single,jt_keyMain,jt_oglrMain="+this.IsSingle()+","+jt_keyMain+","+jt_oglrMain,"","A3xaXur.LinkMainData");return true;};this.CopyFrom=function(ji_odc,ji_bXEID,ji_bEBIS,ji_bEBID,ji_bEI)
{if(!this.A3xaDCEntity_CopyFrom(ji_odc,ji_bXEID,ji_bEBIS,ji_bEBID,ji_bEI))
return false;var jt_sName=this.Get_LName();var jt_TypEntity=this.Get_3xXEID().Get_TypEntity();if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_Category)
this.jm_sCategory=jt_sName;else if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCity)
this.jm_sCity=jt_sName;else if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoState)
this.jm_sState=jt_sName;else if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
this.jm_sCountry=jt_sName;else if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
this.jm_sRegion=jt_sName;else if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoArea)
this.jm_sArea=jt_sName;else
this.jm_sEnterprise=jt_sName;return true;};this.LinkCommonData=function(ji_odb,ji_bNoInherit)
{if(!this.A3xaXtdEntity_LinkCommonData(ji_odb,ji_bNoInherit))
return false;return this.BuildXUDParams();};this.BuildXUDParams=function()
{var jt_oglrCategory=this.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);var jt_sCategory=(jt_oglrCategory?jt_oglrCategory.Get_LName():"");var jt_oglrGeoCity=this.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCity);var jt_sGeoCity=(jt_oglrGeoCity?jt_oglrGeoCity.Get_LName():"");var jt_oglrGeoState=this.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoState);var jt_sGeoState=(jt_oglrGeoState?jt_oglrGeoState.Get_LName():"");var jt_oglrGeoCountry=this.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCountry);var jt_sGeoCountry=(jt_oglrGeoCountry?jt_oglrGeoCountry.Get_LName():"");var jt_oglrGeoRegion=this.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoRegion);var jt_sGeoRegion=(jt_oglrGeoRegion?jt_oglrGeoRegion.Get_LName():"");var jt_oglrGeoArea=this.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoArea);var jt_sGeoArea=(jt_oglrGeoArea?jt_oglrGeoArea.Get_LName():"");var jt_oglrGeoTopArea=this.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoTopArea);if(!jt_sGeoArea)
{jt_sGeoArea=(jt_oglrGeoTopArea?jt_oglrGeoTopArea.Get_LName():"");}
var jt_TypEntity=this.Get_3xXEID().Get_TypEntity();var jt_o3xaznmc=this.Get_3xXEID().Get_3xAZNMC2();var jt_o3xcat=this.Get_3xXEID().Get_3xCat2();if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_Category||jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCity||jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoState||jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCountry||jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoRegion||jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoArea)
{jt_sCategory="";if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
{jt_sGeoCity="";jt_sGeoState="";jt_sGeoRegion="";jt_sGeoArea="";}
else if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoState)
{jt_sGeoCity="";jt_sGeoArea="";}}
if(this.jm_Single!=jg_oe.jc_oXUR.jc_XURTG_Single)
{var jt_squrDescr=jg_oe.Get_AppXUR().QUR_Get_Descr2(this.jm_QUR,this.jm_Single,this.Get_3xXEID());this.Set_XUDParams(jt_squrDescr,jt_sCategory,jt_sGeoCity,jt_sGeoState,jt_sGeoCountry,jt_sGeoRegion,jt_sGeoArea);jg_oe.CanLogInfo()&&jg_oe.LogInfo("sEnterpr="+jt_squrDescr,"","A3xaXur.BuildXUDParams");return true;}
this.Set_XUDParams(null,jt_sCategory,jt_sGeoCity,jt_sGeoState,jt_sGeoCountry,jt_sGeoRegion,jt_sGeoArea);jg_oe.CanLogInfo()&&jg_oe.LogInfo("sEnterpr="+"null","","A3xaXur.BuildXUDParams");return true;};this.Get_A3xaUrl=function(ji_bAjax,ji_bAppendDescrParam)
{var jr_oUrl=null;if(ji_bAjax)
{this.jm_FormName=jg_oe.jc_oXUR.jc_XURFN_AjaxEntity;var jt_sxur=this.Get_XURCC();jr_oUrl=new A3xaUrl(jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?","p3x="+jt_sxur);}
else
{var jt_sxur=this.Get_XURCC();jr_oUrl=new A3xaUrl(jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",(ji_bAppendDescrParam===true?"p3d="+this.Get_XUDString2("encode")+"&":"")+"p3x="+jt_sxur);}
if(!jt_sxur)
return jr_oUrl;return jr_oUrl;};this.Redirect=function()
{var jt_oUrl=this.Get_A3xaUrl(false,true);if(!jt_oUrl)
return false;return jt_oUrl.Redirect();};}
﻿"use strict";function A3xa2IAltKey()
{var jr_I={makeAltKeyAZNMC:function(ji_enty,ji_A,ji_Z,ji_N,ji_M,ji_C){return"";},makeAltKeyAZNMC_ByArray:function(ji_enty,ji_akey){return"";},makeAltKeyAZNMC_ByString:function(ji_enty,ji_skey){return"";},makeAltKeyAZNMC_ByXeid:function(ji_enty,ji_o3xxeid){return"";},makeAltKeyPS:function(ji_enty,ji_P,ji_S){return"";},makeAltKeyPS_ByArray:function(ji_enty,ji_akey){return"";},makeAltKeyPS_ByString:function(ji_enty,ji_skey){return"";},makeAltKeyPS_ByXeid:function(ji_enty,ji_o3xxeid){return"";},makeAltKeyUVcat:function(ji_enty,ji_U,ji_V){return"";},makeAltKeyUVcat_ByArray:function(ji_enty,ji_akey){return"";},makeAltKeyUVcat_ByString:function(ji_enty,ji_skey){return"";},makeAltKeyUVcat_ByXeid:function(ji_enty,ji_o3xxeid){return"";}};return jr_I;}
function A3xa2AltKey()
{var jr_o={ak:A3xa2IAltKey()};jr_o.ak.makeAltKeyAZNMC=function(ji_enty,ji_A,ji_Z,ji_N,ji_M,ji_C)
{if(ji_enty==jg_oe.jc_oEntity.jc_Typ_GeoTopArea)
{if(ji_A)
return(ji_enty+","+ji_A);}
else if(ji_enty==jg_oe.jc_oEntity.jc_Typ_GeoArea)
{if(ji_A&&ji_Z)
return(ji_enty+","+ji_A+","+ji_Z);}
else if(ji_enty==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
{if(ji_A&&ji_Z&&ji_N)
return(ji_enty+","+ji_A+","+ji_Z+","+ji_N);}
else if(ji_enty==jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion)
{if(ji_A&&ji_Z&&ji_N&&ji_M)
return(ji_enty+","+ji_A+","+ji_Z+","+ji_N+","+ji_M);}
else if(ji_enty==jg_oe.jc_oEntity.jc_Typ_GeoCity)
{if(ji_A&&ji_Z&&ji_N&&ji_C)
return(ji_enty+","+ji_A+","+ji_Z+","+ji_N+","+ji_C);}
return"";};jr_o.ak.makeAltKeyAZNMC_ByArray=function(ji_enty,ji_akey)
{if(ji_enty==jg_oe.jc_oEntity.jc_Typ_GeoCity&&ji_akey[4]&&!ji_akey[5])
{ji_akey[5]=ji_akey[4];ji_akey[4]="";}
return(ji_akey?jr_o.ak.makeAltKeyAZNMC(ji_enty,ji_akey[1],ji_akey[2],ji_akey[3],ji_akey[4],ji_akey[5]):"");};jr_o.ak.makeAltKeyAZNMC_ByString=function(ji_enty,ji_skey)
{return((ji_skey&&ji_skey.length)?jr_o.ak.makeAltKeyAZNMC_ByArray(ji_enty,ji_skey.split(",")):"");};jr_o.ak.makeAltKeyAZNMC_ByXeid=function(ji_enty,ji_o3xxeid)
{if(ji_o3xxeid)
ji_o3xxeid=ji_o3xxeid.Get_3xXEID();var jt_o3xaznmc=(ji_o3xxeid?ji_o3xxeid.Get_3xAZNMC2():null);if(!jt_o3xaznmc)
return"";return jr_o.ak.makeAltKeyAZNMC(ji_enty,jt_o3xaznmc.Get_A(),jt_o3xaznmc.Get_Z(),jt_o3xaznmc.Get_N(),jt_o3xaznmc.Get_M(),jt_o3xaznmc.Get_C());};jr_o.ak.makeAltKeyPS=function(ji_enty,ji_P,ji_S)
{if(ji_enty==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
{if(ji_P)
return(ji_enty+","+ji_P);}
else if(ji_enty==jg_oe.jc_oEntity.jc_Typ_GeoState)
{if(ji_P&&ji_S)
return(ji_enty+","+ji_P+","+ji_S);}
return"";};jr_o.ak.makeAltKeyPS_ByArray=function(ji_enty,ji_akey)
{return(ji_akey?jr_o.ak.makeAltKeyPS(ji_enty,ji_akey[1],ji_akey[2]):"");};jr_o.ak.makeAltKeyPS_ByString=function(ji_enty,ji_skey)
{return((ji_skey&&ji_skey.length)?jr_o.ak.makeAltKeyPS_ByArray(ji_enty,ji_skey.split(",")):"");};jr_o.ak.makeAltKeyPS_ByXeid=function(ji_enty,ji_o3xxeid)
{if(ji_o3xxeid)
ji_o3xxeid=ji_o3xxeid.Get_3xXEID();var jt_o3xps=(ji_o3xxeid?ji_o3xxeid.Get_3xPS2():null);if(!jt_o3xps)
return"";return jr_o.ak.makeAltKeyPS(ji_enty,jt_o3xps.Get_P(),jt_o3xps.Get_S());};jr_o.ak.makeAltKeyUVcat=function(ji_enty,ji_U,ji_V)
{if(ji_enty==jg_oe.jc_oEntity.jc_Typ_Category)
{if(ji_U&&ji_V)
return(ji_enty+","+ji_U+","+(ji_V||""));}
else if(ji_enty==jg_oe.jc_oEntity.jc_Typ_CategoryGroup)
{if(ji_U)
return(jg_oe.jc_oEntity.jc_Typ_Category+","+ji_U+","+"");}
return"";};jr_o.ak.makeAltKeyUVcat_ByArray=function(ji_enty,ji_akey)
{return(ji_akey?jr_o.ak.makeAltKeyUVcat(ji_enty,ji_akey[1],ji_akey[2]):"");};jr_o.ak.makeAltKeyUVcat_ByString=function(ji_enty,ji_skey)
{return((ji_skey&&ji_skey.length)?jr_o.ak.makeAltKeyUVcat_ByArray(ji_enty,ji_skey.split(",")):"");};jr_o.ak.makeAltKeyUVcat_ByXeid=function(ji_enty,ji_o3xxeid)
{if(ji_o3xxeid)
ji_o3xxeid=ji_o3xxeid.Get_3xXEID();var jt_o3xuv=(ji_o3xxeid?ji_o3xxeid.Get_3xCat2():null);if(!jt_o3xuv)
return"";return jr_o.ak.makeAltKeyUVcat(ji_enty,jt_o3xuv.Get_Ucat(),jt_o3xuv.Get_Vcat());};return jr_o;};function A3xa3IDataSourceCommon()
{var jr_I={I:function(){return null;},addTopAreas:function(ji_IArray_TopArea,ji_IArrayAX_TopArea){return false;},addAreas:function(ji_IArray_Area,ji_IArrayAX_Area){return false;},addRegions:function(ji_IArray_Region,ji_IArrayAX_Region){return false;},addMicroRegions:function(ji_IArray_MicroRegion,ji_IArrayAX_MicroRegion){return false;},addCities:function(ji_IArray_City,ji_IArrayAX_City){return false;},addCountries:function(ji_IArray_Country,ji_IArrayAX_Country){return false;},addStates:function(ji_IArray_States,ji_IArrayAX_States){return false;},addUcats:function(ji_IArray_Ucats,ji_IArrayAX_Ucats){return false;},addUVcats:function(ji_IArray_UVcats,ji_IArrayAX_UVcats){return false;},addTableTopAreas:function(){return false;},addTableAreas:function(){return false;},addTableRegions:function(){return false;},addTableMicroRegions:function(){return false;},addTableCities:function(){return false;},addTableCountries:function(){return false;},addTableStates:function(){return false;},addTableUcats:function(){return false;},addTableUVcats:function(){return false;},selectCommonTyp:function(ji_TypEntity){return false;},getSelectCommonTyp:function(){return null;}};return jr_I;}
function A3xa2DataSourceCommon()
{var jr_o={jm_Iar_IArrayCommon:A3xa3Array(),jm_TypEntity:"",jm_TypEntityStrength:0,ar:A3xa3IArray(),ds:A3xa3IDataSourceCommon(),};jr_o.ar.I=function(){return jr_o._IPool();};jr_o.ds.I=function(){return jr_o._IPool();};jr_o._IPool=function(){return{Iar:jr_o.ar,Ids:jr_o.ds};};jr_o.ds.addTopAreas=function(ji_IArray_TopArea,ji_IArrayAX_TopArea)
{if(jr_o.jm_TypEntityStrength<5)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_GeoTopArea;jr_o.jm_TypEntityStrength=5;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,{Typ:jg_oe.jc_oEntity.jc_Typ_GeoTopArea,ICommon:ji_IArray_TopArea,ICommonAX:ji_IArrayAX_TopArea});};jr_o.ds.addAreas=function(ji_IArray_Area,ji_IArrayAX_Area)
{if(jr_o.jm_TypEntityStrength<10)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_GeoArea;jr_o.jm_TypEntityStrength=10;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_GeoArea,{Typ:jg_oe.jc_oEntity.jc_Typ_GeoArea,ICommon:ji_IArray_Area,ICommonAX:ji_IArrayAX_Area});};jr_o.ds.addRegions=function(ji_IArray_Region,ji_IArrayAX_Region)
{if(jr_o.jm_TypEntityStrength<15)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_GeoRegion;jr_o.jm_TypEntityStrength=15;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_GeoRegion,{Typ:jg_oe.jc_oEntity.jc_Typ_GeoRegion,ICommon:ji_IArray_Region,ICommonAX:ji_IArrayAX_Region});};jr_o.ds.addMicroRegions=function(ji_IArray_MicroRegion,ji_IArrayAX_MicroRegion)
{if(jr_o.jm_TypEntityStrength<20)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion;jr_o.jm_TypEntityStrength=20;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion,{Typ:jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion,ICommon:ji_IArray_MicroRegion,ICommonAX:ji_IArrayAX_MicroRegion});};jr_o.ds.addCities=function(ji_IArray_City,ji_IArrayAX_City)
{if(jr_o.jm_TypEntityStrength<30)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_GeoCity;jr_o.jm_TypEntityStrength=30;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_GeoCity,{Typ:jg_oe.jc_oEntity.jc_Typ_GeoCity,ICommon:ji_IArray_City,ICommonAX:ji_IArrayAX_City});};jr_o.ds.addCountries=function(ji_IArray_Country,ji_IArrayAX_Country)
{if(jr_o.jm_TypEntityStrength<15)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_GeoCountry;jr_o.jm_TypEntityStrength=15;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_GeoCountry,{Typ:jg_oe.jc_oEntity.jc_Typ_GeoCountry,ICommon:ji_IArray_Country,ICommonAX:ji_IArrayAX_Country});};jr_o.ds.addStates=function(ji_IArray_State,ji_IArrayAX_State)
{if(jr_o.jm_TypEntityStrength<20)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_GeoState;jr_o.jm_TypEntityStrength=20;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_GeoState,{Typ:jg_oe.jc_oEntity.jc_Typ_GeoState,ICommon:ji_IArray_State,ICommonAX:ji_IArrayAX_State});};jr_o.ds.addUcats=function(ji_IArray_Ucats,ji_IArrayAX_Ucats)
{if(jr_o.jm_TypEntityStrength<50)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_CategoryGroup;jr_o.jm_TypEntityStrength=50;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_CategoryGroup,{Typ:jg_oe.jc_oEntity.jc_Typ_CategoryGroup,ICommon:ji_IArray_Ucats,ICommonAX:ji_IArrayAX_Ucats});};jr_o.ds.addUVcats=function(ji_IArray_UVcats,ji_IArrayAX_UVcats)
{if(jr_o.jm_TypEntityStrength<55)
{jr_o.jm_TypEntity=jg_oe.jc_oEntity.jc_Typ_Category;jr_o.jm_TypEntityStrength=55;}
return jr_o.jm_Iar_IArrayCommon.addItem(jg_oe.jc_oEntity.jc_Typ_Category,{Typ:jg_oe.jc_oEntity.jc_Typ_Category,ICommon:ji_IArray_UVcats,ICommonAX:ji_IArrayAX_UVcats});};jr_o.ds.addTableTopAreas=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoTopArea));if(!jt_ogldt)
return false;return jr_o.ds.addTopAreas(jt_ogldt.Get_IRecordset(),jt_ogldt.Get_IRecordsetAX());};jr_o.ds.addTableAreas=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoArea));if(!jt_ogldt)
return false;return jr_o.ds.addAreas(jt_ogldt.Get_IRecordset(),jt_ogldt.Get_IRecordsetAX());};jr_o.ds.addTableRegions=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoRegion));if(!jt_ogldt)
return false;return jr_o.ds.addRegions(jt_ogldt.Get_IRecordset(),jt_ogldt.Get_IRecordsetAX());};jr_o.ds.addTableMicroRegions=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoMicroRegion));if(!jt_ogldt)
return false;return jr_o.ds.addMicroRegions(jt_ogldt.Get_IRecordset(),jt_ogldt.Get_IRecordsetAX());};jr_o.ds.addTableCities=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCity));if(!jt_ogldt)
return false;return jr_o.ds.addCities(jt_ogldt.Get_IRecordset(),jt_ogldt.Get_IRecordsetAX());};jr_o.ds.addTableCountries=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCountry));if(!jt_ogldt)
return false;return jr_o.ds.addCountries(jt_ogldt.Get_IRecordset(),jt_ogldt.Get_IRecordsetAX());};jr_o.ds.addTableStates=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoState));if(!jt_ogldt)
return false;return jr_o.ds.addStates(jt_ogldt.Get_IRecordset(),jt_ogldt.Get_IRecordsetAX());};jr_o.ds.addTableUcats=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_Category));if(!jt_ogldt)
return false;var jt_fnU=function(ji_axkey,ji_oglr)
{var jt_o3xuv=(ji_oglr?ji_oglr.Get_3xXEID().Get_3xCat2():null);return((jt_o3xuv&&!jt_o3xuv.Get_Vcat())?1:0);};var jt_o3x2FilterUcatAX=A3xa3ArrayIt(jt_ogldt.Get_IRecordsetAX()).O();jt_o3x2FilterUcatAX.Get_I3x3().selectItems(jt_fnU);var jt_o3x2FilterUcat=A3xa3ArrayIt(jt_ogldt.Get_IRecordset()).O();jt_o3x2FilterUcat.Get_I3x3().selectItems(jt_fnU);return jr_o.ds.addUcats(jt_o3x2FilterUcat.ar,jt_o3x2FilterUcatAX.ar);};jr_o.ds.addTableUVcats=function()
{var jt_odb=jg_oApp.Get_Database();if(!jt_odb)
return false;var jt_ogldt=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_Category));if(!jt_ogldt)
return false;var jt_fnUV=function(ji_axkey,ji_oglr)
{var jt_o3xuv=(ji_oglr?ji_oglr.Get_3xXEID().Get_3xCat2():null);return((jt_o3xuv&&jt_o3xuv.Get_Vcat())?1:0);};var jt_o3x2FilterUVcatAX=A3xa3ArrayIt(jt_ogldt.Get_IRecordsetAX()).O();jt_o3x2FilterUVcatAX.Get_I3x3().selectItems(jt_fnUV);var jt_o3x2FilterUVcat=A3xa3ArrayIt(jt_ogldt.Get_IRecordset()).O();jt_o3x2FilterUVcat.Get_I3x3().selectItems(jt_fnUV);return jr_o.ds.addUVcats(jt_o3x2FilterUVcat.ar,jt_o3x2FilterUVcatAX.ar);};jr_o.ds.selectCommonTyp=function(ji_TypEntity)
{jr_o.jm_TypEntity=ji_TypEntity;jr_o.jm_TypEntityStrength=100;return true;};jr_o.ds.getSelectCommonTyp=function(){return jr_o.jm_TypEntity||null;}
jr_o._getCommonItem=function(ji_TypEntity,ji_keyAX)
{var jt_common=jr_o.jm_Iar_IArrayCommon.getItem(ji_TypEntity);if(!(jt_common&&jt_common.Typ==ji_TypEntity&&jt_common.ICommonAX))
return null;return jt_common.ICommonAX.getItem(ji_keyAX);};jr_o._getCommonKeyAX=function(ji_TypEntity,ji_index)
{var jt_common=jr_o.jm_Iar_IArrayCommon.getItem(ji_TypEntity);if(!(jt_common&&jt_common.Typ==ji_TypEntity&&jt_common.ICommonAX))
return null;return jt_common.ICommonAX.getKey(ji_index);};jr_o.ar.getCount=function()
{var jt_common=jr_o.jm_Iar_IArrayCommon.getItem(jr_o.jm_TypEntity);if(!(jt_common&&jt_common.Typ==jr_o.jm_TypEntity))
return 0;if(jt_common.ICommonAX)
return jt_common.ICommonAX.getCount();if(jt_common.ICommon)
return jt_common.ICommon.getCount();return 0;};jr_o.ar.getKey=function(ji_ix)
{if(!jr_o.ar.checkIndex(ji_ix))
return null;var jr_keyAX=jr_o._getCommonKeyAX(jr_o.jm_TypEntity,ji_ix);return jr_keyAX;};jr_o.ar.getItem=function(ji_keyAX)
{var jt_o3x2hak=A3xa2AltKey();var jr_xtdent={};if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoTopArea)
{jr_xtdent.keyAX_A=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,ji_keyAX);jr_xtdent.oglr_A=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,jr_xtdent.keyAX_A);}
else if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoArea)
{jr_xtdent.keyAX_A=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,ji_keyAX);jr_xtdent.oglr_A=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,jr_xtdent.keyAX_A);jr_xtdent.keyAX_Z=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoArea,ji_keyAX);jr_xtdent.oglr_Z=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoArea,jr_xtdent.keyAX_Z);}
else if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
{jr_xtdent.keyAX_A=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,ji_keyAX);jr_xtdent.oglr_A=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,jr_xtdent.keyAX_A);jr_xtdent.keyAX_Z=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoArea,ji_keyAX);jr_xtdent.oglr_Z=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoArea,jr_xtdent.keyAX_Z);jr_xtdent.keyAX_N=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoRegion,ji_keyAX);jr_xtdent.oglr_N=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoRegion,jr_xtdent.keyAX_N);}
else if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion)
{jr_xtdent.keyAX_A=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,ji_keyAX);jr_xtdent.oglr_A=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,jr_xtdent.keyAX_A);jr_xtdent.keyAX_Z=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoArea,ji_keyAX);jr_xtdent.oglr_Z=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoArea,jr_xtdent.keyAX_Z);jr_xtdent.keyAX_N=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoRegion,ji_keyAX);jr_xtdent.oglr_N=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoRegion,jr_xtdent.keyAX_N);jr_xtdent.keyAX_M=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion,ji_keyAX);jr_xtdent.oglr_M=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion,jr_xtdent.keyAX_M);}
else if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCity)
{jr_xtdent.keyAX_A=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,ji_keyAX);jr_xtdent.oglr_A=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoTopArea,jr_xtdent.keyAX_A);jr_xtdent.keyAX_Z=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoArea,ji_keyAX);jr_xtdent.oglr_Z=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoArea,jr_xtdent.keyAX_Z);jr_xtdent.keyAX_N=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoRegion,ji_keyAX);jr_xtdent.oglr_N=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoRegion,jr_xtdent.keyAX_N);jr_xtdent.keyAX_M=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion,ji_keyAX);jr_xtdent.oglr_M=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoMicroRegion,jr_xtdent.keyAX_M);jr_xtdent.keyAX_C=jt_o3x2hak.ak.makeAltKeyAZNMC_ByString(jg_oe.jc_oEntity.jc_Typ_GeoCity,ji_keyAX);jr_xtdent.oglr_C=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoCity,jr_xtdent.keyAX_C);}
else if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
{jr_xtdent.keyAX_P=jt_o3x2hak.ak.makeAltKeyPS_ByString(jg_oe.jc_oEntity.jc_Typ_GeoCountry,ji_keyAX);jr_xtdent.oglr_P=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoCountry,jr_xtdent.keyAX_P);}
else if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoState)
{jr_xtdent.keyAX_P=jt_o3x2hak.ak.makeAltKeyPS_ByString(jg_oe.jc_oEntity.jc_Typ_GeoCountry,ji_keyAX);jr_xtdent.oglr_P=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoCountry,jr_xtdent.keyAX_P);jr_xtdent.keyAX_S=jt_o3x2hak.ak.makeAltKeyPS_ByString(jg_oe.jc_oEntity.jc_Typ_GeoState,ji_keyAX);jr_xtdent.oglr_S=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_GeoState,jr_xtdent.keyAX_S);}
else if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_CategoryGroup)
{jr_xtdent.keyAX_U=jt_o3x2hak.ak.makeAltKeyUVcat_ByString(jg_oe.jc_oEntity.jc_Typ_CategoryGroup,ji_keyAX);jr_xtdent.oglr_U=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_CategoryGroup,jr_xtdent.keyAX_U);}
else if(jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_Category)
{jr_xtdent.keyAX_U=jt_o3x2hak.ak.makeAltKeyUVcat_ByString(jg_oe.jc_oEntity.jc_Typ_CategoryGroup,ji_keyAX);jr_xtdent.oglr_U=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_CategoryGroup,jr_xtdent.keyAX_U);jr_xtdent.keyAX_V=jt_o3x2hak.ak.makeAltKeyUVcat_ByString(jg_oe.jc_oEntity.jc_Typ_Category,ji_keyAX);jr_xtdent.oglr_V=jr_o._getCommonItem(jg_oe.jc_oEntity.jc_Typ_Category,jr_xtdent.keyAX_V);}
return jr_xtdent;};return jr_o;}
function A3xa2DataSourceFilter(ji_IArray_ds,ji_o3xxeidFilter)
{var jr_o=A3xa3ArrayIt(ji_IArray_ds).O();jr_o.jm_o3xxeidFilter=(ji_o3xxeidFilter?ji_o3xxeidFilter.Get_3xXEID():null);jr_o.jm_o3xaznmcFilter=(jr_o.jm_o3xxeidFilter?jr_o.jm_o3xxeidFilter.Get_3xAZNMC2():null);jr_o.jm_o3xpsFilter=(jr_o.jm_o3xxeidFilter?jr_o.jm_o3xxeidFilter.Get_3xPS2():null);var jt_IDataSourceCommon=((ji_IArray_ds&&ji_IArray_ds.I())?ji_IArray_ds.I().Ids:null);var jt_SelectTyp=(jt_IDataSourceCommon?jt_IDataSourceCommon.getSelectCommonTyp():null);if(jt_SelectTyp==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
{jr_o.Get_I3x3().selectItems(function(ji_k,ji_xtdent)
{var jt_oglr=(ji_xtdent?ji_xtdent.oglr_N:null);var jt_o3xaznmc_Current=(jt_oglr?jt_oglr.Get_3xXEID().Get_3xAZNMC2():null);if(!(jr_o.jm_o3xaznmcFilter&&jt_o3xaznmc_Current&&jr_o.jm_o3xaznmcFilter.Get_A()))
return 1;if(jr_o.jm_o3xaznmcFilter.Get_A()!=jt_o3xaznmc_Current.Get_A())
return 0;if(!jr_o.jm_o3xaznmcFilter.Get_Z())
return 1;if(jr_o.jm_o3xaznmcFilter.Get_Z()!=jt_o3xaznmc_Current.Get_Z())
return 0;return 1;});}
else if(jt_SelectTyp==jg_oe.jc_oEntity.jc_Typ_GeoCity)
{jr_o.Get_I3x3().selectItems(function(ji_k,ji_xtdent)
{var jt_oglr=(ji_xtdent?ji_xtdent.oglr_C:null);var jt_o3xaznmc_Current=(jt_oglr?jt_oglr.Get_3xXEID().Get_3xAZNMC2():null);if(!(jr_o.jm_o3xaznmcFilter&&jt_o3xaznmc_Current&&jr_o.jm_o3xaznmcFilter.Get_A()))
return 1;if(jr_o.jm_o3xaznmcFilter.Get_A()!=jt_o3xaznmc_Current.Get_A())
return 0;if(!jr_o.jm_o3xaznmcFilter.Get_Z())
return 1;if(jr_o.jm_o3xaznmcFilter.Get_Z()!=jt_o3xaznmc_Current.Get_Z())
return 0;if(!jr_o.jm_o3xaznmcFilter.Get_N())
return 1;if(jr_o.jm_o3xaznmcFilter.Get_N()!=jt_o3xaznmc_Current.Get_N())
return 0;return 1;});}
else if(jt_SelectTyp==jg_oe.jc_oEntity.jc_Typ_GeoState)
{jr_o.Get_I3x3().selectItems(function(ji_k,ji_xtdent)
{var jt_oglr=(ji_xtdent?ji_xtdent.oglr_S:null);var jt_o3xps_Current=(jt_oglr?jt_oglr.Get_3xXEID().Get_3xPS2():null);if(!(jr_o.jm_o3xpsFilter&&jt_o3xps_Current&&jr_o.jm_o3xpsFilter.Get_P()))
return 1;if(jr_o.jm_o3xpsFilter.Get_P()!=jt_o3xps_Current.Get_P())
return 0;return 1;});}
return jr_o;}
function A3xa3DataSourceCommonDescr(ji_IArray_dsCommon,ji_sep,ji_bChainAZDescr)
{var jr_o={jm_IArray_dsCommon:ji_IArray_dsCommon,jm_bChainAZDescr:(ji_bChainAZDescr===false?false:true),jm_sChainDescrSep:(ji_sep?ji_sep:" - "),jm_bChainName:true,ar:A3xa3IArray(),};jr_o.ar.I=function(){return jr_o._IPool();};jr_o._IPool=function(){return{Iar:jr_o.ar};};jr_o.ar.getCount=function(){return jr_o.jm_IArray_dsCommon.getCount();};jr_o.ar.getKey=function(ji_ix){return jr_o.jm_IArray_dsCommon.getKey(ji_ix);};jr_o.ar.getItem=function(ji_keyAX)
{var jr_sDescr="";var jt_xtdent=jr_o.jm_IArray_dsCommon.getItem(ji_keyAX);if(!jt_xtdent)
return"";if(jt_xtdent.oglr_A&&jt_xtdent.oglr_A.Get_3xEBIS())
jr_sDescr+=(jr_o.jm_bChainName?jt_xtdent.oglr_A.Get_3xEBIS().Get_Name():jt_xtdent.oglr_A.Get_3xEBIS().Get_Descr());if(jt_xtdent.oglr_Z&&jt_xtdent.oglr_Z.Get_3xEBIS())
jr_sDescr+=(jr_sDescr?jr_o.jm_sChainDescrSep:"")+
(jr_o.jm_bChainName?jt_xtdent.oglr_Z.Get_3xEBIS().Get_Name():jt_xtdent.oglr_Z.Get_3xEBIS().Get_Descr());if(jt_xtdent.oglr_N&&jt_xtdent.oglr_N.Get_3xEBIS())
jr_sDescr+=(jr_sDescr?jr_o.jm_sChainDescrSep:"")+
(jr_o.jm_bChainName?jt_xtdent.oglr_N.Get_3xEBIS().Get_Name():jt_xtdent.oglr_N.Get_3xEBIS().Get_Descr());if(jt_xtdent.oglr_M&&jt_xtdent.oglr_M.Get_3xEBIS())
jr_sDescr+=(jr_sDescr?jr_o.jm_sChainDescrSep:"")+
(jr_o.jm_bChainName?jt_xtdent.oglr_M.Get_3xEBIS().Get_Name():jt_xtdent.oglr_M.Get_3xEBIS().Get_Descr());if(jt_xtdent.oglr_C&&jt_xtdent.oglr_C.Get_3xEBIS())
jr_sDescr+=(jr_sDescr?jr_o.jm_sChainDescrSep:"")+
(jr_o.jm_bChainName?jt_xtdent.oglr_C.Get_3xEBIS().Get_Name():jt_xtdent.oglr_C.Get_3xEBIS().Get_Descr());if(jt_xtdent.oglr_P&&jt_xtdent.oglr_P.Get_3xEBIS())
jr_sDescr+=(jr_sDescr?jr_o.jm_sChainDescrSep:"")+
(jr_o.jm_bChainName?jt_xtdent.oglr_P.Get_3xEBIS().Get_Name():jt_xtdent.oglr_P.Get_3xEBIS().Get_Descr());if(jt_xtdent.oglr_S&&jt_xtdent.oglr_S.Get_3xEBIS())
jr_sDescr+=(jr_sDescr?jr_o.jm_sChainDescrSep:"")+
(jr_o.jm_bChainName?jt_xtdent.oglr_S.Get_3xEBIS().Get_Name():jt_xtdent.oglr_S.Get_3xEBIS().Get_Descr());if(jt_xtdent.oglr_U&&jt_xtdent.oglr_U.Get_3xEBIS())
jr_sDescr+=(jr_sDescr?jr_o.jm_sChainDescrSep:"")+
(jr_o.jm_bChainName?jt_xtdent.oglr_U.Get_3xEBIS().Get_Name():jt_xtdent.oglr_U.Get_3xEBIS().Get_Descr());if(jt_xtdent.oglr_V&&jt_xtdent.oglr_V.Get_3xEBIS())
{jr_sDescr+=(jr_sDescr?jr_o.jm_sChainDescrSep:"")+
(jr_o.jm_bChainName?jt_xtdent.oglr_V.Get_3xEBIS().Get_Name():jt_xtdent.oglr_V.Get_3xEBIS().Get_Descr());}
return jr_sDescr;};return jr_o.ar;}"use strict";function A3xaDefines_AppLogger()
{this.jc_asAppLogger=["App Logger","Apl Registrador","Apl Registrador","App Registratore"];this.jc_asUndefined=["???","???","???","???"];this.jc_ColorsBGHL=["80FF80","80FF80","C0FFC0"];}
function A3xaDDItemAppLogger(ji_sKey,ji_sValue,ji_asDescr)
{A3xaDDItem2.call(this,ji_sKey,ji_sValue,ji_asDescr);}
function A3xaAppLogger()
{var jt_this=this;this.jc_o3xdef=new A3xaDefines_AppLogger();this.jm_oddbox=null;this.jm_CurrentTextId=1;this.jm_ChildTextId=1;this.jm_bPrintHtml=false;this._A3xaAppLogger=function()
{this.jm_oddbox=new A3xaDDSelectBox(new A3xaDDItemAppLogger(1,1,this.jc_o3xdef.jc_asAppLogger),"AppLogger",this.jc_o3xdef.jc_asAppLogger);this.jm_oddbox.NewDDItem=function()
{return new A3xaDDItemAppLogger(jt_this.jm_CurrentTextId,jt_this.jm_CurrentTextId,jt_this.jc_o3xdef.jc_asUndefined);};this.jm_oddbox.OnChange=function(ji_eddbox,ji_oddi)
{var jt_sValue=ji_oddi.Get_Value();if(!jt_sValue)
return false;return true;};this.jm_oddbox.Set_ColorsBGHL(this.jc_o3xdef.jc_ColorsBGHL);return true;};this.ConfigDD=function()
{this.jm_bPrintHtml=false;this.jm_oddbox.jm_sKeySelected=null;this.jm_oddbox.jm_bVisibleGroupFocus=false;this.jm_oddbox.jm_bShowCount=false;return true;};this.PrintHtmlDD=function(qi_oParent)
{this.ConfigDD();if(!this.jm_oddbox.PrintHtml(qi_oParent))
return false;this.jm_bPrintHtml=true;{if(!this.RefreshHtmlDD())
return false;}
return true;};this.RefreshHtmlDD=function()
{if(this.jm_bPrintHtml)
{return this.jm_oddbox.Refresh();}
return false;};this.LoadDataDD=function()
{this.ConfigDD();return true;};this.Clear=function()
{this.jm_oddbox.ClearAllOptions();this.jm_CurrentTextId=1;this.jm_ChildTextId=1;return true;};this.Append2=function(ji_o3xsText,ji_bAsChild,ji_bClear)
{var jt_oddiRoot=this.jm_oddbox.jm_oddiRoot;if(!jt_oddiRoot)
return false;if(ji_bClear)
{this.Clear();if(!(ji_o3xsText&&ji_o3xsText.Get_LString()))
{this.RefreshHtmlDD();return true;}}
if(!(ji_o3xsText&&ji_o3xsText.Get_LString()))
ji_o3xsText=new A3xaString(["-","-","-","-"]);if(ji_bAsChild)
{var jt_id=this.jm_CurrentTextId-1;if(jt_id<1)
this.Append2(new A3xaString(["-","-","-","-"]),false,false);var jt_oddiParent=jt_oddiRoot.Get_Child(jt_id);if(!jt_oddiParent)
return false;var jt_oddiChild=new A3xaDDItemAppLogger(this.jm_ChildTextId,this.jm_ChildTextId,ji_o3xsText.Get_AString());this.jm_oddbox.Add_ChildAndHtml(jt_oddiParent,jt_oddiChild,!this.jm_bPrintHtml);this.jm_ChildTextId++;}
else
{this.jm_ChildTextId=1;var jt_oddi=new A3xaDDItemAppLogger(this.jm_CurrentTextId,this.jm_CurrentTextId,ji_o3xsText.Get_AString());this.jm_oddbox.jm_sKeySelected=this.jm_CurrentTextId;this.jm_oddbox.Add_ChildAndHtml(jt_oddiRoot,jt_oddi,!this.jm_bPrintHtml);this.jm_CurrentTextId++;}
return true;};this._A3xaAppLogger();}"use strict";function A3xaReporter()
{var jt_this=this;this.jm_oExecDevice=null;this.jm_oAjaxUrlParams=null;this.jm_bOnPageFooter=false;this.jm_bOnDataStored=false;this.jm_bOnDataRead=false;this.jm_oTimeoutReportToServer=null;this.jm_oTimerDelay=null;this.OnDataStored=function(ji_sGLHeader)
{this.jm_bOnDataStored=true;this.NotifyWrite();return true;};this.OnDataRead=function()
{this.jm_bOnDataRead=true;this.NotifyRead();return true;};this.OnPageFooterEnd=function()
{};this.NotifyWrite=function()
{var jt_this=this;jg_oe.CanLogInfo()&&jg_oe.LogInfo("Begin: ods,xdev,isry: "+
this.jm_bOnDataStored+","+(this.jm_oExecDevice?"y":"n")+","+jg_oe.IsReady(),"Flash","A3xaReporter_NotifyWrite");if(this.jm_bOnDataStored&&this.jm_oExecDevice&&jg_oe.IsReady()&&this.jm_oTimerDelay==null)
{this.jm_bOnDataStored=false;this.jm_oTimeoutReportToServer=null;var jt_FlashColor=null;if(jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_IDB).CheckLatestOp("WR"))
jt_FlashColor="FR";else if(jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_LS).CheckLatestOp("WR"))
jt_FlashColor="FR";else if(jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_SS).CheckLatestOp("WR"))
jt_FlashColor="FY";else if(jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_FLY).CheckLatestOp("WR"))
jt_FlashColor="FY";if(jt_FlashColor)
{this.jm_oExecDevice.FlashButton("Turbo",jt_FlashColor);}
return true;}
return false;};this.NotifyRead=function()
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Begin: odr,xdev,isry: "+
this.jm_bOnDataRead+","+(this.jm_oExecDevice?"y":"n")+","+jg_oe.IsReady(),"Flash","A3xaReporter_NotifyRead");if(this.jm_bOnDataRead&&this.jm_oExecDevice&&jg_oe.IsReady()&&this.jm_oTimerDelay==null)
{this.jm_bOnDataRead=false;var jt_FlashColor=null;if(jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_IDB).CheckLatestOp("RD"))
jt_FlashColor="FG";else if(jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_LS).CheckLatestOp("RD"))
jt_FlashColor="FG";else if(jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_SS).CheckLatestOp("RD"))
jt_FlashColor="FB";else if(jg_oe.Get_MgrStorage().Get_Storage(jg_oe.jc_oStorage.jc_FLY).CheckLatestOp("RD"))
jt_FlashColor="FB";if(jt_FlashColor)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Color: "+jt_FlashColor,"Flash","A3xaReporter_NotifyRead");this.jm_oExecDevice.FlashButton("Turbo",jt_FlashColor);}
return true;}
return false;};this.Set_ExecDevice=function(jt_oExecDevice)
{this.jm_oExecDevice=jt_oExecDevice;this.jm_oTimerDelay=setTimeout(function()
{jt_this.jm_oTimerDelay=null;jt_this.Notify();},100);return true;};this.Notify=function()
{this.NotifyWrite();this.NotifyRead();return true;};this.Get_ExecDevice=function(){return this.jm_oExecDevice;};}"use strict";function A3xaStorageManager()
{var jt_this=this;this.jm_StorageTypeDefault=null;this.jm_aoStorage=[];this._A3xaStorageManager=function()
{this.jm_StorageTypeDefault=jg_oe.jc_oStorage.jc_FLY;this.Set_Storage(new A3xaStorageFLY());this.Set_Storage(new A3xaStorageSS());this.Set_Storage(new A3xaStorageLS());this.Set_Storage(new A3xaStorageIDB());};this.jm_bStorageEnabled=false;this.IsReady=function(){return this.jm_bStorageEnabled;};this.EnableStorage=function(ji_fnReady)
{this.jm_bStorageEnabled=false;var jt_osFLY=this.Get_Storage(jg_oe.jc_oStorage.jc_FLY);jt_osFLY.Enable(jt_osFLY.Available()||false);if(jt_osFLY.IsEnabled())
jt_osFLY.Open();var jt_osSS=this.Get_Storage(jg_oe.jc_oStorage.jc_SS);jt_osSS.Enable(jt_osSS.Available()||false);if(jt_osSS.IsEnabled())
jt_osSS.Open();var jt_osLS=this.Get_Storage(jg_oe.jc_oStorage.jc_LS);jt_osLS.Enable(jt_osLS.Available()||false);if(jt_osLS.IsEnabled())
jt_osLS.Open();var jt_osIDB=this.Get_Storage(jg_oe.jc_oStorage.jc_IDB);if(jt_osIDB.IsOpening())
return true;if(jt_osIDB.IsOpen())
return this._OnEnableStorageDone(ji_fnReady);if(!jt_osIDB.Available())
return this._OnEnableStorageDone(ji_fnReady);jt_osIDB.Enable(true);if(!jt_osIDB.Open(jg_oe.Get_Database().jm_oDbSchema,function(ji_bSuccess,ji_bMessage)
{jt_this._OnEnableStorageDone(ji_fnReady);}))
return this._OnEnableStorageDone(ji_fnReady);return true;};this.jm_besd=false;this._OnEnableStorageDone=function(ji_fnReady)
{if(this.jm_besd)
return false;this.jm_besd=true;this.OnEnableStorageDone();this.jm_bStorageEnabled=true;if(ji_fnReady)
ji_fnReady(this.jm_bStorageEnabled);this.jm_besd=false;};this.OnEnableStorageDone=function(){return this.A3xaAbsEnvironment_OnEnableStorageDone();};this.A3xaAbsEnvironment_OnEnableStorageDone=function()
{var jt_osStatus=this.Get_StorageStatus();if(jt_osStatus.bSS)
{jg_oe.jm_o3x2Envars.ev.enable("SS",true);jg_oe.jm_o3x2Envars.ev.readv();}
var jt_bts=this.IsTurboON();if(!this.Set_TurboStatus(jt_bts)&&jt_bts)
this.Set_TurboStatus(false);return true;};this.jc_asTurboZero=["Turbo ON by IndexedDB","Turbo activo por IndexedDB","Turbo ativo com IndexedDB","Turbo ON con IndexedDB"];this.jc_asTurboBasic=["Turbo Limited by Local Storage (IndexedDB is NOT enabled on your browser)","Turbo Limitado por Local Storage (IndexedDB NO está activado en tu navegador)","Turbo Limitado por Local Storage (IndexedDB não está habilitado no seu browser)","Turbo Limitato con Local Storage (IndexedDB non è abilitato sul tuo browser"];this.jc_asTurboAuto=["Turbo Automatic by Session Storage","Turbo Automático limitado por Memoria-Sesión","Turbo Automático limitado por Memória-Sessão","Turbo Automatico con Session Storage"];this.jc_asTurboOff=["Turbo OFF (browser in Private Mode)","Turbo Apagado (navegador en modo privado y/o DOM-Storage apagado)","Turbo OFF (browser in Private Mode)","Turbo Spento (Browser in modo privato)"];this._EnvarTurboMode=function(ji_oTurboMode)
{if(ji_oTurboMode!=null)
jg_oe.jm_o3x2Envars.ev.setVar("TurboMode",ji_oTurboMode,true);return jg_oe.jm_o3x2Envars.ev.getVar("TurboMode");};this.Set_TurboStatus=function(ji_b)
{var jr_b=this._Set_TurboStatus(ji_b);return jr_b;}
this._Set_TurboStatus=function(ji_b)
{if(ji_b==null)
ji_b=true;var jt_osStatus=this.Get_StorageStatus();if(ji_b==true)
{if(jt_osStatus.bIDB)
{this.jm_StorageTypeDefault=jg_oe.jc_oStorage.jc_IDB;this._EnvarTurboMode({turbon:true,turbofull:true});return true;}
if(jt_osStatus.bLS)
{this.jm_StorageTypeDefault=jg_oe.jc_oStorage.jc_LS;this._EnvarTurboMode({turbon:true,turbofull:false});return true;}
return false;}
if(jt_osStatus.bSS)
{this.jm_StorageTypeDefault=jg_oe.jc_oStorage.jc_SS;this._EnvarTurboMode({turbon:false,turbofull:true});return true;}
this.jm_StorageTypeDefault=jg_oe.jc_oStorage.jc_FLY;this._EnvarTurboMode({turbon:false,turbofull:false});return true;};this.IsTurboON=function()
{var jt_otm=this._EnvarTurboMode();return(jt_otm?jt_otm.turbon||false:false);};this.IsTurboAvailable=function(ji_oTurboMode)
{var jt_osStatus=this.Get_StorageStatus();if(!ji_oTurboMode)
return jt_osStatus.bIDB||jt_osStatus.bLS;if(ji_oTurboMode.turbon&&ji_oTurboMode.turbofull)
return jt_osStatus.bIDB;else if(ji_oTurboMode.turbon&&!ji_oTurboMode.turbofull)
return jt_osStatus.bLS;else if(!ji_oTurboMode.turbon&&ji_oTurboMode.turbofull)
return jt_osStatus.bSS;return jt_osStatus.bFLY;};this.Get_3xsTurboDescr=function(ji_oTurboMode)
{if(!ji_oTurboMode)
ji_oTurboMode=this._EnvarTurboMode();if(ji_oTurboMode.turbofull==null)
{if(ji_oTurboMode.turbon)
ji_oTurboMode.turbofull=this.IsTurboAvailable({turbon:true,turbofull:true});else
ji_oTurboMode.turbofull=this.IsTurboAvailable({turbon:false,turbofull:true});}
if(ji_oTurboMode.turbon&&ji_oTurboMode.turbofull)
return new A3xaString(this.jc_asTurboZero);else if(ji_oTurboMode.turbon&&!ji_oTurboMode.turbofull)
return new A3xaString(this.jc_asTurboBasic);else if(!ji_oTurboMode.turbon&&ji_oTurboMode.turbofull)
return new A3xaString(this.jc_asTurboAuto);else if(!ji_oTurboMode.turbon&&!ji_oTurboMode.turbofull)
return new A3xaString(this.jc_asTurboOff);return new A3xaString(this.jc_asTurboOff);};this.Set_Storage=function(ji_oStorage)
{if(!ji_oStorage)
return false;this.jm_aoStorage[ji_oStorage.Get_Type()||0]=ji_oStorage;};this.Get_Storage=function(ji_Type)
{if(!this.jm_aoStorage)
return null;ji_Type=(ji_Type||0);if(ji_Type==jg_oe.jc_oStorage.jc_Default)
ji_Type=this.jm_StorageTypeDefault;return this.jm_aoStorage[ji_Type]||null;};this.ClearStorage=function()
{this.Get_Storage(jg_oe.jc_oStorage.jc_FLY).Clear();this.Get_Storage(jg_oe.jc_oStorage.jc_SS).Clear();this.Get_Storage(jg_oe.jc_oStorage.jc_LS).Clear();if(this.IsTurboON())
this.Get_Storage(jg_oe.jc_oStorage.jc_IDB).Clear();return true;};this.Get_StorageStatus=function()
{var jr_osStatus={bIDB:false,bLS:false,bSS:false,bFLY:false};var jt_osIDB=this.Get_Storage(jg_oe.jc_oStorage.jc_IDB);if(jt_osIDB.Available()&&jt_osIDB.IsEnabled()&&jt_osIDB.IsOpen())
jr_osStatus.bIDB=true;var jt_osLS=this.Get_Storage(jg_oe.jc_oStorage.jc_LS);if(jt_osLS.Available()&&jt_osLS.IsEnabled()&&jt_osLS.IsOpen())
jr_osStatus.bLS=true;var jt_osSS=this.Get_Storage(jg_oe.jc_oStorage.jc_SS);if(jt_osSS.Available()&&jt_osSS.IsEnabled()&&jt_osSS.IsOpen())
jr_osStatus.bSS=true;var jt_osFLY=this.Get_Storage(jg_oe.jc_oStorage.jc_FLY);if(jt_osFLY.Available()&&jt_osFLY.IsEnabled()&&jt_osFLY.IsOpen())
jr_osStatus.bFLY=true;return jr_osStatus;};this.IsStorageDefaultOpen=function()
{var jt_os1=this.Get_Storage(jg_oe.jc_oStorage.jc_FLY);if(!(jt_os1&&jt_os1.IsOpen()))
return false;if(this.jm_StorageTypeDefault==jg_oe.jc_oStorage.jc_FLY)
return true;var jt_os2=this.Get_Storage(jg_oe.jc_oStorage.jc_Default);if(!(jt_os2&&jt_os2.IsOpen()))
return false;return true;};this.IsStorageDefaultOpening=function()
{if(this.jm_StorageTypeDefault==jg_oe.jc_oStorage.jc_FLY)
return false;var jt_os2=jg_oe.Get_Storage(jg_oe.jc_oStorage.jc_Default);if(jt_os2&&jt_os2.IsOpening())
return true;return false;};this._A3xaStorageManager();}"use strict";function A3xa2IClock()
{var jr_I={clearError:function(){return false;},hasError:function(){return true;},isReset:function(){return true;},enableHost:function(){return false;},isHostConnected:function(){return false;},enquireHostAndReset:function(){return false;},getLocalDate:function(){return null;},getHostDate:function(){return null;},getHostDateTheoric:function(){return null;},_onTick:function(){return false;},_updateLocalDate:function(){return false;},_updateHostDate:function(){return false;}};return jr_I;}
function A3xa2Clock()
{var jr_o={jm_bHostEnabled:false,jm_tickSec:10,jm_oTimerTick:null,jm_tickCounter:0,jm_updDateSec:60,jm_toleranceSec:120,jm_bReset:true,jm_bHostConnected:false,jm_o3xLocalDate:null,jm_bLocalError:false,jm_o3xHostDate:null,jm_bHostError:false,jm_deltaLocalHostSec:0,ck:A3xa2IClock()};jr_o.ck.hasError=function(){return jr_o.jm_bLocalError||jr_o.jm_bHostError;};jr_o.ck.isReset=function(){return jr_o.jm_bReset;};jr_o.ck.isHostConnected=function(){return jr_o.jm_bHostConnected;};jr_o.ck.enableHost=function(ji_b){jr_o.jm_bHostEnabled=ji_b;return true;};jr_o.ck.clearError=function(ji_bDontCheck)
{if(!(ji_bDontCheck||jr_o.ck.isHostConnected()))
{return jr_o.ck.enquireHostAndReset();}
jr_o.jm_bLocalError=false;jr_o.jm_bHostError=false;jr_o.jm_deltaLocalHostSec=0;jr_o.jm_o3xLocalDate=null;jr_o.jm_o3xHostDate=null;jr_o.jm_bReset=true;return true;};jr_o.ck.enquireHostAndReset=function()
{if(!jr_o.jm_bHostEnabled)
{return false;}
$.ajax({method:"POST",timeout:10000,url:jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",data:{p3n:JSON.stringify({mark:"J3",oppg:"app_clock",optyp:"enqu",code:"",msg:"",par1:"",par2:""},function(ji_k,ji_v)
{return ji_v;})},success:function(ji_response)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo(ji_response,"","A3xa2Clock.enquireHostAndReset");var jt_oResponse=JSON.parse(ji_response,function(ji_k,ji_v)
{return ji_v;});if(jt_oResponse&&jt_oResponse.mark=="J3"&&jt_oResponse.oppg=="app_clock")
{if(jt_oResponse.result=="success")
{jr_o.jm_bHostConnected=true;if(jr_o.ck.hasError())
jr_o.ck.clearError(true);}
else
jr_o.jm_bHostConnected=false;}
else
jr_o.jm_bHostConnected=false;},error:function(ji_response)
{jr_o.jm_bHostConnected=false;}});return true;};jr_o.ck.getLocalDate=function()
{if(jr_o.jm_bLocalError||jr_o.jm_bReset)
return null;return jr_o.jm_o3xLocalDate;};jr_o.ck.getHostDate=function()
{if(jr_o.jm_bHostError||jr_o.jm_bReset)
return null;return jr_o.jm_o3xHostDate;};jr_o.ck.getHostDateTheoric=function(ji_o3xUserLocalDate)
{if(jr_o.jm_bLocalError||jr_o.jm_bHostError||jr_o.jm_bReset)
return null;var jt_sDTLocal=jr_o.jm_o3xLocalDate.Get_DateTime();var jt_sDTHost=jr_o.jm_o3xHostDate.Get_DateTime();if(!(jt_sDTLocal&&jt_sDTHost))
return null;if(ji_o3xUserLocalDate)
{jt_sDTLocal=ji_o3xUserLocalDate.Get_DateTime();if(!jt_sDTLocal)
return null;}
var jr_o3xHostDateTheoric=new A3xaDateTime();jr_o3xHostDateTheoric.Set_DateTime(jt_sDTLocal);jr_o3xHostDateTheoric.AddSeconds(jr_o.jm_deltaLocalHostSec);return jr_o3xHostDateTheoric;};jr_o.ck._onTick=function()
{jr_o.jm_tickCounter--;if(jr_o.jm_tickCounter<=0)
{jr_o.jm_tickCounter=(jr_o.jm_updDateSec/jr_o.jm_tickSec);jr_o.ck._updateLocalDate();jr_o.ck._updateHostDate();}
return true;};jr_o.ck._updateLocalDate=function()
{if(jr_o.jm_bLocalError)
return false;var jt_o3xLocalDate=new A3xaDateTime();jt_o3xLocalDate.Set_Now();var jt_deltaSeconds=jt_o3xLocalDate.DeltaSeconds(jr_o.jm_o3xLocalDate);jr_o.jm_o3xLocalDate=jt_o3xLocalDate;if(!jr_o.jm_bReset)
{var jt_errorSec=jt_deltaSeconds-jr_o.jm_tickSec;if(jt_errorSec>jr_o.jm_toleranceSec||jt_errorSec<-jr_o.jm_toleranceSec)
jr_o.jm_bLocalError=true;}
return true;};jr_o.ck._updateHostDate=function()
{if(jr_o.jm_bHostError)
return false;if(!jr_o.jm_bHostEnabled)
{return false;}
var jt_sDTLocal=jr_o.jm_o3xLocalDate.Get_DateTime();var jt_o3xHostDateTheoric=jr_o.ck.getHostDateTheoric();var jt_sDTHostTheoric=(jt_o3xHostDateTheoric?jt_o3xHostDateTheoric.Get_DateTime():"");$.ajax({method:"POST",timeout:10000,url:jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",data:{p3n:JSON.stringify({mark:"J3",oppg:"app_clock",optyp:"exec",code:"",msg:"",lt:jt_sDTLocal,htt:jt_sDTHostTheoric},function(ji_k,ji_v)
{return ji_v;})},success:function(ji_response)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo(ji_response,"","A3xa2Clock._updateHostDate");var jt_oResponse=JSON.parse(ji_response,function(ji_k,ji_v)
{return ji_v;});if(jt_oResponse&&jt_oResponse.mark=="J3"&&jt_oResponse.oppg=="app_clock")
{if(jt_oResponse.result=="success")
{jr_o.jm_o3xHostDate=new A3xaDateTime();if(jr_o.jm_o3xHostDate.Set_DateTime(jt_oResponse.ht))
{if(!(jr_o.jm_bLocalError||jr_o.jm_bHostError))
{jr_o.jm_deltaLocalHostSec=jr_o.jm_o3xHostDate.DeltaSeconds(jr_o.jm_o3xLocalDate);}}
else
jr_o.jm_bHostError=true;}
else
jr_o.jm_bHostError=true;}
else
jr_o.jm_bHostError=true;jr_o.jm_bReset=false;},error:function(ji_response)
{jr_o.jm_bHostConnected=false;jr_o.jm_bHostError=true;jr_o.jm_bReset=false;}});return true;};jr_o.ck._onTick();jr_o.jm_oTimerTick=setInterval(function(){jr_o.ck._onTick();},jr_o.jm_tickSec*1000);return jr_o;}"use strict";function A3xaDefines_XUR()
{this.jc_sUrlBase_A3xaFormDDAJOO="";this.jc_XURFN_AjaxEntity="XE";this.jc_XURFN_ListEntity="LE";this.jc_sAjaxTypFans="XEF";this.jc_sAjaxTypControlIcons="XCI";this.jc_sAjaxTypEntity="XEN";this.jc_sAjaxTypEntity2="XE2";this.jc_sAjaxTypEntitySet="XES";this.jc_AjaxOp_Write="AWR";this.jc_AjaxOp_WriteDelta="AWD";this.jc_AjaxOp_UpdateScoreDelta="ASD";this.jc_XURTG_Single="Y";this.jc_XURTG_Limited="L";this.jc_XURTG_Unlimited="N";this.jc_XURTG_Subsidiary="S";this.jc_XURTG_Master="M";this.jc_QUR_QuerySBS="S";this.jc_QUR_QuerySBT="T";this.jc_QUR_QuerySBC="C";this.jc_QUR_QuerySBA="A";this.jc_QUR_QuerySBL="L";this.jc_QUR_QueryNewEntity="N";this.jc_QUR_QueryEditEntity="E";this.jc_QUR_QueryViewEntity="V";this.jc_QUR_QueryDeleteEntity="D";this.jc_QUR_QueryUpdateEntity="U";}
function A3xaDefines_Urls()
{this.jc_surlFlickrset_avenidaazul="https://www.flickr.com/photos/avenidaazul/sets/";this.jc_surlFlickrgal_avenidaazul="https://www.flickr.com/photos/avenidaazul/galleries/";this.jc_surlAjaxFlickrset_avenidaazul="https://api.flickr.com/services/rest/?";this.Get_UrlAjaxFlickrset_Avenidaazul=function(ji_idPhotoset)
{return this.jc_surlAjaxFlickrset_avenidaazul+"&method=flickr.photosets.getPhotos"+"&api_key=90c266cc3eed3829f7d6b903d3316101"+"&media=photos"+"&photoset_id="+ji_idPhotoset+""+"&format=json"+"&jsoncallback=?";};this.Get_UrlAjaxFlickrset_PhotoInfo=function(ji_photoInfo,ji_sizetype)
{if(!ji_sizetype)
ji_sizetype="c";return"https://farm"+ji_photoInfo.farm+".staticflickr.com/"+
ji_photoInfo.server+"/"+ji_photoInfo.id+"_"+
ji_photoInfo.secret+"_"+ji_sizetype+".jpg";};this.jc_surlFlickrset_photo="https://www.flickr.com/photos/";this.Get_UrlAjaxFlickrset_Photo=function(ji_photosetInfo,ji_photoInfo)
{return this.jc_surlFlickrset_photo+ji_photosetInfo.owner+"/"+ji_photoInfo.id+"/";};this.jc_surlVideoYoutube="https://www.youtube.com/watch?v=";this.jc_surlVideoVimeo="https://www.vimeo.com/";this.jc_surlGoogleMap="https://www.google.com/maps?";this.jc_surlEmbedVideoYoutube="https://www.youtube.com/embed/";this.jc_surlEmbedVideoVimeo="https://player.vimeo.com/video/";this.jc_surlRelHomeDirDDAJOO_LA="?p3x=X3LE0000L0SA0E0M0A00000000000";this.jc_surlRelHomeDirDDAJOO_YB="?p3x=X3LE0000N0SA0E0M0AYB000000000";}
function A3xaAppXUR()
{var jt_this=this;this.jc_oXUR=null;this._A3xaAppXUR=function()
{};this.Set_DefXUR=function(jc_oXUR){this.jc_oXUR=jc_oXUR;return true;};this.Get_DefXUR=function(){return this.jc_oXUR;};this.jm_aPage=[];this.Set_Page=function(ji_sPage){this.jm_aPage=(ji_sPage?ji_sPage.split(","):[]);};this.Get_Page=function(ji_level)
{return((ji_level>=0&&this.jm_aPage&&this.jm_aPage[ji_level])?this.jm_aPage[ji_level]:"");};this.QUR_Get_Descr2=function(ji_sQUR,ji_Single,ji_o3xxeid)
{if(!(ji_sQUR&&ji_sQUR.length==1))
return null;if(ji_o3xxeid)
ji_o3xxeid=ji_o3xxeid.Get_3xXEID();var jt_te=null;var jt_A=null;var jt_Z=null;var jt_N=null;var jt_C=null;var jt_Ucat=null;var jt_Vcat=null;if(ji_o3xxeid)
{jt_te=ji_o3xxeid.Get_TypEntity();jt_A=ji_o3xxeid.Get_3xAZNMC2().Get_A();jt_Z=ji_o3xxeid.Get_3xAZNMC2().Get_Z();jt_N=ji_o3xxeid.Get_3xAZNMC2().Get_N();jt_C=ji_o3xxeid.Get_3xAZNMC2().Get_C();jt_Ucat=ji_o3xxeid.Get_3xCat2().Get_Ucat();jt_Vcat=ji_o3xxeid.Get_3xCat2().Get_Vcat();}
if((ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBS||ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBC||ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBA)&&(ji_Single==this.jc_oXUR.jc_XURTG_Limited||(ji_Single==this.jc_oXUR.jc_XURTG_Unlimited&&!jt_Ucat))&&jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise)
{if(ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBS||ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBA)
{if(!jt_A)
return(jt_A===null?"Gold-Top10":"Top10");if(!jt_N)
return"Silver-Top10";if(!jt_C)
return"Bronze-Top10";return"Iron-Top10";}
else if(ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBC)
{if(!jt_A)
return(jt_A===null?"Gold-Clicks":"Red-Gold-Clicks");if(!jt_N)
return"Silver-Clicks";if(!jt_C)
return"Bronze-Clicks";return"Iron-Clicks";}}
else if(ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBT&&(ji_Single==this.jc_oXUR.jc_XURTG_Limited||(ji_Single==this.jc_oXUR.jc_XURTG_Unlimited&&!jt_Ucat)))
{if(jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise)
return"Latest Enterprises";if(jt_te==jg_oe.jc_oEntity.jc_Typ_Category)
return"Latest Categories";if(jt_te==jg_oe.jc_oEntity.jc_Typ_Info)
return"Latest Topics";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoTopArea)
return"Latest TopAreas";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoArea)
return"Latest Areas";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
return"Latest Regions";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCity)
return"Latest Cities";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
return"Latest Countries";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoState)
return"Latest States";return"Latest Items";}
else if((ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBS||ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBT||ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBC||ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBA)&&ji_Single==this.jc_oXUR.jc_XURTG_Unlimited)
{if(!jt_te)
return"Items";if(jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise)
return"Enterprises";if(jt_te==jg_oe.jc_oEntity.jc_Typ_Category)
return"Categories";if(jt_te==jg_oe.jc_oEntity.jc_Typ_Info)
return"Topics";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoTopArea)
return"TopAreas";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoArea)
return"Areas";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
return"Regions";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCity)
return"Cities";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
return"Countries";if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoState)
return"States";return"Items";}
else if(ji_sQUR==this.jc_oXUR.jc_QUR_QuerySBL)
{return"Latest Click";}
else if(ji_Single==this.jc_oXUR.jc_XURTG_Single)
{if(ji_sQUR==this.jc_oXUR.jc_QUR_QueryNewEntity)
return"Nuevo";else if(ji_sQUR==this.jc_oXUR.jc_QUR_QueryEditEntity)
return"Modifica";else if(ji_sQUR==this.jc_oXUR.jc_QUR_QueryDeleteEntity)
return"Borra";else if(ji_sQUR==this.jc_oXUR.jc_QUR_QueryViewEntity)
return"Muestra";else if(ji_sQUR==this.jc_oXUR.jc_QUR_QueryUpdateEntity)
return"Update";}
return ji_sQUR+"_unknown";};this.jm_oxur=new A3xaXur();this.Get_3xXUR=function(){return this.jm_oxur;};this.Set_3xXUR=function(ji_oxur){this.jm_oxur=(ji_oxur||null);return true;};this.Set_XURString=function(ji_sxur)
{this.Set_3xXUR(new A3xaXur());this.Get_3xXUR().Set_XURString(ji_sxur);return true;};this.OnDataLoadedSetup=function()
{var jt_oxur=this.Get_3xXUR();jt_oxur.LinkMainData(jg_oApp.Get_Database());jt_oxur.LinkCommonData(jg_oApp.Get_Database(),true);return true;};this.UpdatePageTitle=function()
{if(!this.Get_3xXUR())
return false;this.Get_3xXUR().jm_TypAjaxResponse=null;if(this.Get_3xXUR().jm_FormName==jg_oe.jc_oXUR.jc_XURFN_AjaxEntity)
this.Get_3xXUR().jm_FormName=jg_oe.jc_oXUR.jc_XURFN_ListEntity;jg_oe.CanLogInfo()&&jg_oe.LogInfo("XUDString2()="+this.Get_3xXUR().Get_XUDString2(),"","A3xaAppXUR.UpdatePageTitle");jQuery(document).prop("title",this.Get_3xXUR().Get_XUDString2());var jt_o3xurl=this.Get_3xXUR().Get_A3xaUrl(false,true);if(jt_o3xurl)
jt_o3xurl.History_ReplaceState("",this.Get_3xXUR().Get_XUDString2());return true;};this.OnChange_QUR=function(ji_sUrlParams)
{if(!ji_sUrlParams)
return false;var jt_o3xXUR=new A3xaXur();jt_o3xXUR.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_ListEntity,null,jg_oe.jc_oXUR.jc_sAjaxTypEntitySet,null,null,null,null,ji_sUrlParams);var jt_bdt=false;var jt_I3tbid=A3xa3Tbid();var jt_glidtoc=jt_I3tbid.makeByXEID(jt_o3xXUR);var jt_oxeidXUR=jt_o3xXUR.Get_3xXEID();var jt_bEnterprise=(!jt_oxeidXUR.Get_TypEntity()||jt_oxeidXUR.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise);var jt_bSilver=jt_o3xXUR.IsSilver();var jt_bGold=jt_o3xXUR.IsGold();var jt_Ucat=jt_oxeidXUR.Get_3xCat2().Get_Ucat();var jt_Vcat=jt_oxeidXUR.Get_3xCat2().Get_Vcat();if(jt_I3tbid.isEnterprise())
{if(jt_Ucat&&(jt_bGold||jt_bSilver))
{}
else if(jt_glidtoc)
{var jt_pisdsRecord_glidtoc=jg_oApp.Get_Database().Get_TOCItem(jt_glidtoc);if(jt_pisdsRecord_glidtoc)
jt_bdt=true;}
else if(this.Get_3xXUR().Matches(jt_o3xXUR,true)&&jg_oApp.Get_Database().Get_DataTable())
jt_bdt=true;}
else if(jt_glidtoc&&jg_oApp.Get_Database().Get_DataTable(jt_glidtoc))
jt_bdt=true;jg_oApp.ClearView();if(!jt_bdt)
{jg_oApp.Get_DataManager(true);jg_oApp.Get_DataManager().ManageDataRequest(function(ji_bSuccess)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("begin"+"","","A3xaAppXUR.OnAjaxMainDone");if(ji_bSuccess)
{jt_this.AjaxStoreNewTables();}
return true;},jt_o3xXUR,false);return true;}
this.Set_3xXUR(jt_o3xXUR);jg_oApp.ResetApp();jg_oApp.Get_DataManager().LoadEnterprises();return true;};this.AjaxStoreNewTables=function()
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("begin=","","A3xaAppXUR.AjaxStoreNewTables");jg_oApp.ResetApp();jg_oApp.Get_Database().ClearArrayDTLoad({jp_bTyp_Gold:true,jp_bTyp_Silver:true,jp_bTyp_Main:true,jp_bTyp_Unique:true,jp_bTyp_Major:true,jp_bTyp_Subry:true});jg_oe.CanLogInfo()&&jg_oe.LogInfo("p2=","","A3xaAppXUR.AjaxStoreNewTables");jg_oApp.Get_DataManager().ManageNewAjaxData();jg_oe.CanLogInfo()&&jg_oe.LogInfo("end=","","A3xaAppXUR.AjaxStoreNewTables");return true;};this.OnChangeDD_QUR=function(ji_eDropDown)
{var jt_selIndex=ji_eDropDown.selectedIndex;var jt_selValue=ji_eDropDown.options[jt_selIndex].value.trim();if(jt_selValue)
{var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_ListEntity,null,null,null,null,null,null,jt_selValue);jt_oxur.LinkCommonData(jg_oe.Get_Database(),true);jt_oxur.Redirect();}
return true;};this._A3xaAppXUR();}"use strict";function A3xaAppMngIcons()
{var jt_this=this;this.jc_oIcons=null;this._A3xaAppMngIcons=function()
{};this.Set_DefIcons=function(jc_oIcons){this.jc_oIcons=jc_oIcons;return true;};this.Get_DefIcons=function(){return this.jc_oIcons;};this.MakeUrlIcon_Base=function(ji_sRelPath,ji_bExt)
{if(!ji_sRelPath)
return null;return jg_oe.jm_sDirIcons+ji_sRelPath+(ji_bExt===false?"":this.jc_oIcons.jc_sIconExt);};this.MakeUrlIcon_Main=function(ji_sName,ji_bExt)
{if(!ji_sName)
return null;return this.MakeUrlIcon_Base(this.jc_oIcons.jc_sIconUrlBase_Main+ji_sName,ji_bExt);};this.MakeUrlIcon_QUR=function(ji_sName,ji_bExt)
{if(!ji_sName)
return null;return this.MakeUrlIcon_Base(this.jc_oIcons.jc_sIconUrlBase_QUR+ji_sName,ji_bExt);};this.NewSprite=function(ji_absiconid,ji_SpriteId)
{if(!(ji_absiconid>0))
return null;if(!ji_SpriteId)
ji_SpriteId=A3xaMathFloor(ji_absiconid,this.jc_oIcons.jm_SpriteDivisor);if(!(ji_SpriteId>0))
return null;var jt_oSpriteInfo=this.jc_oIcons.jc_ao3xSprites.Get_Item(ji_SpriteId);if(!jt_oSpriteInfo)
return null;var jt_oUrlImgSprite=this.MakeUrlIcon_Base(jt_oSpriteInfo.path);if(!jt_oUrlImgSprite)
return null;var jt_IconId=(A3xaMathFloor(ji_absiconid%this.jc_oIcons.jm_SpriteDivisor)||null);if(!jt_IconId)
return null;var jr_o3xhIconInfo=new A3xaHtmIconInfo(jt_oUrlImgSprite,"",jt_IconId,jt_oSpriteInfo);jr_o3xhIconInfo.Set_ImageTransparent(this.MakeUrlIcon_Main(this.jc_oIcons.jc_sIcon_Transparent));jr_o3xhIconInfo.Set_Dim(24,24);jr_o3xhIconInfo.Set_UrlLink("",true);jr_o3xhIconInfo.Set_Title("Icon","ICO");jr_o3xhIconInfo.Set_Options(false,true);return jr_o3xhIconInfo;};this.Get_AbsidIconAdmin=function(ji_QUR,ji_bSubsidiary,ji_bEntityInfo)
{if(ji_QUR==jg_oe.jc_oXUR.jc_QUR_QueryNewEntity)
{if(ji_bSubsidiary)
return this.jc_oIcons.jc_oIconSS_NewSEntity.absid;return(ji_bEntityInfo?this.jc_oIcons.jc_oIconSS_NewEntityInfo.absid:this.jc_oIcons.jc_oIconSS_NewEntity.absid);}
if(ji_QUR==jg_oe.jc_oXUR.jc_QUR_QueryEditEntity)
return(ji_bEntityInfo?this.jc_oIcons.jc_oIconSS_EditEntityInfo.absid:this.jc_oIcons.jc_oIconSS_EditEntity.absid);if(ji_QUR==jg_oe.jc_oXUR.jc_QUR_QueryDeleteEntity)
return(ji_bEntityInfo?this.jc_oIcons.jc_oIconSS_DeleteEntityInfo.absid:this.jc_oIcons.jc_oIconSS_DeleteEntity.absid);return null;};this.Get_UrlIconQUR=function(ji_QUR,ji_Single,ji_Status)
{var jr_sUrlImg="";if(ji_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBS&&ji_Single==jg_oe.jc_oXUR.jc_XURTG_Limited)
jr_sUrlImg=this.MakeUrlIcon_QUR(this.jc_oIcons.jc_sIconPrefix_QTT+ji_Status);else if(ji_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBS&&ji_Single==jg_oe.jc_oXUR.jc_XURTG_Unlimited)
jr_sUrlImg=this.MakeUrlIcon_QUR(this.jc_oIcons.jc_sIconPrefix_QEN+ji_Status);else if(ji_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBT&&ji_Single==jg_oe.jc_oXUR.jc_XURTG_Unlimited)
jr_sUrlImg=this.MakeUrlIcon_QUR(this.jc_oIcons.jc_sIconPrefix_QEN+ji_Status);else if(ji_QUR==jg_oe.jc_oXUR.jc_QUR_QuerySBT&&ji_Single==jg_oe.jc_oXUR.jc_XURTG_Limited)
jr_sUrlImg=this.MakeUrlIcon_QUR(this.jc_oIcons.jc_sIconPrefix_QLE+ji_Status);return jr_sUrlImg;};this.Get_UrlImageMap=function(ji_sAZN)
{if(!ji_sAZN)
return null;return this.MakeUrlIcon_Base(this.jc_oIcons.jc_sIconUrlBase_IMap+"Map-"+ji_sAZN+"-200x150.jpg",false);};this._A3xaAppMngIcons();}"use strict";function A3xaSummaryInfoKey(ji_oxeid,ji_bCategory,ji_bSub,ji_bTop)
{this.jm_siXeid=null;this._MakeKeyLand=function(ji_oxeid,ji_bSub,ji_bTop)
{var jt_o3xaznmc=ji_oxeid.Get_3xXEID().Get_3xAZNMC();var jt_A=jt_o3xaznmc.Get_A();var jt_Z=jt_o3xaznmc.Get_Z();var jt_N=jt_o3xaznmc.Get_N();var jt_M=jt_o3xaznmc.Get_M();var jt_C=jt_o3xaznmc.Get_C();if(ji_bSub&&!ji_bTop)
{if(!jt_N)
return null;jt_C=null;}
else if(ji_bSub&&ji_bTop)
{if(!jt_C)
return null;}
else if(!ji_bSub&&!ji_bTop)
{if(!jt_Z)
return null;jt_N=null;jt_C=null;}
else
{if(!jt_A)
return null;jt_Z=null;jt_N=null;jt_C=null;}
var jr_siXeid=new A3xaXEID();jr_siXeid.Get_3xAZNMC2().Set_AZNMC(jt_A,jt_Z,jt_N,jt_M,jt_C);return jr_siXeid;};this._MakeKeyCategory=function(ji_oxeid,ji_bSub)
{var jt_o3xcat=ji_oxeid.Get_3xXEID().Get_3xCat();var jt_Ucat=jt_o3xcat.Get_Ucat();if(!jt_Ucat)
return null;var jt_Vcat=null;if(ji_bSub)
{jt_Vcat=jt_o3xcat.Get_Vcat();if(!jt_Vcat)
return null;}
var jr_siXeid=new A3xaXEID();jr_siXeid.Get_3xCat2().Set_Category(jt_Ucat,jt_Vcat);return jr_siXeid;};if(ji_oxeid)
{if(ji_bCategory)
this.jm_siXeid=this._MakeKeyCategory(ji_oxeid,ji_bSub,ji_bTop);else
this.jm_siXeid=this._MakeKeyLand(ji_oxeid,ji_bSub,ji_bTop);}}
function A3xaSummaryInfoItem(ji_oxe,ji_bCategory,ji_bSub,ji_bTop,ji_bSummary)
{A3xaSummaryInfoKey.call(this,ji_oxe,ji_bCategory,ji_bSub,ji_bTop);this.jm_siCountValue=0;this.jm_siCountRestricted=0;this.jm_siClicksValue=0;this.jm_siClicksRestricted=0;this.jm_siScoreValue=0;this.jm_siScoreRestricted=0;this.jm_siMaxClicksValue=0;this.jm_siMaxScoreValue=0;this.jm_bSummary=(ji_bSummary===false?false:true);this.Add=function(ji_o3xsii,ji_bRestricted)
{if(!ji_o3xsii)
return false;if(!ji_bRestricted)
this.AddTotal(ji_o3xsii);else
this.AddRestricted(ji_o3xsii);return true;};this.AddTotal=function(ji_o3xsii)
{this.jm_siCountValue+=Number(ji_o3xsii.jm_siCountValue);this.jm_siClicksValue+=Number(ji_o3xsii.jm_siClicksValue);this.jm_siScoreValue+=Number(ji_o3xsii.jm_siScoreValue);if(this.jm_siMaxClicksValue<Number(ji_o3xsii.jm_siMaxClicksValue))
this.jm_siMaxClicksValue=Number(ji_o3xsii.jm_siMaxClicksValue);if(this.jm_siMaxScoreValue<Number(ji_o3xsii.jm_siMaxScoreValue))
this.jm_siMaxScoreValue=Number(ji_o3xsii.jm_siMaxScoreValue);return true;};this.AddRestricted=function(ji_o3xsii)
{this.jm_siCountRestricted+=Number(ji_o3xsii.jm_siCountRestricted);this.jm_siClicksRestricted+=Number(ji_o3xsii.jm_siClicksRestricted);this.jm_siScoreRestricted+=Number(ji_o3xsii.jm_siScoreRestricted);return true;};this.ResetRestricted=function()
{this.jm_siCountRestricted=Number(0);this.jm_siClicksRestricted=Number(0);this.jm_siScoreRestricted=Number(0);return true;};if(ji_oxe)
{if(this.jm_bSummary)
{if(ji_oxe.Get_3xEBID())
{this.jm_siCountValue=Number(ji_oxe.Get_3xEBID().Get_Count());this.jm_siClicksValue=Number(ji_oxe.Get_3xEBID().Get_Clicks());this.jm_siScoreValue=Number(ji_oxe.Get_3xEBID().Get_Score());this.jm_siMaxClicksValue=Number(ji_oxe.Get_3xEBID().Get_MaxClicks());this.jm_siMaxScoreValue=Number(ji_oxe.Get_3xEBID().Get_MaxScore());}}
else
{this.jm_siCountValue=Number(1);this.jm_siCountRestricted=Number(1);var jt_o3xxeid=ji_oxe.Get_3xXEID();var jt_o3xebid=ji_oxe.Get_3xEBID();var jt_te="";var jt_ide="";if(jt_o3xxeid)
{jt_te=jt_o3xxeid.Get_TypEntity();jt_ide=jt_o3xxeid.Get_IdEntity();}
if(jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise)
{if(jt_o3xebid)
{this.jm_siClicksValue=Number(jt_o3xebid.Get_Clicks());this.jm_siScoreValue=Number(jt_o3xebid.Get_Score());this.jm_siMaxClicksValue=this.jm_siClicksValue;this.jm_siMaxScoreValue=this.jm_siScoreValue;}}}}}
function A3xaMgrSummary()
{var jt_this=this;this.jm_odtSummary=null;this.jm_odtRegional=null;this.jm_odtMain=null;this.jm_o3xSummaryByLandAll=null;this.jm_o3xSummaryByCatAll=null;this.jm_o3xaSummaryByTopArea=null;this.jm_o3xaSummaryByArea=null;this.jm_o3xaSummaryByRegion=null;this.jm_o3xaSummaryByCity=null;this.jm_o3xaSummaryByCatGroup=null;this.jm_o3xaSummaryByCat=null;this.Get_SummaryByTopArea=function(){return this.jm_o3xaSummaryByTopArea;};this.Get_SummaryByArea=function(){return this.jm_o3xaSummaryByArea;};this.Get_SummaryByRegion=function(){return this.jm_o3xaSummaryByRegion;};this.Get_SummaryByCity=function(){return this.jm_o3xaSummaryByCity;};this.Get_SummaryByCatGroup=function(){return this.jm_o3xaSummaryByCatGroup;};this.Get_SummaryByCat=function(){return this.jm_o3xaSummaryByCat;};this.Get_SummaryItemByLandAll=function(){return this.jm_o3xSummaryByLandAll;};this.Get_SummaryItemByCatAll=function(){return this.jm_o3xSummaryByCatAll;};this.Get_SummaryItemByTopArea=function(ji_oxeidKey)
{return this._Get_SummaryItem(this.jm_o3xaSummaryByTopArea,ji_oxeidKey,false,false,true);};this.Get_SummaryItemByArea=function(ji_oxeidKey)
{return this._Get_SummaryItem(this.jm_o3xaSummaryByArea,ji_oxeidKey,false,false);};this.Get_SummaryItemByRegion=function(ji_oxeidKey)
{return this._Get_SummaryItem(this.jm_o3xaSummaryByRegion,ji_oxeidKey,false,true);};this.Get_SummaryItemByCity=function(ji_oxeidKey)
{return this._Get_SummaryItem(this.jm_o3xaSummaryByCity,ji_oxeidKey,false,true,true);};this.Get_SummaryItemByCatGroup=function(ji_oxeidKey)
{return this._Get_SummaryItem(this.jm_o3xaSummaryByCatGroup,ji_oxeidKey,true,false);};this.Get_SummaryItemByCat=function(ji_oxeidKey)
{return this._Get_SummaryItem(this.jm_o3xaSummaryByCat,ji_oxeidKey,true,true);};this._Get_SummaryItem=function(ji_o3xaSummary,ji_oxeid,ji_bCategory,ji_bSub,ji_bTop)
{if(!ji_o3xaSummary)
{return null;}
var jt_sik=new A3xaSummaryInfoKey(ji_oxeid,ji_bCategory,ji_bSub,ji_bTop);if(!jt_sik.jm_siXeid)
return null;return ji_o3xaSummary.Get_Item(jt_sik.jm_siXeid.Get_String());};this.IsValid=function(){return this.jm_odtSummary?true:false;};this.OverrideAreaScore=function(ji_odb,ji_oxeid)
{if(!ji_odb)
return false;if(!this.IsValid())
return false;if(ji_oxeid)
ji_oxeid=ji_oxeid.Get_3xXEID();if(!ji_oxeid)
return false;var jt_te=ji_oxeid.Get_TypEntity();var jt_odt_Areas=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoArea));var jt_o3xait_Areas=null;if(jt_odt_Areas)
jt_o3xait_Areas=A3xa3ArrayIt(jt_odt_Areas.Get_IRecordset()).O();if(!jt_o3xait_Areas)
return false;jt_o3xait_Areas.Reset();while(!jt_o3xait_Areas.IsEOF())
{var jt_o3xe_Area=jt_o3xait_Areas.Get_CurrentItem();var jt_o3xebid=jt_o3xe_Area.Get_3xEBID();if(!jt_o3xebid)
{jt_o3xait_Areas.Next();continue;}
var jt_o3xsiiArea=this.Get_SummaryItemByArea(jt_o3xe_Area);var jt_clicks=0;var jt_score=0;if(jt_o3xsiiArea)
{jt_clicks=Number(jt_o3xsiiArea.jm_siClicksValue||0);jt_score=Number(jt_o3xsiiArea.jm_siScoreValue||0);}
jt_o3xebid.Set_Clicks(Number(jt_clicks));jt_o3xebid.Set_Score(Number(jt_score));jt_o3xait_Areas.Next();}
return true;};this.OverrideRegionScore=function(ji_odb,ji_oxeid)
{if(!ji_odb)
return false;if(!this.IsValid())
return false;if(ji_oxeid)
ji_oxeid=ji_oxeid.Get_3xXEID();if(!ji_oxeid)
return false;var jt_te=ji_oxeid.Get_TypEntity();var jt_odt_Regions=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoRegion));var jt_o3xait_Regions=null;if(jt_odt_Regions)
jt_o3xait_Regions=A3xa3ArrayIt(jt_odt_Regions.Get_IRecordset()).O();if(!jt_o3xait_Regions)
return false;jt_o3xait_Regions.Reset();while(!jt_o3xait_Regions.IsEOF())
{var jt_o3xe_Region=jt_o3xait_Regions.Get_CurrentItem();var jt_o3xebid=jt_o3xe_Region.Get_3xEBID();if(!jt_o3xebid)
{jt_o3xait_Regions.Next();continue;}
var jt_o3xsiiRegion=this.Get_SummaryItemByRegion(jt_o3xe_Region);var jt_clicks=0;var jt_score=0;if(jt_o3xsiiRegion)
{jt_clicks=Number(jt_o3xsiiRegion.jm_siClicksValue||0);jt_score=Number(jt_o3xsiiRegion.jm_siScoreValue||0);}
jt_o3xebid.Set_Clicks(Number(jt_clicks));jt_o3xebid.Set_Score(Number(jt_score));jt_o3xait_Regions.Next();}
return true;};this.OverrideCityScore=function(ji_odb,ji_oxeid)
{if(!ji_odb)
return false;if(!this.IsValid())
return false;if(ji_oxeid)
ji_oxeid=ji_oxeid.Get_3xXEID();if(!ji_oxeid)
return false;var jt_te=ji_oxeid.Get_TypEntity();if(!(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCity||jt_te==jg_oe.jc_oEntity.jc_Typ_Enterprise))
return false;var jt_o3xaznmcSelect=ji_oxeid.Get_3xAZNMC();var jt_Select_A=jt_o3xaznmcSelect.Get_A();var jt_Select_Z=jt_o3xaznmcSelect.Get_Z();var jt_Select_N=jt_o3xaznmcSelect.Get_N();var jt_odt_Cities=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCity));var jt_o3xait_Cities=null;if(jt_odt_Cities)
jt_o3xait_Cities=A3xa3ArrayIt(jt_odt_Cities.Get_IRecordset()).O();if(!jt_o3xait_Cities)
return false;jt_o3xait_Cities.Reset();while(!jt_o3xait_Cities.IsEOF())
{var jt_o3xe_City=jt_o3xait_Cities.Get_CurrentItem();var jt_o3xeid=jt_o3xe_City.Get_3xXEID();var jt_o3xebid=jt_o3xe_City.Get_3xEBID();if(!(jt_o3xeid&&jt_o3xebid))
{jt_o3xait_Cities.Next();continue;}
var jt_o3xaznmc=jt_o3xeid.Get_3xAZNMC();if((jt_Select_A&&jt_Select_A!=jt_o3xaznmc.Get_A())||(jt_Select_Z&&jt_Select_Z!=jt_o3xaznmc.Get_Z())||(jt_Select_N&&jt_Select_N!=jt_o3xaznmc.Get_N()))
{jt_o3xait_Cities.Next();continue;}
var jt_o3xsiiCity=this.Get_SummaryItemByCity(jt_o3xe_City);var jt_clicks=0;var jt_score=0;if(jt_o3xsiiCity)
{jt_clicks=Number(jt_o3xsiiCity.jm_siClicksValue||0);jt_score=Number(jt_o3xsiiCity.jm_siScoreValue||0);}
jt_o3xebid.Set_Clicks(Number(jt_clicks));jt_o3xebid.Set_Score(Number(jt_score));jt_o3xait_Cities.Next();}
return true;};this.OverrideCPScore=function(ji_odb,ji_oxeidXUR,ji_oxeCP)
{if(!ji_odb)
return false;if(!this.IsValid())
return false;if(ji_oxeidXUR)
ji_oxeidXUR=ji_oxeidXUR.Get_3xXEID();if(!ji_oxeidXUR)
return false;var jt_oxeidCP=null;var jt_o3xebidCP=null;if(ji_oxeCP)
{jt_oxeidCP=ji_oxeCP.Get_3xXEID();jt_o3xebidCP=ji_oxeCP.Get_3xEBID();}
if(!(jt_oxeidCP&&jt_oxeidCP&&jt_o3xebidCP))
return false;var jt_te=ji_oxeidXUR.Get_TypEntity();var jt_Select_A=ji_oxeidXUR.Get_3xAZNMC2().Get_A();var jt_Select_Z=ji_oxeidXUR.Get_3xAZNMC2().Get_Z();var jt_Select_N=ji_oxeidXUR.Get_3xAZNMC2().Get_N();var jt_Select_M=ji_oxeidXUR.Get_3xAZNMC2().Get_M();var jt_Select_C=ji_oxeidXUR.Get_3xAZNMC2().Get_C();var jt_Select_Ucat=ji_oxeidXUR.Get_3xCat2().Get_Ucat();var jt_Select_Vcat=ji_oxeidXUR.Get_3xCat2().Get_Vcat();var jt_bYB=New_A3xaAZNMC_XApp(ji_oxeidXUR).IsBestFromBabylon();var jt_bLA=New_A3xaAZNMC_XApp(ji_oxeidXUR).IsLA();var jt_o3xsiiCP=null;if(jt_bLA)
{jt_o3xsiiCP=this.Get_SummaryItemByArea(ji_oxeidXUR);}
else if(false&&jt_bYB)
{;}
else if(jt_Select_C)
{jt_o3xsiiCP=this.Get_SummaryItemByCity(ji_oxeidXUR);}
else if(jt_Select_N)
{jt_o3xsiiCP=this.Get_SummaryItemByRegion(ji_oxeidXUR);}
else if(jt_Select_Z)
{jt_o3xsiiCP=this.Get_SummaryItemByArea(ji_oxeidXUR);}
else if(jt_Select_A)
{jt_o3xsiiCP=this.Get_SummaryItemByTopArea(ji_oxeidXUR);}
else
{jt_o3xsiiCP=this.Get_SummaryItemByLandAll();}
var jt_clicks=0;var jt_score=0;if(jt_o3xsiiCP)
{jt_clicks=Number(jt_o3xsiiCP.jm_siClicksValue||0);jt_score=Number(jt_o3xsiiCP.jm_siScoreValue||0);}
jt_o3xebidCP.Set_Clicks(Number(jt_clicks));jt_o3xebidCP.Set_Score(Number(jt_score));return true;};this.MakeSummaryGlobalEnterprises=function(ji_odb,ji_oxeid)
{if(!ji_odb)
return false;if(ji_oxeid)
ji_oxeid=ji_oxeid.Get_3xXEID();if(!ji_oxeid)
return false;this.jm_odtSummary=ji_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_SummaryEnterprises));if(!this.jm_odtSummary)
return false;var jt_o3xaitDTSummary=this.jm_odtSummary.Get_IRecordsel().O();if(!jt_o3xaitDTSummary)
return false;jt_o3xaitDTSummary.Reset();var jt_Select_A=ji_oxeid.Get_3xAZNMC2().Get_A();var jt_Select_Z=ji_oxeid.Get_3xAZNMC2().Get_Z();var jt_Select_N=ji_oxeid.Get_3xAZNMC2().Get_N();var jt_Select_Ucat=ji_oxeid.Get_3xCat2().Get_Ucat();var jt_Select_Vcat=ji_oxeid.Get_3xCat2().Get_Vcat();if(ji_oxeid.Get_TypEntity()!=jg_oe.jc_oEntity.jc_Typ_Enterprise)
{jt_Select_Ucat=null;jt_Select_Vcat=null;}
this.jm_o3xSummaryByLandAll=new A3xaSummaryInfoItem();this.jm_o3xaSummaryByTopArea=A3xa3Array().O();this.jm_o3xaSummaryByArea=A3xa3Array().O();this.jm_o3xaSummaryByRegion=A3xa3Array().O();if(ji_oxeid.Get_TypEntity()!=jg_oe.jc_oEntity.jc_Typ_GeoCity)
this.jm_o3xaSummaryByCity=A3xa3Array().O();this.jm_o3xSummaryByCatAll=new A3xaSummaryInfoItem();this.jm_o3xaSummaryByCatGroup=A3xa3Array().O();this.jm_o3xaSummaryByCat=A3xa3Array().O();jt_o3xaitDTSummary.Get_I3x3().I().Iar.foreachItem(function(ji_o3xe,ji_ix,ji_key)
{var jt_o3xe=ji_o3xe;var jt_A=jt_o3xe.Get_3xXEID().Get_3xAZNMC().Get_A();var jt_Z=jt_o3xe.Get_3xXEID().Get_3xAZNMC().Get_Z();var jt_N=jt_o3xe.Get_3xXEID().Get_3xAZNMC().Get_N();var jt_Ucat=jt_o3xe.Get_3xXEID().Get_3xCat().Get_Ucat();var jt_Vcat=jt_o3xe.Get_3xXEID().Get_3xCat().Get_Vcat();if(!jt_Select_Ucat||(jt_Ucat==jt_Select_Ucat&&(!jt_Select_Vcat||(jt_Vcat==jt_Select_Vcat))))
{var jt_o3xsiiTopArea=new A3xaSummaryInfoItem(jt_o3xe,false,false,true);jt_this.jm_o3xSummaryByLandAll.Add(jt_o3xsiiTopArea);jt_this._AddSummaryItem(jt_this.jm_o3xaSummaryByTopArea,jt_o3xsiiTopArea);jt_this._AddSummaryItem(jt_this.jm_o3xaSummaryByArea,new A3xaSummaryInfoItem(jt_o3xe));if(jt_Select_Z)
jt_this._AddSummaryItem(jt_this.jm_o3xaSummaryByRegion,new A3xaSummaryInfoItem(jt_o3xe,false,true));}
if(!jt_Select_A||(jt_A==jt_Select_A&&(!jt_Select_Z||(jt_Z==jt_Select_Z&&(!jt_Select_N||(jt_N==jt_Select_N))))))
{var jt_o3xsiiCatGroup=new A3xaSummaryInfoItem(jt_o3xe,true);jt_this.jm_o3xSummaryByCatAll.Add(jt_o3xsiiCatGroup);jt_this._AddSummaryItem(jt_this.jm_o3xaSummaryByCatGroup,jt_o3xsiiCatGroup);jt_this._AddSummaryItem(jt_this.jm_o3xaSummaryByCat,new A3xaSummaryInfoItem(jt_o3xe,true,true));}
return true;});return true;};this.MakeSummaryCityEnterprises=function(ji_odb,ji_oxeid)
{if(!ji_odb)
return false;this.jm_odtMain=ji_odb.Get_DataTable();if(!this.IsValid())
return false;if(ji_oxeid)
ji_oxeid=ji_oxeid.Get_3xXEID();if(!ji_oxeid)
return false;if(!(ji_oxeid.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise&&ji_oxeid.Get_3xAZNMC2().Get_N()))
return false;var jt_o3xaitDTMain=null;if(this.jm_odtMain)
jt_o3xaitDTMain=A3xa3ArrayIt(this.jm_odtMain.Get_IRecordset()).O();if(!jt_o3xaitDTMain)
return false;jt_o3xaitDTMain.Reset();var jt_Select_Ucat=ji_oxeid.Get_3xCat2().Get_Ucat();var jt_Select_Vcat=ji_oxeid.Get_3xCat2().Get_Vcat();var jt_bSummaryMain=false;var jt_bRestricted=false;while(!jt_o3xaitDTMain.IsEOF())
{var jt_o3xeMain=jt_o3xaitDTMain.Get_CurrentItem();var jt_Ucat=jt_o3xeMain.Get_3xXEID().Get_3xCat2().Get_Ucat();var jt_Vcat=jt_o3xeMain.Get_3xXEID().Get_3xCat2().Get_Vcat();if(!jt_Select_Ucat||(jt_Ucat==jt_Select_Ucat&&(!jt_Select_Vcat||(jt_Vcat==jt_Select_Vcat))))
{var jt_o3xsiiCity=new A3xaSummaryInfoItem(jt_o3xeMain,false,true,true,jt_bSummaryMain);if(!jt_bRestricted)
jt_o3xsiiCity.ResetRestricted();this._AddSummaryItem(this.jm_o3xaSummaryByCity,jt_o3xsiiCity,jt_bRestricted);}
jt_o3xaitDTMain.Next();}
return true;};this.MakeSummaryMainEnterprises=function(ji_odb,ji_oxeid)
{if(!ji_odb)
return false;this.jm_odtMain=ji_odb.Get_DataTable();if(!this.IsValid())
return false;if(ji_oxeid)
ji_oxeid=ji_oxeid.Get_3xXEID();if(!ji_oxeid)
return false;var jr_b=false;if(!(ji_oxeid.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise))
return false;var jt_o3xaitDTMain=null;if(this.jm_odtMain)
jt_o3xaitDTMain=this.jm_odtMain.Get_IRecordsel().O();if(!jt_o3xaitDTMain)
return false;jt_o3xaitDTMain.Reset();var jt_bSummaryMain=false;var jt_bRestricted=true;while(!jt_o3xaitDTMain.IsEOF())
{var jt_o3xeMain=jt_o3xaitDTMain.Get_CurrentItem();var jt_o3xsiiTopArea=new A3xaSummaryInfoItem(jt_o3xeMain,false,false,true,jt_bSummaryMain);this.jm_o3xSummaryByLandAll.Add(jt_o3xsiiTopArea,jt_bRestricted);this._AddSummaryItem(this.jm_o3xaSummaryByTopArea,jt_o3xsiiTopArea,jt_bRestricted);this._AddSummaryItem(this.jm_o3xaSummaryByArea,new A3xaSummaryInfoItem(jt_o3xeMain,false,false,false,jt_bSummaryMain),jt_bRestricted);if(ji_oxeid.Get_3xAZNMC2().Get_Z())
this._AddSummaryItem(this.jm_o3xaSummaryByRegion,new A3xaSummaryInfoItem(jt_o3xeMain,false,true,false,jt_bSummaryMain),jt_bRestricted);if(ji_oxeid.Get_3xAZNMC2().Get_N())
{var jt_o3xsiiCity=new A3xaSummaryInfoItem(jt_o3xeMain,false,true,true,jt_bSummaryMain);this._AddSummaryItem(this.jm_o3xaSummaryByCity,jt_o3xsiiCity,jt_bRestricted);}
var jt_o3xsiiCatGroup=new A3xaSummaryInfoItem(jt_o3xeMain,true,false,false,jt_bSummaryMain)
this.jm_o3xSummaryByCatAll.Add(jt_o3xsiiCatGroup,jt_bRestricted);this._AddSummaryItem(this.jm_o3xaSummaryByCatGroup,jt_o3xsiiCatGroup,jt_bRestricted);this._AddSummaryItem(this.jm_o3xaSummaryByCat,new A3xaSummaryInfoItem(jt_o3xeMain,true,true,false,jt_bSummaryMain),jt_bRestricted);jt_o3xaitDTMain.Next();}
return true;};this._AddSummaryItem=function(ji_o3xaSummary,ji_o3xsii,ji_bRestricted)
{if(!(ji_o3xaSummary&&ji_o3xsii))
return false;if(!ji_o3xsii.jm_siXeid)
return false;var jt_skey=ji_o3xsii.jm_siXeid.Get_String();if(!jt_skey)
return false;var jt_o3xsiiSaved=ji_o3xaSummary.Get_Item(jt_skey);if(jt_o3xsiiSaved)
jt_o3xsiiSaved.Add(ji_o3xsii,ji_bRestricted);else if(!ji_bRestricted)
ji_o3xaSummary.Add_Item(jt_skey,ji_o3xsii);return true;};}"use strict";function A3xa2IScore()
{var jr_I={onClickEntity_WebsiteUrl:function(ji_keyEntity,ji_TypEntity,ji_IdEntity,ji_TypInfo,ji_IdInfo,ji_CodInfo){return false;},_getData:function(){return false;},_calcClicksPh:function(){return false;},_calcScoreWeight:function(){return false;},_commitToHost:function(){return false;},_updateScore:function(ji_ClickTimeNew,ji_ScoreWeightNew,ji_ClicksNew,ji_ScoreNew){return false;},};return jr_I;}
function A3xa2Score()
{var jr_o={jm_oxe:null,jm_oxeSummary:null,jm_oxeCP:null,jm_keyEntity:"",jm_TypEntity:"",jm_IdEntity:0,jm_TypInfo:"",jm_IdInfo:0,jm_CodInfo:"",jm_Clicks:0.0,jm_Score:0.0,jm_sClickTimeNew:"",jm_ClicksPhNew:0.0,jm_ScoreWeightNew:0.0,jm_ScoreWeightToAdd:0.0,jm_ScoreNew:0.0,sc:A3xa2IScore()};jr_o.sc.onClickEntity_WebsiteUrl=function(ji_keyEntity,ji_TypEntity,ji_IdEntity,ji_TypInfo,ji_IdInfo,ji_CodInfo)
{jr_o.jm_keyEntity=(ji_keyEntity?ji_keyEntity:"");jr_o.jm_TypEntity=(ji_TypEntity?ji_TypEntity:"");jr_o.jm_IdEntity=(ji_IdEntity?ji_IdEntity:0);jr_o.jm_TypInfo=(ji_TypInfo?ji_TypInfo:"");jr_o.jm_IdInfo=(ji_IdInfo?ji_IdInfo:0);jr_o.jm_CodInfo=(ji_CodInfo?ji_CodInfo:"");if(!jr_o.sc._getData())
return false;if(!jr_o.sc._calcClicksPh())
return false;if(!jr_o.sc._calcScoreWeight())
return false;if(!jr_o.sc._commitToHost2())
return false;return true;};jr_o.sc._getData=function()
{if(!(jr_o.jm_keyEntity&&jr_o.jm_TypEntity==jg_oe.jc_oEntity.jc_Typ_Enterprise))
return false;var jt_o3x2xehaCP=jg_oApp.Get_HtmlSetEntity().Get_3xEHACP();var jt_o3x2xeha=jg_oApp.Get_HtmlSetEntity().Get_3xEHA(jr_o.jm_keyEntity);jr_o.jm_oxeCP=jt_o3x2xehaCP.jm_o3xeh.Get_DataSource();jr_o.jm_oxe=jt_o3x2xeha.jm_o3xeh.Get_DataSource();if(!(jr_o.jm_oxe&&jr_o.jm_oxeCP))
return false;return true;};jr_o.sc._calcClicksPh=function()
{var jt_o3xClock=jg_oApp.Get_Clock();if(jt_o3xClock.ck.hasError())
return false;if(jt_o3xClock.ck.isReset())
return false;var jt_o3xdthnow=jt_o3xClock.ck.getHostDateTheoric();if(!jt_o3xdthnow)
return false;jr_o.jm_sClickTimeNew=jt_o3xdthnow.Get_DateTime();if(!jr_o.jm_sClickTimeNew)
return false;var jt_o3xebid=jr_o.jm_oxe.Get_3xEBID();var jt_sdthck=jt_o3xebid.Get_ClickTime();if(!jt_sdthck)
return true;var jt_o3xdthck=new A3xaDateTime();jt_o3xdthck.Set_DateTime(jt_sdthck);var jt_deltaSec=jt_o3xdthnow.DeltaSeconds(jt_o3xdthck);if(jt_deltaSec<-40)
return false;if(jt_deltaSec<=1)
jt_deltaSec=1;var jt_ClicksPh=Number(3600.0)/jt_deltaSec;if(jt_ClicksPh<0.00001)
jt_ClicksPh=0.0;jr_o.jm_ClicksPhNew=jt_ClicksPh;return true;};jr_o.sc._calcScoreWeight=function()
{var jt_o3xsiiGlobal=jg_oApp.Get_MgrSummary().Get_SummaryItemByLandAll();var jt_o3xebid=jr_o.jm_oxe.Get_3xEBID();if(!jt_o3xsiiGlobal)
return false;var jt_maxScore=Number(jt_o3xsiiGlobal.jm_siMaxScoreValue);if(jt_maxScore<1.0)
jt_maxScore=1.0;var jt_score=Number(jt_o3xebid.Get_Score());if(jt_score>jt_maxScore)
jt_score=jt_maxScore;var jt_scoreWeight=Number(jt_o3xebid.Get_ScoreWeight());var jt_scoreWeightMaxTheoric=jt_maxScore/10.0;var jt_scoreRelative=jt_score/jt_maxScore;var jt_scoreRelativeSqrt=Math.sqrt(jt_scoreRelative);jr_o.jm_Score=jt_score;var jt_maxClicks=Number(jt_o3xsiiGlobal.jm_siMaxClicksValue);var jt_clicks=Number(jt_o3xebid.Get_Clicks());if(jt_clicks>jt_maxClicks)
jt_clicks=jt_maxClicks;var jt_clicksRelative=jt_clicks/jt_maxClicks;if(jt_clicksRelative>1.0)
jt_clicksRelative=1.0;var jt_clicksRelativeSqrt=Math.sqrt(jt_clicksRelative);jr_o.jm_Clicks=jt_clicks;var jt_brake=1.0;if(jr_o.jm_ClicksPhNew>30.0)
jt_brake=0.0028;else if(jr_o.jm_ClicksPhNew>0.083)
jt_brake=0.083/jr_o.jm_ClicksPhNew;var jt_gear=1.0-0.90*jt_scoreRelativeSqrt;var jt_antispam=1.0;if(jt_maxClicks>0)
jt_antispam=1.0-0.90*jt_clicksRelativeSqrt;var jt_scoreWeightNewTheoric=jt_scoreWeightMaxTheoric*jt_gear*jt_brake*jt_antispam;if(jt_scoreWeightNewTheoric<0.01)
jt_scoreWeightNewTheoric=0.0;var jt_scoreWeightToAdd=(jt_scoreWeightNewTheoric+jt_scoreWeight)/2.0;var jt_scoreWeightNew=0.0;if(jt_scoreWeightNewTheoric>jt_scoreWeight)
jt_scoreWeightNew=jt_scoreWeightToAdd;else
jt_scoreWeightNew=jt_scoreWeightNewTheoric;jr_o.jm_ScoreWeightNew=jt_scoreWeightNew;jr_o.jm_ScoreWeightToAdd=jt_scoreWeightToAdd;jr_o.jm_ScoreNew=jr_o.jm_Score+jr_o.jm_ScoreWeightToAdd;return true;};jr_o.sc._commitToHost2=function()
{var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_AjaxEntity,null,jg_oe.jc_oXUR.jc_sAjaxTypEntity,jg_oe.jc_oXUR.jc_QUR_QueryUpdateEntity,jr_o.jm_oxe.Get_3xXEID().Get_String(),null,null,null);var jt_sxurcc=jt_oxur.Get_XURCC();var jt_einfo=""+jr_o.jm_TypEntity+","+jr_o.jm_IdEntity+","+
jr_o.jm_TypInfo+","+jr_o.jm_IdInfo+","+jr_o.jm_CodInfo;var jt_escore=""+jr_o.jm_TypEntity+","+jr_o.jm_IdEntity+","+
jr_o.jm_Clicks+","+jr_o.jm_Score+","+
jr_o.jm_sClickTimeNew+","+jr_o.jm_ClicksPhNew+","+
jr_o.jm_ScoreWeightNew+","+jr_o.jm_ScoreWeightToAdd+","+
(Number(jr_o.jm_Clicks)+1)+","+jr_o.jm_ScoreNew;var jt_sscore=""+0+","+0+",1"+",";$.ajax({method:"POST",timeout:10000,url:jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",data:{p3x:jt_sxurcc,p3n:JSON.stringify({mark:"J3",oppg:"app_score",optyp:"exec",code:"",msg:"",einfo:jt_einfo,escore:jt_escore,sscore:jt_sscore},function(ji_k,ji_v)
{return ji_v;})},success:function(ji_response)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo(ji_response,"","A3xa2Score._commitToHost2");var jt_oResponse=JSON.parse(ji_response,function(ji_k,ji_v)
{return ji_v;});if(jt_oResponse&&jt_oResponse.mark=="J3"&&jt_oResponse.oppg=="app_score")
{if(jt_oResponse.result=="success")
{jr_o.sc._updateScore(jt_oResponse.clicktimenew,jt_oResponse.scoreweightnew,jt_oResponse.clicksnew,jt_oResponse.scorenew);}}},error:function(ji_response)
{}});return true;};jr_o.sc._updateScore=function(ji_ClickTimeNew,ji_ScoreWeightNew,ji_ClicksNew,ji_ScoreNew)
{var jt_TypEntity=jr_o.jm_oxe.Get_3xXEID().Get_TypEntity();var jt_IdEntity=jr_o.jm_oxe.Get_3xXEID().Get_IdEntity();var jt_keyEntity=jr_o.jm_oxe.Get_3xXEID().Get_PrimaryKey();if(!(jt_TypEntity&&jt_IdEntity))
return false;var jt_o3x2xehaCP=jg_oApp.Get_HtmlSetEntity().Get_3xEHACP();var jt_o3x2xeha=jg_oApp.Get_HtmlSetEntity().Get_3xEHA(jt_keyEntity);var jt_oxeCP=jt_o3x2xehaCP.jm_o3xeh.Get_DataSource();var jt_oxe=jt_o3x2xeha.jm_o3xeh.Get_DataSource();if(!(jt_oxe&&jt_oxeCP))
return false;var jt_o3xebid=jt_oxe.Get_3xEBID();var jt_ClicksCur=Number(jt_o3xebid.Get_Clicks());var jt_ScoreCur=Number(jt_o3xebid.Get_Score());var jt_ClicksDelta=ji_ClicksNew-jt_ClicksCur;var jt_ScoreDelta=ji_ScoreNew-jt_ScoreCur;jt_o3xebid.Set_Clicks(ji_ClicksNew);jt_o3xebid.Set_Score(ji_ScoreNew);jt_o3xebid.Set_ClickTime(ji_ClickTimeNew);jt_o3xebid.Set_ScoreWeight(ji_ScoreWeightNew);jt_o3x2xeha.jm_o3xeh.UpdateScore();var jt_o3xebidCP=jt_oxeCP.Get_3xEBID();jt_o3xebidCP.Set_Clicks(Number(jt_o3xebidCP.Get_Clicks())+jt_ClicksDelta);jt_o3xebidCP.Set_Score(Number(jt_o3xebidCP.Get_Score())+jt_ScoreDelta);jt_o3x2xehaCP.jm_o3xeh.UpdateScore();var jt_odtSummary=jg_oApp.Get_Database().Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_SummaryEnterprises));var jt_oglrSummary=null;var jt_o3xebidSummary=null;if(jt_odtSummary)
jt_oglrSummary=jt_odtSummary.Get_3xDbEntityAX(New_A3xaXEID_XApp(jt_oxe).BuildAltKey(jg_oe.jc_oEntity.jc_Typ_Enterprise));if(jt_oglrSummary)
{jt_o3xebidSummary=jt_oglrSummary.Get_3xEBID();var jt_ClicksSummary=Number(jt_o3xebidSummary.Get_Clicks());var jt_ScoreSummary=Number(jt_o3xebidSummary.Get_Score());var jt_MaxClicksSummary=Number(jt_o3xebidSummary.Get_MaxClicks());var jt_MaxScoreSummary=Number(jt_o3xebidSummary.Get_MaxScore());jt_ClicksSummary+=jt_ClicksDelta;jt_ScoreSummary+=jt_ScoreDelta;jt_o3xebidSummary.Set_Clicks(jt_ClicksSummary);jt_o3xebidSummary.Set_Score(jt_ScoreSummary);if(jt_MaxClicksSummary<ji_ClicksNew)
jt_o3xebidSummary.Set_MaxClicks(ji_ClicksNew);if(jt_MaxScoreSummary<ji_ScoreNew)
jt_o3xebidSummary.Set_MaxScore(ji_ScoreNew);}
return true;};return jr_o;}
function A3xa2IMgrScore()
{var jr_I={onClickEntity_WebsiteUrl:function(ji_keyEntity,ji_TypEntity,ji_IdEntity,ji_TypInfo,ji_IdInfo,ji_CodInfo){return false;}};return jr_I;}
function A3xa2MgrScore()
{var jr_o={ms:A3xa2IMgrScore()};jr_o.ms.onClickEntity_WebsiteUrl=function(ji_keyEntity,ji_TypEntity,ji_IdEntity,ji_TypInfo,ji_IdInfo,ji_CodInfo)
{var jt_ao3x2Score=A3xa2Score();var jr_b=jt_ao3x2Score.sc.onClickEntity_WebsiteUrl(ji_keyEntity,ji_TypEntity,ji_IdEntity,ji_TypInfo,ji_IdInfo,ji_CodInfo);return jr_b;};return jr_o;}"use strict";function A3xaEnvironment()
{A3xaAbsEnvironment.call(this);this.Get_ECPMgr=function(){return null;};this.jm_o3xxeCP=null;this.Get_3xXEMSC_ByXUR=function(){return this.jm_o3xxeCP;};this.Set_3xXEMSC_ByXUR=function(ji_o3xxeCP){this.jm_o3xxeCP=ji_o3xxeCP;return true;};this.jm_oAppXUR=null;this.Get_AppXUR=function(){return this.jm_oAppXUR;};this.jm_oMgrStorage=null;this.jm_oAppMngIcons=null;this.Get_3xAppMngIcons=function(){return this.jm_oAppMngIcons;};this.Get_DefIcons=function(){return this.Get_3xAppMngIcons().Get_DefIcons();};this.jm_oPopupDim={w:400,h:300};this.Set_PopupDim=function(ji_oPopupDim)
{if(!ji_oPopupDim)return false;this.jm_oPopupDim=ji_oPopupDim;return true;};this.Get_PopupDim=function(){return this.jm_oPopupDim;};this.Set_PopupDimNarrowView=function(ji_IdNarrowView)
{if(ji_IdNarrowView==jg_oe.jc_oHtml.jc_Body_NormalWidthId)
this.Set_PopupDim(jg_oe.jc_oHtml.jc_PopupDim_Normal);else if(ji_IdNarrowView==jg_oe.jc_oHtml.jc_Body_SmallWidthId)
this.Set_PopupDim(jg_oe.jc_oHtml.jc_PopupDim_Small);else if(ji_IdNarrowView==jg_oe.jc_oHtml.jc_Body_MicroWidthId)
this.Set_PopupDim(jg_oe.jc_oHtml.jc_PopupDim_Micro);else
return false;return true;};this.Set_ItemsNarrowView=function(ji_IdNarrowView){return true;};this.jm_o3x2Clock=null;this.Get_Clock=function(){return this.jm_o3x2Clock;};this.jm_o3xDataManager=null;this.Get_DataManager=function(ji_bNew){return null;};this.jm_oMgrSummary=null;this.Get_MgrSummary=function(){return this.jm_oMgrSummary;};this.jm_o3x2MgrScore=null;this.Get_MgrScore=function(){return this.jm_o3x2MgrScore;};}"use strict";function A3xa2IEntity_HtmlBox_Clock()
{var jr_I={printHtml:function(qi_oCell,ji_Row,ji_Col){return false;},clearHtml:function(){return false;}};return jr_I;}
function A3xa2Entity_HtmlBox_Clock()
{var jr_o={jm_oTimerAppClock:null,hbck:A3xa2IEntity_HtmlBox_Clock()};jr_o.hbck.printHtml=function(qi_oCell,ji_Row,ji_Col)
{jr_o.jm_oTimerAppClock=null;var qt_oDivAppClock=jQuery("#AppClock");if(qt_oDivAppClock&&qt_oDivAppClock.length)
qt_oDivAppClock.remove();qt_oDivAppClock=jQuery("<div>");qt_oDivAppClock.attr("id","AppClock");qt_oDivAppClock.attr("title","Clock");qt_oDivAppClock.text("");qi_oCell.append(qt_oDivAppClock);jr_o.jm_oTimerAppClock=setInterval(function()
{var jt_o3xClock=jg_oApp.Get_Clock();var jt_serr=(jt_o3xClock.ck.hasError()?" e":jt_o3xClock.ck.isReset()?" r":" k");var jt_o3xdtl=jt_o3xClock.ck.getLocalDate();var jt_o3xdth=jt_o3xClock.ck.getHostDate();var jt_o3xdtht=jt_o3xClock.ck.getHostDateTheoric();var jt_sdtl=(jt_o3xdtl?jt_o3xdtl.Get_DateTime(jt_serr):jt_serr);var jt_sdth=(jt_o3xdth?jt_o3xdth.Get_DateTime():"");var jt_sdtht=(jt_o3xdtht?jt_o3xdtht.Get_DateTime():"");var qt_oDivAppClock=jQuery("#AppClock");if(qt_oDivAppClock&&qt_oDivAppClock.length)
{qt_oDivAppClock.html(jt_sdtl+"</br>"+jt_sdth+"</br>"+jt_sdtht);}
if(jt_o3xClock.ck.hasError())
jt_o3xClock.ck.clearError();},5000);return true;};jr_o.hbck.clearHtml=function()
{jr_o.jm_oTimerAppClock=null;var qt_oDivAppClock=jQuery("#AppClock");if(qt_oDivAppClock&&qt_oDivAppClock.length)
{qt_oDivAppClock.text("");qt_oDivAppClock.remove();}
return true;};return jr_o;}"use strict";function A3xaDefines_HtmlEntityEdit()
{this.jc_Dummy=1;}
function A3xaEntity_HtmlBoxEnv()
{this.jm_oxe=null;this.jm_o3xehf=null;this.jm_o3x2EditForm=null;this.DoEditForm=function(){return false;};this.jm_o3x2EditInfoForm=null;this.DoEditInfoForm=function(){return false;};this.jm_bNoShiftIdTag=false;}
function A3xaEntity_HtmlBox(ji_o3xehbenv)
{var jt_this=this;this.jm_o3xehbenv=ji_o3xehbenv;this.jm_bClean=true;this.jm_col=null;this.jm_ao3xehbox=null;this._A3xaEntity_HtmlBox=function()
{};this.AddChild=function(ji_o3xehbox,ji_col,ji_bCleanable)
{if(!ji_o3xehbox)
return false;ji_o3xehbox.jm_col=ji_col;ji_o3xehbox.jm_bClean=(ji_bCleanable===true);if(!this.jm_ao3xehbox)
this.jm_ao3xehbox=[];this.jm_ao3xehbox.push(ji_o3xehbox);return true;};this.Get_Child=function(ji_col)
{if(!(ji_col>0))
return null;if(this.jm_ao3xehbox)
{for(var i=0;i<this.jm_ao3xehbox.length;i++)
{if(this.jm_ao3xehbox[i].jm_col==ji_col)
return this.jm_ao3xehbox[i];}}
return null;};this.CountChildren=function(){return(this.jm_ao3xehbox?this.jm_ao3xehbox.length:0);};this.Set_DataSource=function(ji_oxe){this.jm_o3xehbenv.jm_oxe=ji_oxe;return true;};this.Get_DataSource=function()
{return(this.jm_o3xehbenv?this.jm_o3xehbenv.jm_oxe:null);};this.DoNotShiftIdTag=function()
{this.jm_o3xehbenv.jm_bNoShiftIdTag=true;return true;};this.ClearHtml=function(ji_bHeader)
{if(this.jm_bClean&&this.jm_col)
{var jt_oci=this._Get_CellInfo(this.jm_col);if(jt_oci&&ji_bHeader&&jt_oci.qm_oCellH&&jt_oci.qm_oCellH.length)
jt_oci.qm_oCellH.text("");else if(jt_oci&&(!ji_bHeader)&&jt_oci.qm_oCell&&jt_oci.qm_oCell.length)
jt_oci.qm_oCell.text("");}
if(this.jm_ao3xehbox)
{for(var i=0;i<this.jm_ao3xehbox.length;i++)
this.jm_ao3xehbox[i].ClearHtml(ji_bHeader);}
return true;};this.IsValid=function()
{if(!(this.jm_o3xehbenv.jm_oxe))
return false;if(!this.jm_o3xehbenv.jm_o3xehf)
return false;return true;};this._Get_CellInfo=function(ji_Col)
{if(!jt_this.jm_o3xehbenv.jm_o3xehf)
return null;var jr_oci={jm_Row:jt_this.jm_o3xehbenv.jm_o3xehf.jm_RowHF,jm_Col:ji_Col,jm_o3xehc:null,qm_oCellH:null,qm_oCell:null};if(!(jr_oci.jm_Row>=1))
return null;if(!(jr_oci.jm_Col>=1&&jr_oci.jm_Col<=jg_oe.jc_oHtml.jc_Col_Last))
return null;jr_oci.jm_o3xehc=jt_this.jm_o3xehbenv.jm_o3xehf.Get_Column(ji_Col);if(!jr_oci.jm_o3xehc)
return null;jr_oci.qm_oCellH=jr_oci.jm_o3xehc.Get_Elem(true);jr_oci.qm_oCell=jr_oci.jm_o3xehc.Get_Elem(false);if(!(jr_oci.qm_oCellH||jr_oci.qm_oCell))
return null;return jr_oci;};this.PrintHtml=function(ji_bHeader,ji_bLowPriority,ji_bOnDemand)
{return this._A3xaEntity_HtmlBox_PrintHtml(ji_bHeader,ji_bLowPriority,ji_bOnDemand);};this._A3xaEntity_HtmlBox_PrintHtml=function(ji_bHeader,ji_bLowPriority,ji_bOnDemand)
{var jt_oci=null;if(this.jm_col>0)
jt_oci=this._Get_CellInfo(this.jm_col);if(jt_oci)
{if(ji_bHeader)
{if(jt_oci.qm_oCellH&&jt_oci.qm_oCellH.length)
this.PrintHtml_BoxHeader(jt_oci.qm_oCellH,jt_oci.jm_Row,jt_oci.jm_Col);}
else if(!ji_bHeader&&!ji_bLowPriority)
{if(jt_oci.qm_oCell&&jt_oci.qm_oCell.length)
this.PrintHtml_BoxBody(jt_oci.qm_oCell,jt_oci.jm_Row,jt_oci.jm_Col);}
else if(!ji_bHeader&&ji_bLowPriority&&!ji_bOnDemand)
{if(jt_oci.qm_oCell&&jt_oci.qm_oCell.length)
this.PrintHtml_BoxBodyLopry(jt_oci.qm_oCell,jt_oci.jm_Row,jt_oci.jm_Col);}
else if(!ji_bHeader&&ji_bLowPriority&&ji_bOnDemand)
{if(jt_oci.qm_oCell&&jt_oci.qm_oCell.length)
this.PrintHtml_BoxBodyDemand(jt_oci.qm_oCell,jt_oci.jm_Row,jt_oci.jm_Col);}}
if(this.jm_ao3xehbox)
{for(var i=0;i<this.jm_ao3xehbox.length;i++)
{this.jm_ao3xehbox[i].PrintHtml(ji_bHeader,ji_bLowPriority,ji_bOnDemand);}}
return true;};this.Build=function(){return true;};this.PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col){return true;};this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col){return true;};this.PrintHtml_BoxBodyLopry=function(qi_oCell,ji_Row,ji_Col){return true;};this.PrintHtml_BoxBodyDemand=function(qi_oCell,ji_Row,ji_Col){return true;};this._A3xaEntity_HtmlBox();}
function A3xaEntity_HtmlBox_IdTag(ji_o3xehbenv)
{A3xaEntity_HtmlBox.call(this,ji_o3xehbenv);var jt_this=this;this._A3xaEntity_HtmlBox_IdTag=function()
{};this.PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;if(!this.jm_o3xehbenv.jm_bNoShiftIdTag&&ji_Row>0)
ji_Row--;if(ji_Row>0)
qi_oCell.append("<span style='' title='Position'>"+ji_Row+
(this.jm_o3xehbenv.jm_oxe.Get_3xXEID().IsGroupMajor()?"":"*")+"</span>");return true;};this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;this.PrintHtml_Score(qi_oCell,ji_Row,ji_Col);this.PrintHtml_Clicks(qi_oCell,ji_Row,ji_Col);this.PrintHtml_Likes(qi_oCell,ji_Row,ji_Col);this.PrintHtml_Date(qi_oCell,ji_Row,ji_Col);return true;};this.PrintHtml_BoxBodyLopry=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_BoxBodyDemand=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_Score=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_o3xxeid=this.jm_o3xehbenv.jm_oxe.Get_3xXEID();var jt_o3xebid=this.jm_o3xehbenv.jm_oxe.Get_3xEBID();var jt_te=(jt_o3xxeid?jt_o3xxeid.Get_TypEntity():"");var jt_ide=(jt_o3xxeid?jt_o3xxeid.Get_IdEntity():"");var jt_idscore="score_"+(jt_te?jt_te+"_"+jt_ide:"0_0");var jt_score=parseInt(jt_o3xebid.Get_Score(),10);var qi_oDivScore=jQuery("<div>");qi_oDivScore.attr("id",jt_idscore);qi_oDivScore.attr("title","Score");qi_oDivScore.text(jt_score);qi_oCell.append(qi_oDivScore);return true;};this.UpdateHtml_Score=function()
{if(!this.IsValid())
return false;var jt_o3xxeid=this.jm_o3xehbenv.jm_oxe.Get_3xXEID();var jt_o3xebid=this.jm_o3xehbenv.jm_oxe.Get_3xEBID();var jt_te=(jt_o3xxeid?jt_o3xxeid.Get_TypEntity():"");var jt_ide=(jt_o3xxeid?jt_o3xxeid.Get_IdEntity():"");var jt_idscore="score_"+(jt_te?jt_te+"_"+jt_ide:"0_0");var jt_score=parseInt(jt_o3xebid.Get_Score(),10);var qt_oScore=jQuery("#score_"+jt_te+"_"+jt_ide);if(qt_oScore&&qt_oScore.length)
{qt_oScore.html(jt_score);}
return true;};this.PrintHtml_Clicks=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_o3xxeid=this.jm_o3xehbenv.jm_oxe.Get_3xXEID();var jt_o3xebid=this.jm_o3xehbenv.jm_oxe.Get_3xEBID();var jt_te=(jt_o3xxeid?jt_o3xxeid.Get_TypEntity():"");var jt_ide=(jt_o3xxeid?jt_o3xxeid.Get_IdEntity():"");var jt_idclicks="clicks_"+(jt_te?jt_te+"_"+jt_ide:"0_0");var jt_clicks=jt_o3xebid.Get_Clicks();var qi_oDivClicks=jQuery("<div>");qi_oDivClicks.attr("id",jt_idclicks);qi_oDivClicks.attr("title","Clicks");qi_oDivClicks.text(jt_clicks);qi_oCell.append(qi_oDivClicks);return true;};this.UpdateHtml_Clicks=function()
{if(!this.IsValid())
return false;var jt_o3xxeid=this.jm_o3xehbenv.jm_oxe.Get_3xXEID();var jt_o3xebid=this.jm_o3xehbenv.jm_oxe.Get_3xEBID();var jt_te=(jt_o3xxeid?jt_o3xxeid.Get_TypEntity():"");var jt_ide=(jt_o3xxeid?jt_o3xxeid.Get_IdEntity():"");var jt_idclicks="clicks_"+(jt_te?jt_te+"_"+jt_ide:"0_0");var jt_clicks=jt_o3xebid.Get_Clicks();var qt_oCounter=jQuery("#clicks_"+jt_te+"_"+jt_ide);if(qt_oCounter&&qt_oCounter.length)
{qt_oCounter.html(jt_clicks);}
return true;};this.PrintHtml_Likes=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_oebid=this.jm_o3xehbenv.jm_oxe.Get_3xEBID();var qi_oDivLikes=jQuery("<div>");qi_oDivLikes.attr("id","likes_"+this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_TypEntity()+"_"+
this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_IdEntity());qi_oDivLikes.attr("title","Likes");qi_oCell.append(qi_oDivLikes);var qi_oSpanLikes=jQuery("<span>");qi_oSpanLikes.attr("name","fans");qi_oSpanLikes.text(jt_oebid?jt_oebid.Get_LikesTotal():"?");qi_oDivLikes.append(qi_oSpanLikes);return true;};this.PrintHtml_Date=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_o3xDate=new A3xaDateTime();jt_o3xDate.Set_DateTime(this.jm_o3xehbenv.jm_oxe.Get_3xEBIS().Get_Created());if(jt_o3xDate.IsValid())
{var qt_oDivDate=jQuery("<div>");qt_oDivDate.attr("id","edate_"+this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_TypEntity()+"_"+
this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_IdEntity());qt_oDivDate.attr("title","Entry Date");qt_oDivDate.text(jt_o3xDate.Get_Date());qi_oCell.append(qt_oDivDate);}
return true;};this._A3xaEntity_HtmlBox_IdTag();}
function A3xaEntity_HtmlBox_Land(ji_o3xehbenv)
{A3xaEntity_HtmlBox.call(this,ji_o3xehbenv);var jt_this=this;this._A3xaEntity_HtmlBox_Land=function()
{};this.PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col)
{return this._A3xaEntity_HtmlBox_Land_PrintHtml_BoxHeader(qi_oCell,ji_Row,ji_Col);};this._A3xaEntity_HtmlBox_Land_PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_oglmLand=new A3xaMgrLand();jt_oglmLand.PrintHtml_FlagGeoCountry(qi_oCell,this.jm_o3xehbenv.jm_oxe);return true;};this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{return this._A3xaEntity_HtmlBox_Land_PrintHtml_BoxBody(qi_oCell,ji_Row,ji_Col);};this._A3xaEntity_HtmlBox_Land_PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_oglmLand=new A3xaMgrLand();jt_oglmLand.PrintHtml_IconGeoCity(qi_oCell,this.jm_o3xehbenv.jm_oxe);var jt_ocpLand=new A3xaPanelLandIcons3(null,-1,ji_Row,ji_Col,true,jg_oe.jc_oHtml.jc_Col_Identity);jt_ocpLand.PrintHtml_Buttons(qi_oCell);jt_oglmLand.PrintHtml_IconMap(qi_oCell,this.jm_o3xehbenv.jm_oxe,ji_Row,ji_Col);return true;};this.PrintHtml_BoxBodyLopry=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_BoxBodyDemand=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_oglmLand=new A3xaMgrLand();jt_oglmLand.PrintHtml_FlagGeoRegion(qi_oCell,this.jm_o3xehbenv.jm_oxe,true);jt_oglmLand.PrintHtml_FlagGeoState(qi_oCell,this.jm_o3xehbenv.jm_oxe,true);return true;};this._A3xaEntity_HtmlBox_Land();}
function A3xaEntity_HtmlBox_CtrlInfo(ji_o3xehbenv)
{A3xaEntity_HtmlBox.call(this,ji_o3xehbenv);var jt_this=this;this._A3xaEntity_HtmlBox_CtrlInfo=function()
{};this.PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col)
{this.PrintHtml_GLMore(qi_oCell,ji_Row,ji_Col);this.PrintHtml_IconsViewBox(qi_oCell,ji_Row,ji_Col);this.PrintHtml_CategoryBox(qi_oCell,ji_Row,ji_Col);return true;};this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{this.PrintHtml_ControlIconsBox_Header(qi_oCell,ji_Row,ji_Col);this.PrintHtml_ControlIconsBox_Footer(qi_oCell,ji_Row,ji_Col);if(this.jm_o3xehbenv&&this.jm_o3xehbenv.jm_oxe&&this.jm_o3xehbenv.jm_oxe.Get_3xXEID()&&this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_Enterprise)
{this.PrintHtml_IconsAdminBox(qi_oCell,ji_Row,ji_Col);}
this.PrintHtml_InfoIconsBox(qi_oCell,ji_Row,ji_Col);return true;};this.PrintHtml_BoxBodyLopry=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_BoxBodyDemand=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_GLMore=function(qi_oCell,ji_Row,ji_Col)
{var jt_ociPanel=new A3xaPanelControlIcons(null,-1,ji_Row,ji_Col,true,true);var jt_oBtnGLMore=jt_ociPanel.Get_Button("GLMore");jt_oBtnGLMore.PrintHtml(qi_oCell);return true;};this.PrintHtml_IconsViewBox=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_ListEntity,null,null,jg_oe.jc_oXUR.jc_QUR_QueryViewEntity,this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_String(),jg_oe.jc_oXUR.jc_XURTG_Single,null,null);jt_oxur.LinkMainData(jg_oe.Get_Database());jt_oxur.LinkCommonData(jg_oe.Get_Database(),false);var jt_o3xxurxeid=jt_oxur.Get_3xXEID();if(jt_o3xxurxeid.IsGroupMinor())
jt_o3xxurxeid.Set_IdEntity(jt_o3xxurxeid.Get_IdGroup());var jt_te=jt_o3xxurxeid.Get_TypEntity();var jt_o3xaznmc=jt_o3xxurxeid.Get_3xAZNMC2();var jt_o3xcat=jt_o3xxurxeid.Get_3xCat2();var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xurl=jt_oxur.Get_A3xaUrl(false,true);var jt_o3xhici=jt_o3xmngic.NewSprite(jg_oe.jc_oIcons.jc_oIconSS_ViewEntity.absid);jt_o3xhici.Set_UrlLink(jt_o3xurl.Get_Url());jt_o3xhici.Set_Title(this.jm_o3xehbenv.jm_oxe.Get_LName(),jg_oe.Get_AppXUR().QUR_Get_Descr2(jg_oe.jc_oXUR.jc_QUR_QueryViewEntity,jg_oe.jc_oXUR.jc_XURTG_Single,jt_o3xxurxeid));jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);jt_ohButton.PrintHtml(qi_oCell);return true;};this.PrintHtml_CategoryBox=function(qi_oCell)
{if(!this.IsValid())
return false;var jt_oglmCat=new GLMgrCategory(jg_oe.Get_Database().Get_DataTable());jt_oglmCat.PrintHtml_Icon(qi_oCell,this.jm_o3xehbenv.jm_oxe);return true;};this.PrintHtml_ControlIconsBox_Header=function(qi_oCell,ji_Row,ji_Col)
{return this.PrintHtml_CtrlLikes(qi_oCell,ji_Row,ji_Col);};this.PrintHtml_CtrlLikes=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_bBtnLikes=true;if(jt_bBtnLikes)
{var jt_oAjaxUrlParams=null;var jt_sfn="";if(jg_oe.jm_bCanLike)
{jt_sfn="jg_oPanelControlIcons_Builder.OnClick";var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_AjaxEntity,null,jg_oe.jc_oXUR.jc_sAjaxTypControlIcons,null,this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_String(),null,null,null);jt_oAjaxUrlParams=jt_oxur.Get_A3xaUrl(true);jt_oAjaxUrlParams.Add_UrlParam2("p_TypRelation","F");jt_oAjaxUrlParams.Add_UrlParam2("p_Op","I");jt_oAjaxUrlParams.Add_UrlParam2("p_Rating","0");}
var jt_ohBtnLikes=new A3xaEntityButton2("Like",-1,ji_Row,ji_Col,null);var jt_o3xhici=jg_oe.Get_3xAppMngIcons().NewSprite(jg_oe.jc_oIcons.jc_oIconMS_Like.absid);jt_ohBtnLikes.Set_SrcInfo4(jt_o3xhici,["Like","Me gusta","Eu gosto","Mi piace"],"Like",jt_sfn,-1,jt_oAjaxUrlParams?jt_oAjaxUrlParams.Get_UrlParams():"");var qi_oDivLikes=jQuery("<div>");qi_oDivLikes.attr("id","btnlikes_"+this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_TypEntity()+"_"+
this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_IdEntity());qi_oCell.append(qi_oDivLikes);jt_ohBtnLikes.PrintHtml(qi_oDivLikes);}
return true;};this.PrintHtml_ControlIconsBox_Footer=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_InfoIconsBox=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_aTypInfo=new Array(jg_oe.jc_oEntityInfo.jc_TI_Website,jg_oe.jc_oEntityInfo.jc_TI_Facebook,jg_oe.jc_oEntityInfo.jc_TI_Person,jg_oe.jc_oEntityInfo.jc_TI_Gallery,jg_oe.jc_oEntityInfo.jc_TI_A3xaGallery,jg_oe.jc_oEntityInfo.jc_TI_Video,jg_oe.jc_oEntityInfo.jc_TI_Twitter,jg_oe.jc_oEntityInfo.jc_TI_GooglePlus,jg_oe.jc_oEntityInfo.jc_TI_Phone,jg_oe.jc_oEntityInfo.jc_TI_Skype,jg_oe.jc_oEntityInfo.jc_TI_Email,jg_oe.jc_oEntityInfo.jc_TI_Wiki,jg_oe.jc_oEntityInfo.jc_TI_WaterCloset);for(var i=0;i<jt_aTypInfo.length;i++)
{var jt_aoeifa=this.jm_o3xehbenv.jm_oxe.Get_3xEI().Get_Info(jt_aTypInfo[i],null);var jt_ogeiattr=new A3xaEntityInfo_Attributes(this.jm_o3xehbenv.jm_oxe.Get_LName(),true,ji_Row,ji_Col);jg_oe.CanLogInfo()&&jg_oe.LogInfo("typinfo==jt_aoeifa: "+jt_aTypInfo[i]+"=="+(jt_aoeifa?"OK":"null"),"","A3xaEntity_PrintHtml_InfoIconsBox");var jt_ogeiset=new A3xaEntityInfoSet(this.jm_o3xehbenv.jm_oxe,jt_aoeifa,jt_ogeiattr);jt_ogeiset.PrintHtml(qi_oCell);}
return true;};this.PrintHtml_IconsAdminBox=function(qi_oCell,ji_Row,ji_Col)
{var jr_b=true;if(!jg_oe.jm_bCanEdit)
return jr_b;if(!this.PrintHtml_IconAdmin(qi_oCell,ji_Row,ji_Col,jg_oe.jc_oXUR.jc_QUR_QueryNewEntity,true))
jr_b=false;if(!this.PrintHtml_IconAdmin(qi_oCell,ji_Row,ji_Col,jg_oe.jc_oXUR.jc_QUR_QueryEditEntity,false,function()
{jt_this.jm_o3xehbenv.DoEditForm({});return false;}))
jr_b=false;if(!this.PrintHtml_IconAdmin(qi_oCell,ji_Row,ji_Col,jg_oe.jc_oXUR.jc_QUR_QueryDeleteEntity,false))
jr_b=false;if(!this.PrintHtml_IconInfoAdmin(qi_oCell,ji_Row,ji_Col,jg_oe.jc_oXUR.jc_QUR_QueryNewEntity,null))
jr_b=false;if(!this.PrintHtml_IconInfoAdmin(qi_oCell,ji_Row,ji_Col,jg_oe.jc_oXUR.jc_QUR_QueryEditEntity,function()
{jt_this.jm_o3xehbenv.DoEditInfoForm({});return false;}))
jr_b=false;return jr_b;};this.PrintHtml_IconAdmin=function(qi_oCell,ji_Row,ji_Col,ji_QUR,ji_bSubsidiary,ji_fnClick)
{if(!this.IsValid())
return false;var jt_o3xxeid=this.jm_o3xehbenv.jm_oxe.Get_3xXEID();if(ji_QUR==jg_oe.jc_oXUR.jc_QUR_QueryNewEntity&&ji_bSubsidiary&&(!jt_o3xxeid.IsGroupMajor()))
return false;var jt_sHtmId=ji_QUR+jt_o3xxeid.Get_TypEntity()+jt_o3xxeid.Get_IdEntity();var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_absid=jt_o3xmngic.Get_AbsidIconAdmin(ji_QUR,ji_bSubsidiary,false);var jt_o3xhici=jt_o3xmngic.NewSprite(jt_absid);jt_o3xhici.Set_HtmId(jt_sHtmId);jt_o3xhici.Set_Dim(24,24);jt_o3xhici.Set_UrlLink("#");jt_o3xhici.Set_Title(this.jm_o3xehbenv.jm_oxe.Get_LName(),jg_oe.Get_AppXUR().QUR_Get_Descr2(ji_QUR,jg_oe.jc_oXUR.jc_XURTG_Single,jt_o3xxeid));jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);jt_ohButton.Set_EventClick(ji_fnClick);jt_ohButton.PrintHtml(qi_oCell);return true;};this.PrintHtml_IconInfoAdmin=function(qi_oCell,ji_Row,ji_Col,ji_QUR,ji_fnClick)
{if(!this.IsValid())
return false;var jt_o3xxeid=this.jm_o3xehbenv.jm_oxe.Get_3xXEID();var jt_sHtmId=ji_QUR+"I"+jt_o3xxeid.Get_TypEntity()+jt_o3xxeid.Get_IdEntity();var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_absid=jt_o3xmngic.Get_AbsidIconAdmin(ji_QUR,null,true);var jt_o3xhici=jt_o3xmngic.NewSprite(jt_absid);jt_o3xhici.Set_HtmId(jt_sHtmId);jt_o3xhici.Set_Dim(24,24);jt_o3xhici.Set_UrlLink("#");jt_o3xhici.Set_Title(this.jm_o3xehbenv.jm_oxe.Get_LName(),jg_oe.Get_AppXUR().QUR_Get_Descr2(ji_QUR,jg_oe.jc_oXUR.jc_XURTG_Single,jt_o3xxeid));jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);jt_ohButton.Set_EventClick(ji_fnClick);jt_ohButton.PrintHtml(qi_oCell);return true;};this._A3xaEntity_HtmlBox_CtrlInfo();}
function A3xaEntity_HtmlBox_Identity(ji_o3xehbenv)
{A3xaEntity_HtmlBox.call(this,ji_o3xehbenv);var jt_this=this;this._A3xaEntity_HtmlBox_Identity=function()
{};this.PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var qt_oParent=qi_oCell;var jt_sName=(this.jm_o3xehbenv.jm_oxe.Get_LName()||"Website");var jt_xTypEntity=this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_TypEntity();var jt_xIdEntity=this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_IdEntity();var jt_key=this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_PrimaryKey();var jt_oUrlWebsite=new A3xaUrl(this.jm_o3xehbenv.jm_oxe.Get_3xEBIS().Get_Website(),null);var jt_sUrlWebsite=jt_oUrlWebsite.Get_Url();if(jt_sUrlWebsite)
{var qt_oWebsite=jQuery("<a>",{href:jt_sUrlWebsite,title:jt_sName,target:"_blank"});if(qt_oWebsite&&qt_oWebsite.length)
{qt_oParent.append(qt_oWebsite);qt_oWebsite.click(function()
{return jg_oApp.OnClickEntity_WebsiteUrl(jt_key,jt_xTypEntity,jt_xIdEntity,"",0,"");});qt_oParent=null;qt_oParent=qt_oWebsite;}}
qt_oParent.append("<span style='color: #8080F0; text-shadow: 1px 1px 0px #000000;'>"+"<strong>"+jt_sName+"</strong></span>");return true;};this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_BoxBodyLopry=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_oglrCategory=this.jm_o3xehbenv.jm_oxe.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);var jt_oglrGeoArea=this.jm_o3xehbenv.jm_oxe.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoArea);var jt_oglrGeoRegion=this.jm_o3xehbenv.jm_oxe.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoRegion);var jt_sUrlWebsite="";if(!jt_sUrlWebsite&&this.jm_o3xehbenv.jm_oxe)
jt_sUrlWebsite=this.jm_o3xehbenv.jm_oxe.Get_3xEBIS().Get_Website();if(!jt_sUrlWebsite&&jt_oglrGeoRegion)
jt_sUrlWebsite=jt_oglrGeoRegion.Get_3xEBIS().Get_Website();if(!jt_sUrlWebsite&&jt_oglrGeoArea)
jt_sUrlWebsite=jt_oglrGeoArea.Get_3xEBIS().Get_Website();var qt_oParent=qi_oCell;var jt_xTypEntity=this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_TypEntity();var jt_xIdEntity=this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_IdEntity();var jt_key=this.jm_o3xehbenv.jm_oxe.Get_3xXEID().Get_PrimaryKey();if(jt_sUrlWebsite)
{var qt_oWebsite=jQuery("<a>",{href:jt_sUrlWebsite,title:"Website",target:"_blank"});if(qt_oWebsite&&qt_oWebsite.length)
{qt_oParent.append(qt_oWebsite);qt_oWebsite.click(function()
{return jg_oApp.OnClickEntity_WebsiteUrl(jt_key,jt_xTypEntity,jt_xIdEntity,jg_oe.jc_oEntityInfo.jc_TI_Image,0,"");});qt_oParent=null;qt_oParent=qt_oWebsite;}}
var jt_ogeiattrCommon=new A3xaEntityInfo_Attributes(this.jm_o3xehbenv.jm_oxe.Get_LName(),true,ji_Row,ji_Col);var jt_aoeifaMain=this.jm_o3xehbenv.jm_oxe.Get_3xEI().Get_Info(jg_oe.jc_oEntityInfo.jc_TI_Image,null);var jt_ogeiset=new A3xaEntityInfoSet(this.jm_o3xehbenv.jm_oxe,jt_aoeifaMain,jt_ogeiattrCommon);jt_ogeiset.PrintHtml(qt_oParent);if(jt_oglrGeoRegion)
{var jt_aoeifaGeoRegion=jt_oglrGeoRegion.Get_3xEI().Get_Info(jg_oe.jc_oEntityInfo.jc_TI_Image,null);var jt_ogeisetGeoRegion=new A3xaEntityInfoSet(jt_oglrGeoRegion,jt_aoeifaGeoRegion,jt_ogeiattrCommon);jt_ogeisetGeoRegion.PrintHtml(qt_oParent);}
if(jt_oglrGeoArea)
{var jt_aoeifaGeoArea=jt_oglrGeoArea.Get_3xEI().Get_Info(jg_oe.jc_oEntityInfo.jc_TI_Image,null);var jt_ogeisetGeoArea=new A3xaEntityInfoSet(jt_oglrGeoArea,jt_aoeifaGeoArea,jt_ogeiattrCommon);jt_ogeisetGeoArea.PrintHtml(qt_oParent);}
var jt_oCPLandButtonStatus={jm_Value:null};var jt_ocpLand=new A3xaPanelLandIcons3(null,-1,ji_Row,jg_oe.jc_oHtml.jc_Col_LandIcons,true,ji_Col);jt_ocpLand.InitButtonsStatus(jt_oCPLandButtonStatus.jm_Value);return true;};this.PrintHtml_BoxBodyDemand=function(qi_oCell,ji_Row,ji_Col)
{return true;};this._A3xaEntity_HtmlBox_Identity();}
function A3xaEntity_HtmlBox_Info(ji_o3xehbenv)
{A3xaEntity_HtmlBox.call(this,ji_o3xehbenv);var jt_this=this;this._A3xaEntity_HtmlBox_Info=function()
{};this.PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_sDescr=this.jm_o3xehbenv.jm_oxe.Get_LDescr();if(jt_sDescr)
qi_oCell.append("<span style='color: #C0C080; text-shadow: 1px 1px 0px #000000;'><strong>"+
jt_sDescr+"</strong></span>");return true;};this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{if(!this.PrintHtml_SummaryBox_Header(qi_oCell,ji_Row,ji_Col))
return false;if(!this.PrintHtml_SummaryBox_Footer(qi_oCell,ji_Row,ji_Col))
return false;return true;};this.PrintHtml_BoxBodyLopry=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_BoxBodyDemand=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_SummaryBox_Header=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_aTypInfo=new Array(jg_oe.jc_oEntityInfo.jc_TI_QueryUnifiedRequest);for(var i=0;i<jt_aTypInfo.length;i++)
{var jt_aoeifa=this.jm_o3xehbenv.jm_oxe.Get_3xEI().Get_Info(jt_aTypInfo[i],null);var jt_ogeiattr=new A3xaEntityInfo_Attributes(this.jm_o3xehbenv.jm_oxe.Get_LName(),true,ji_Row,ji_Col);var jt_ogeiset=new A3xaEntityInfoSet(this.jm_o3xehbenv.jm_oxe,jt_aoeifa,jt_ogeiattr);jt_ogeiset.PrintHtml(qi_oCell);}
return true;};this.PrintHtml_SummaryBox_Footer=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_aTypInfo=new Array(jg_oe.jc_oEntityInfo.jc_TI_Note);for(var i=0;i<jt_aTypInfo.length;i++)
{var jt_aoeifa=this.jm_o3xehbenv.jm_oxe.Get_3xEI().Get_Info(jt_aTypInfo[i],null);var jt_ogeiattr=new A3xaEntityInfo_Attributes(this.jm_o3xehbenv.jm_oxe.Get_LName(),true,ji_Row,ji_Col);var jt_ogeiset=new A3xaEntityInfoSet(this.jm_o3xehbenv.jm_oxe,jt_aoeifa,jt_ogeiattr);jt_ogeiset.PrintHtml(qi_oCell);}
return true;};this._A3xaEntity_HtmlBox_Info();}
function A3xaEntity_Html(ji_oxe_NotUsed,ji_o3xehf,ji_o3xehbenv)
{this.jm_bBuild_A3xaEntity_Html=false;if(!ji_o3xehbenv)
{ji_o3xehbenv=new A3xaEntity_HtmlBoxEnv();ji_o3xehbenv.jm_o3xehf=ji_o3xehf;this.jm_bBuild_A3xaEntity_Html=true;}
A3xaEntity_HtmlBox.call(this,ji_o3xehbenv);var jt_this=this;this.Build=function()
{var jt_o3xehbox_IdTag=new A3xaEntity_HtmlBox_IdTag(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_IdTag,jg_oe.jc_oHtml.jc_Col_IdTag,true);var jt_o3xehbox_Land=new A3xaEntity_HtmlBox_Land(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_Land,jg_oe.jc_oHtml.jc_Col_LandIcons,true);var jt_o3xehbox_CtrlInfo=new A3xaEntity_HtmlBox_CtrlInfo(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_CtrlInfo,jg_oe.jc_oHtml.jc_Col_CtrlInfoIcons,true);var jt_o3xehbox_Identity=new A3xaEntity_HtmlBox_Identity(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_Identity,jg_oe.jc_oHtml.jc_Col_Identity,true);var jt_o3xehbox_Info=new A3xaEntity_HtmlBox_Info(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_Info,jg_oe.jc_oHtml.jc_Col_Info,true);this.OnBuild(jt_o3xehbox_Info);return true;};this.OnBuild=function(ji_o3xehbox_Info)
{if(!ji_o3xehbox_Info)
return false;this.jm_o3xehbenv.DoEditForm=function(ji_oefParams)
{if(!ji_o3xehbox_Info)
return false;if(!ji_oefParams)
ji_oefParams={};if(!ji_oefParams.oxeCur)
ji_oefParams.oxeCur=jt_this.jm_o3xehbenv.jm_oxe;if(ji_oefParams.bSubmit)
{if(ji_oefParams.oxeNew)
{var jt_oxur=new A3xaXur();if(ji_oefParams.bNew)
jt_oxur.Set_UrlParams2({form:jg_oe.jc_oXUR.jc_XURFN_AjaxEntity,tar:jg_oe.jc_oXUR.jc_sAjaxTypEntity2,qur:jg_oe.jc_oXUR.jc_QUR_QueryNewEntity,o3xxeid:ji_oefParams.oxeNew,single:jg_oe.jc_oXUR.jc_XURTG_Single});else
jt_oxur.Set_UrlParams2({form:jg_oe.jc_oXUR.jc_XURFN_AjaxEntity,tar:jg_oe.jc_oXUR.jc_sAjaxTypEntity2,qur:jg_oe.jc_oXUR.jc_QUR_QueryUpdateEntity,o3xxeid:ji_oefParams.oxeCur,single:jg_oe.jc_oXUR.jc_XURTG_Single});$.ajax({method:"POST",timeout:10000,url:jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",data:{p3k:"1",p3x:jt_oxur.Get_XURCC(),p3n:JSON.stringify({mark:"J3",oppg:"app_entityedit",optyp:"exec",code:"",msg:"",xjeid:ji_oefParams.oxeNew.Get_3xXEID().Get_XJSon(ji_oefParams.bNew?null:ji_oefParams.oxeCur),xjebis:ji_oefParams.oxeNew.Get_3xEBIS().Get_XJSon(ji_oefParams.bNew?null:ji_oefParams.oxeCur),xjebid:ji_oefParams.oxeNew.Get_3xEBID().Get_XJSon(ji_oefParams.bNew?null:ji_oefParams.oxeCur)},function(ji_k,ji_v)
{return ji_v;})},success:function(ji_response)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo(ji_response,"","A3xaEntity_Html.OnBuild.ajax.success");var jt_oResponse=JSON.parse(ji_response,function(ji_k,ji_v)
{return ji_v;});if(jt_oResponse&&jt_oResponse.mark=="J3"&&(jt_oResponse.oppg=="app_entityedit"))
{if(jt_oResponse.result=="success")
{var jt_oxur=new A3xaXur();jt_oxur.Set_XURString(jt_oResponse.p3x);var jt_TypEntity=jt_oxur.Get_3xXEID().Get_TypEntity();var jt_IdEntity=jt_oxur.Get_3xXEID().Get_IdEntity();var jt_oxjeid=jt_oResponse.xjeid;var jt_oxjebis=jt_oResponse.xjebis;var jt_oxjebid=jt_oResponse.xjebid;var jt_smsg=jt_oResponse.msg;var jt_oebis=new A3xaEBIS();}
else
{}}},error:function(ji_response)
{}});}}
else if(ji_oefParams.bShow==false)
{}
var jt_oci=ji_o3xehbox_Info._Get_CellInfo(ji_o3xehbox_Info.jm_col);if(!jt_oci)
return false;if(!jt_this.jm_o3xehbenv.jm_o3x2EditForm&&ji_oefParams.bShow!=false)
{jt_this.jm_o3xehbenv.jm_o3x2EditForm=A3xa2MgrEditForm();if(!jt_this.jm_o3xehbenv.jm_o3x2EditForm.ef.loadData(ji_oefParams.oxeCur,ji_oefParams.bNew))
{jt_this.jm_o3xehbenv.jm_o3x2EditForm=null;return false;}
jt_this.jm_o3xehbenv.jm_o3x2EditForm.ef.printHtml(jt_oci,jt_this.jm_o3xehbenv.DoEditForm);}
else if(jt_this.jm_o3xehbenv.jm_o3x2EditForm&&ji_oefParams.bShow!=true)
{jt_this.jm_o3xehbenv.jm_o3x2EditForm.ef.clearHtml(jt_oci);jt_this.jm_o3xehbenv.jm_o3x2EditForm=null;}
return false;};this.jm_o3xehbenv.DoEditInfoForm=function(ji_oefParams)
{if(!ji_o3xehbox_Info)
return false;if(!ji_oefParams)
ji_oefParams={};if(!ji_oefParams.oxeCur)
ji_oefParams.oxeCur=jt_this.jm_o3xehbenv.jm_oxe;if(ji_oefParams.bSubmit)
{}
else if(ji_oefParams.bShow==false)
{}
var jt_oci=ji_o3xehbox_Info._Get_CellInfo(ji_o3xehbox_Info.jm_col);if(!jt_oci)
return false;if(!jt_this.jm_o3xehbenv.jm_o3x2EditInfoForm&&ji_oefParams.bShow!=false)
{jt_this.jm_o3xehbenv.jm_o3x2EditInfoForm=A3xa2MgrEditInfoForm();if(!jt_this.jm_o3xehbenv.jm_o3x2EditInfoForm.ef.loadData(ji_oefParams.oxeCur,ji_oefParams.bNew))
{jt_this.jm_o3xehbenv.jm_o3x2EditInfoForm=null;return false;}
jt_this.jm_o3xehbenv.jm_o3x2EditInfoForm.ef.printHtml(jt_oci,jt_this.jm_o3xehbenv.DoEditInfoForm);}
else if(jt_this.jm_o3xehbenv.jm_o3x2EditInfoForm&&ji_oefParams.bShow!=true)
{jt_this.jm_o3xehbenv.jm_o3x2EditInfoForm.ef.clearHtml(jt_oci);jt_this.jm_o3xehbenv.jm_o3x2EditInfoForm=null;}
return false;};return true;};this._A3xaEntity_Html=function()
{if(this.jm_bBuild_A3xaEntity_Html)
this.Build();};this.PrintHtml=function(ji_bHeader,ji_bLowPriority,ji_bOnDemand)
{if(ji_bHeader)
this.ClearHtml(true);else if(!ji_bHeader&&!ji_bLowPriority&&!ji_bOnDemand)
this.ClearHtml(false);return this._A3xaEntity_HtmlBox_PrintHtml(ji_bHeader,ji_bLowPriority,ji_bOnDemand);};this.UpdateScore=function(ji_bClicks,ji_bScore,ji_bLikes)
{var jt_o3xehbox_IdTag=this.Get_Child(jg_oe.jc_oHtml.jc_Col_IdTag);if(!jt_o3xehbox_IdTag)
return false;if(ji_bClicks!==false)
jt_o3xehbox_IdTag.UpdateHtml_Clicks();if(ji_bScore!==false)
jt_o3xehbox_IdTag.UpdateHtml_Score();return true;};this._A3xaEntity_Html();}"use strict";function GLMgrCategory(ji_bShowLabel)
{this.jm_o3xmcr=new A3xaMgrCategory_Request(ji_bShowLabel);this.Get_MgrRequestCategory=function(){return this.jm_o3xmcr;};this.PrintHtml_Icon=function(qi_oParent,ji_oglrMain)
{if(!(qi_oParent&&qi_oParent.length&&ji_oglrMain))
return false;var jt_oglrCategory=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);if(!jt_oglrCategory)
return false;var jt_o3xcat=ji_oglrMain.Get_3xXEID().Get_3xCat2();if(jt_o3xcat.IsEmpty()||!jt_oglrCategory.Get_3xEBIS().Get_Descr())
return false;var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_ListEntity,null,null,jg_oe.jc_oXUR.jc_QUR_QueryViewEntity,jt_oglrCategory.Get_3xXEID().Get_String(),jg_oe.jc_oXUR.jc_XURTG_Single,"",null);var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xurl=jt_oxur.Get_A3xaUrl();var jt_o3xhici=jt_o3xmngic.NewSprite(jt_oglrCategory.Get_3xEBIS().Get_Idsym());jt_o3xhici.Set_Dim(24,24);jt_o3xhici.Set_UrlLink(jt_o3xurl.Get_Url());jt_o3xhici.Set_Title(jt_oglrCategory.Get_LName(),jt_o3xcat.Get_Code());jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);if(!jt_ohButton.PrintHtml(qi_oParent))
return false;return true;};}"use strict";function A3xaDefines_RequestCategory()
{this.jc_asReqCategory=["Category","Categoría","Categoria","Categoria"];this.jc_asALL=["*** ALL ***","*** TODOS ***","*** TUDO ***","*** TUTTI ***"];this.jc_ColorsBGHL=["FF6080","FF80A0","FFC0E0"];}
function A3xaDDItemRequestCategory(ji_sKey,ji_sDescr)
{A3xaDDItem.call(this,ji_sKey,ji_sDescr);this.jm_Order=null;this.Get_Order=function(){return this.jm_Order;};this.Set_Order=function(ji_Order){this.jm_Order=ji_Order;return true;};this.ValueMatch=function(ji_s)
{if(!ji_s)
return!this.jm_sValue;if(this.jm_sValue==ji_s)
return true;var jt_o3xcatl=new A3xaCategoryList(this.jm_sValue);var jt_o3xcat=new A3xaCategoryCode();jt_o3xcat.Set_String(ji_s,"-");return jt_o3xcatl.Match(jt_o3xcat);};this.Set_ValueXUR=function(ji_odc,ji_s)
{var jt_oxur=this._MakeXUR(ji_odc);this.Set_Value((jt_oxur?"p3x="+jt_oxur.Get_XURCC():"")+(ji_s?"#"+ji_s:""));return true;};this.Add_CategoryGroup=function(ji_ocg)
{if(!(ji_ocg&&ji_ocg.o3xe))
return false;if(!(this.jm_TreeLevel==1))
return false;var jt_o3xcat_xapp=new A3xaCategoryCode_XApp(ji_ocg.o3xe.Get_3xXEID());var jt_te=ji_ocg.o3xe.Get_3xXEID().Get_TypEntity();var jt_oxur=jg_oApp.Get_AppXUR().Get_3xXUR();var jt_TypGeo=jt_o3xcat_xapp.ToTypGeo();if(jt_o3xcat_xapp.IsGroup_Metasystem()||jt_o3xcat_xapp.IsGroup_Category()||jt_o3xcat_xapp.IsGroup_Topic()||(jt_o3xcat_xapp.IsGroup_Geo()&&jt_oxur&&New_A3xaAZNMC_XApp(jt_oxur.Get_3xXEID()).IsBestFromBabylon()))
return false;var jt_sCatGroup=ji_ocg.o3xe.Get_3xXEID().Get_3xCat2().Get_String("-");var jt_oddig=this.Get_Child(jt_sCatGroup);if(!jt_oddig)
{jt_oddig=new A3xaDDItemRequestCategory();jt_oddig.Set_Key(jt_sCatGroup);jt_oddig.Set_ValueXUR(ji_ocg.o3xe,jt_sCatGroup);jt_oddig.Set_Descr(ji_ocg.o3xe.Get_LDescr());jt_oddig.Set_Order(ji_ocg.o3xe.Get_3xEBIS().Get_Order());if(ji_ocg.o3xsii)
{jt_oddig.Set_Counters(ji_ocg.o3xsii.jm_siCountValue,ji_ocg.o3xsii.jm_siCountRestricted);}
else if(jt_o3xcat_xapp.IsGroup_Geo())
jt_oddig.Set_Counters(-1,-1);this.Add_Child(jt_oddig);}
return true;};this.Add_Category=function(ji_ocg)
{if(!(ji_ocg&&ji_ocg.o3xe))
return false;if(!(this.jm_TreeLevel==1))
return false;var jt_te=ji_ocg.o3xe.Get_3xXEID().Get_TypEntity();var jt_sCat=ji_ocg.o3xe.Get_3xXEID().Get_3xCat2().Get_String("-");var jt_oxur=jg_oApp.Get_AppXUR().Get_3xXUR();var jt_o3xcat_xapp=new A3xaCategoryCode_XApp(ji_ocg.o3xe.Get_3xXEID());var jt_TypGeo=jt_o3xcat_xapp.ToTypGeo();if(jt_TypGeo)
{var jt_xA=jt_oxur.Get_3xXEID().Get_3xAZNMC2().Get_A();var jt_xZ=jt_oxur.Get_3xXEID().Get_3xAZNMC2().Get_Z();var jt_xN=jt_oxur.Get_3xXEID().Get_3xAZNMC2().Get_N();var jt_xC=jt_oxur.Get_3xXEID().Get_3xAZNMC2().Get_C();var jt_xP=jt_oxur.Get_3xXEID().Get_3xPS2().Get_P();var jt_xS=jt_oxur.Get_3xXEID().Get_3xPS2().Get_S();var jt_xV_cat=ji_ocg.o3xe.Get_3xXEID().Get_3xCat2().Get_Vcat();var jt_xte=jt_oxur.Get_3xXEID().Get_TypEntity();var jt_xWholeCountry=(jt_xZ>="3"&&jt_xZ<="9");var jt_xWholeArea=(jt_xZ>="1"&&jt_xZ<="2");var jt_xWholeAC=(jt_xWholeArea||jt_xWholeCountry);if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoArea)
{if(jt_xA||jt_xS)
return false;}
else if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
{if(jt_xA||jt_xP)
return false;}
else if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoCity)
{if(!jt_xN||jt_xC)
return false;}
else if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
{if(jt_xV_cat!=jg_oe.jc_oEntity.jc_VCat_Geo_Region)
return false;if(!jt_xZ)
return false;if(jt_xWholeAC)
return false;if(jt_xN)
return false;}
else if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoState)
{if(jt_xV_cat!=jg_oe.jc_oEntity.jc_VCat_Geo_State)
return false;if(!jt_xP)
return false;if((jt_xS||jt_xC)&&jt_xte!=jg_oe.jc_oEntity.jc_Typ_GeoCountry)
return false;}}
else
{}
var jt_oglrCategoryGroup=ji_ocg.o3xdtCat.Get_IRecordset().findItem(function(ji_oglrCatCur)
{if(ji_oglrCatCur.Get_3xXEID().Get_3xCat2().Get_Vcat())
return false;if(ji_oglrCatCur.Get_3xXEID().Get_3xCat2().Get_Ucat()==ji_ocg.o3xe.Get_3xXEID().Get_3xCat2().Get_Ucat())
return true;return false;});if(!jt_oglrCategoryGroup)
return false;var jt_sCatGroup=jt_oglrCategoryGroup.Get_3xXEID().Get_3xCat2().Get_String("-");var jt_oddig=this.Get_Child(jt_sCatGroup);if(!jt_oddig)
return false;var jt_oddie=jt_oddig.Get_Child(jt_sCat);if(!jt_oddie)
{jt_oddie=new A3xaDDItemRequestCategory();jt_oddie.Set_Key(jt_sCat);jt_oddie.Set_ValueXUR(ji_ocg.o3xe);jt_oddie.Set_Descr(ji_ocg.o3xe.Get_LDescr());jt_oddie.Set_Order(ji_ocg.o3xe.Get_3xEBIS().Get_Order());if(ji_ocg.o3xsii)
jt_oddie.Set_Counters(ji_ocg.o3xsii.jm_siCountValue,ji_ocg.o3xsii.jm_siCountRestricted);else if(jt_o3xcat_xapp.IsGroup_Geo())
jt_oddie.Set_Counters(-1,-1);jt_oddig.Set_Value(jt_oddig.Get_Value()+","+jt_sCat);jt_oddig.Add_Child(jt_oddie);}
return true;};this._MakeXUR=function(ji_odc)
{var jr_oxur=new A3xaXur();jr_oxur.CopyFromXUR(jg_oApp.Get_AppXUR().Get_3xXUR());if(ji_odc)
jr_oxur.Get_3xXEID().Get_3xCat2().CopyFrom(ji_odc.Get_3xXEID());else
jr_oxur.Get_3xXEID().Get_3xCat2().Clear();var jt_o3xcat_xapp=new A3xaCategoryCode_XApp(jr_oxur.Get_3xXEID());var jt_TypGeo=jt_o3xcat_xapp.ToTypGeo();if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoArea)
{jr_oxur.Get_3xXEID().Set_GEID(jt_TypGeo,null,null,null);jr_oxur.Get_3xXEID().Get_3xAZNMC2().Clear();jr_oxur.Get_3xXEID().Get_3xPS2().Clear();jr_oxur.MakeQUR(true,false);jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;jr_oxur.jm_SubEntity=jg_oe.jc_oXUR.jc_XURTG_Master;}
else if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
{if(!jr_oxur.Get_3xXEID().Get_3xAZNMC2().Get_Z()||New_A3xaAZNMC_XApp(jr_oxur.Get_3xXEID()).IsBestFromBabylon())
return null;jr_oxur.Get_3xXEID().Get_3xCat2().Clear();jr_oxur.Get_3xXEID().Set_GEID(jt_TypGeo,null,null,null);jr_oxur.Get_3xXEID().Get_3xAZNMC2().Clear_NC();jr_oxur.Get_3xXEID().Get_3xPS2().Clear();jr_oxur.MakeQUR(true,false);jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;jr_oxur.jm_SubEntity=jg_oe.jc_oXUR.jc_XURTG_Master;}
else if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoCity)
{if(!jr_oxur.Get_3xXEID().Get_3xAZNMC2().Get_Z()||New_A3xaAZNMC_XApp(jr_oxur.Get_3xXEID()).IsBestFromBabylon())
return null;jr_oxur.Get_3xXEID().Get_3xCat2().Clear();jr_oxur.Get_3xXEID().Set_GEID(jt_TypGeo,null,null,null);jr_oxur.Get_3xXEID().Get_3xAZNMC2().Clear_C();jr_oxur.Get_3xXEID().Get_3xPS2().Clear();jr_oxur.MakeQUR(true,false);jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;jr_oxur.jm_SubEntity=jg_oe.jc_oXUR.jc_XURTG_Master;}
else if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
{jr_oxur.Get_3xXEID().Set_GEID(jt_TypGeo,null,null,null);jr_oxur.Get_3xXEID().Get_3xAZNMC2().Clear();jr_oxur.Get_3xXEID().Get_3xPS2().Clear();jr_oxur.MakeQUR(true,false);jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;jr_oxur.jm_SubEntity=jg_oe.jc_oXUR.jc_XURTG_Master;}
else if(jt_TypGeo==jg_oe.jc_oEntity.jc_Typ_GeoState)
{if(!jr_oxur.Get_3xXEID().Get_3xPS2().Get_P()||New_A3xaAZNMC_XApp(jr_oxur.Get_3xXEID()).IsBestFromBabylon())
return null;jr_oxur.Get_3xXEID().Set_GEID(jt_TypGeo,null,null,null);jr_oxur.Get_3xXEID().Get_3xAZNMC2().Clear();jr_oxur.Get_3xXEID().Get_3xPS2().Clear_S();jr_oxur.MakeQUR(true,false);jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;jr_oxur.jm_SubEntity=jg_oe.jc_oXUR.jc_XURTG_Master;}
else
{jr_oxur.Get_3xXEID().Set_GEID(jg_oe.jc_oEntity.jc_Typ_Enterprise,null,null,null);jr_oxur.Get_3xXEID().Get_3xPS2().Clear();if(New_A3xaAZNMC_XApp(jr_oxur.Get_3xXEID()).IsBestFromBabylon())
{if(jr_oxur.Get_3xXEID().Get_3xCat2().IsEmpty())
{jr_oxur.MakeQUR(false,false);jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Limited;}
else
{jr_oxur.MakeQUR(true,false);jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;}}
else if(!jr_oxur.Get_3xXEID().CanBeUnlimitedEnterprise())
{jr_oxur.MakeQUR(false,false);jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Limited;}
else if(true)
{jr_oxur.jm_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBS;jr_oxur.jm_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;}
jr_oxur.jm_SubEntity=jg_oe.jc_oXUR.jc_XURTG_Master;}
return jr_oxur;};}
function A3xaMgrCategory_Request(ji_bShowLabel)
{this.jc_o3xdef=new A3xaDefines_RequestCategory();this.jm_oddiRoot=null;this.jm_oddbox=null;this._A3xaMgrCategory_Request=function()
{this.jm_oddbox=new A3xaDDSelectBox(null,"RequestCategory",ji_bShowLabel?this.jc_o3xdef.jc_asReqCategory:null);this.jm_oddbox.NewDDItem=function(){return new A3xaDDItemRequestCategory();};this.jm_oddbox.OnChange=function(ji_eddbox,ji_oddi)
{var jt_sUrlParams=ji_oddi.Get_Value();jg_oe.CanLogInfo()&&jg_oe.LogInfo("url-params="+(jt_sUrlParams||""),"","A3xaMgrCategory_Request.jm_oddbox.OnChange");if(!jt_sUrlParams)
return false;var jt_asUrlParams=((jt_sUrlParams&&jt_sUrlParams.length)?jt_sUrlParams.split("#"):null);if(jt_asUrlParams&&jt_asUrlParams[0]&&jt_asUrlParams[0].substring(0,3)=="p3x")
jt_sUrlParams=jt_asUrlParams[0];return jg_oApp.Get_AppXUR().OnChange_QUR(jt_sUrlParams);};this.jm_oddbox.Set_ColorsBGHL(this.jc_o3xdef.jc_ColorsBGHL);return true;};this._CompareEntityOrder=function(ji_oddi_a,ji_oddi_b)
{var jt_1=1;if(!(ji_oddi_a&&ji_oddi_b))
return 0;var jt_delta=Number(ji_oddi_a.Get_Order())-Number(ji_oddi_b.Get_Order());if(jt_delta>0)
return jt_1;if(jt_delta<0)
return-jt_1;return 0;};this.PrintHtmlDD=function(qi_oParent)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Begin","","A3xaMgrCategory_Request.PrintHtmlDD");this.ConfigDD();if(!this.jm_oddbox.PrintHtml(qi_oParent))
return false;{if(!this.jm_oddbox.Refresh())
return false;}
return true;};this.ConfigDD=function()
{this.jm_oddbox.jm_sKeySelected=null;var jt_sxeidSelected=null;if(jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID()&&true)
{var jt_te=jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID().Get_TypEntity();var jt_o3xcat=new A3xaCategoryCode();jt_o3xcat.CopyFrom(jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID().Get_3xCat2());if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCity)
{if(!jt_o3xcat.Get_Ucat())
jt_o3xcat.Set_Category(jg_oe.jc_oEntity.jc_UCat_Geo,jg_oe.jc_oEntity.jc_VCat_Geo_City);}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
{if(!jt_o3xcat.Get_Ucat())
jt_o3xcat.Set_Category(jg_oe.jc_oEntity.jc_UCat_Geo,jg_oe.jc_oEntity.jc_VCat_Geo_Region);}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoArea)
{if(!jt_o3xcat.Get_Ucat())
jt_o3xcat.Set_Category(jg_oe.jc_oEntity.jc_UCat_Geo,jg_oe.jc_oEntity.jc_VCat_Geo_Area);}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoState)
{if(!jt_o3xcat.Get_Ucat())
jt_o3xcat.Set_Category(jg_oe.jc_oEntity.jc_UCat_Geo,jg_oe.jc_oEntity.jc_VCat_Geo_State);}
else if(jt_te==jg_oe.jc_oEntity.jc_Typ_GeoCountry)
{if(!jt_o3xcat.Get_Ucat())
jt_o3xcat.Set_Category(jg_oe.jc_oEntity.jc_UCat_Geo,jg_oe.jc_oEntity.jc_VCat_Geo_Country);}
this.jm_oddbox.jm_sKeySelected=jt_o3xcat.Get_String("-");jg_oe.CanLogInfo()&&jg_oe.LogInfo("GroupFocus key:"+
this.jm_oddbox.jm_sKeyGroupFocus,"","A3xaMgrCategory_Request.ConfigDD");this.jm_oddbox.jm_bVisibleGroupFocus=false;}
this.jm_oddbox.jm_bShowCount=true;return true;};this.LoadDataDD=function()
{this.ConfigDD();var jt_odb=jg_oe.Get_Database();if(!jt_odb)
return false;var jt_ogldtCategory=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_Category));if(!jt_ogldtCategory)
return false;var jt_oddiRequestCategory=new A3xaDDItemRequestCategory();var jt_nOfRows=jt_ogldtCategory.Get_IRecordset().getCount();jt_oddiRequestCategory.Set_ADescr(this.jc_o3xdef.jc_asALL);jt_oddiRequestCategory.Set_ValueXUR(null);var jt_o3xsiiCatAll=jg_oApp.Get_MgrSummary().Get_SummaryItemByCatAll();if(jt_o3xsiiCatAll)
jt_oddiRequestCategory.Set_Counters(jt_o3xsiiCatAll.jm_siCountValue,jt_o3xsiiCatAll.jm_siCountRestricted);for(var i=0;i<jt_nOfRows;i++)
{var jt_oglr=jt_ogldtCategory.Get_IRecordset().getItem_ByIndex(i);if(!jt_oglr)
continue;if(jt_oglr.Get_3xXEID().Get_3xCat2().Get_Vcat())
continue;if(!jt_oddiRequestCategory.Add_CategoryGroup({o3xe:jt_oglr,o3xsii:jg_oApp.Get_MgrSummary().Get_SummaryItemByCatGroup(jt_oglr)}))
{;}}
for(i=0;i<jt_nOfRows;i++)
{var jt_oglr=jt_ogldtCategory.Get_IRecordset().getItem_ByIndex(i);if(!jt_oglr)
continue;if(!jt_oglr.Get_3xXEID().Get_3xCat2().Get_Vcat())
continue;if(!jt_oddiRequestCategory.Add_Category({o3xe:jt_oglr,o3xsii:jg_oApp.Get_MgrSummary().Get_SummaryItemByCat(jt_oglr),o3xdtCat:jt_ogldtCategory}));}
jt_oddiRequestCategory.Sort_Children(this._CompareEntityOrder,true);this.jm_oddiRoot=jt_oddiRequestCategory;this.jm_oddbox.jm_oddiRoot=this.jm_oddiRoot;return true;};this._A3xaMgrCategory_Request();}"use strict";function A3xaMgrLand()
{this.jm_o3xmlra=null;this.jm_o3xmlrr=null;this._A3xaMgrLand=function()
{this.jm_o3xmlra=new A3xaMgrLand_RequestArea(jg_oe.jc_oEntity.jc_Typ_GeoArea);this.jm_o3xmlrr=new A3xaMgrLand_RequestArea(jg_oe.jc_oEntity.jc_Typ_GeoRegion);};this.Get_MgrRequestArea=function(ji_TypEntity)
{if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoArea||!ji_TypEntity)
return this.jm_o3xmlra;if(ji_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
return this.jm_o3xmlrr;return null;};this.PrintHtml_FlagGeoCountry=function(qi_oParent,ji_oglrMain)
{if(!(qi_oParent&&qi_oParent.length&&ji_oglrMain))
return false;var jt_oglrCategory=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);var jt_oglrGeoArea=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoArea);var jt_oglrGeoRegion=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoRegion);var jt_oglrGeoCity=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCity);var jt_oglrGeoCountry=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCountry);var jt_oglrGeoState=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoState);if(jt_oglrGeoCountry)
{var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_ListEntity,null,null,jg_oe.jc_oXUR.jc_QUR_QueryViewEntity,null,jg_oe.jc_oXUR.jc_XURTG_Single,"",null);jt_oxur.CopyFrom(jt_oglrGeoCountry,true,true,false,false);var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xurl=jt_oxur.Get_A3xaUrl(false,true);var jt_o3xhici=jt_o3xmngic.NewSprite(jt_oglrGeoCountry.Get_3xEBIS().Get_Idsym());jt_o3xhici.Set_Dim(24,16);jt_o3xhici.Set_UrlLink(jt_o3xurl.Get_Url());jt_o3xhici.Set_Title(jt_oglrGeoCountry.Get_LName(),jt_oglrGeoCountry.Get_3xXEID().Get_3xPS2().Get_P());jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);if(!jt_ohButton.PrintHtml(qi_oParent))
return false;}
return true;};this.PrintHtml_FlagGeoState=function(qi_oParent,ji_oglrMain,ji_bPrepend)
{if(!(qi_oParent&&qi_oParent.length&&ji_oglrMain))
return false;var jt_oglrCategory=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);var jt_oglrGeoArea=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoArea);var jt_oglrGeoRegion=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoRegion);var jt_oglrGeoCity=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCity);var jt_oglrGeoCountry=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCountry);var jt_oglrGeoState=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoState);if(jt_oglrGeoState)
{var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_ListEntity,null,null,jg_oe.jc_oXUR.jc_QUR_QueryViewEntity,null,jg_oe.jc_oXUR.jc_XURTG_Single,"",null);jt_oxur.CopyFrom(jt_oglrGeoState,true,true,false,false);jt_oxur.LinkCommonData(jg_oe.Get_Database(),true);var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xurl=jt_oxur.Get_A3xaUrl(false,true);var jt_o3xhici=jt_o3xmngic.NewSprite(jt_oglrGeoState.Get_3xEBIS().Get_Idsym());jt_o3xhici.Set_Dim(24,16);jt_o3xhici.Set_UrlLink(jt_o3xurl.Get_Url());jt_o3xhici.Set_Title(jt_oglrGeoState.Get_LName()+" ("+jt_oglrGeoState.Get_3xXEID().Get_3xPS2().Get_P()+")",jt_oglrGeoState.Get_3xXEID().Get_3xPS2().Get_S()+"("+jt_oglrGeoState.Get_3xXEID().Get_3xPS2().Get_P()+")");jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);if(!jt_ohButton.PrintHtml(qi_oParent,ji_bPrepend))
return false;}
return true;};this.PrintHtml_FlagGeoRegion=function(qi_oParent,ji_oglrMain,ji_bPrepend)
{if(!(qi_oParent&&qi_oParent.length&&ji_oglrMain))
return false;var jt_oglrCategory=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);var jt_oglrGeoArea=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoArea);var jt_oglrGeoRegion=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoRegion);var jt_oglrGeoCity=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCity);var jt_oglrGeoCountry=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCountry);var jt_oglrGeoState=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoState);if(jt_oglrGeoRegion&&jt_oglrGeoArea)
{var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_ListEntity,null,null,jg_oe.jc_oXUR.jc_QUR_QueryViewEntity,null,jg_oe.jc_oXUR.jc_XURTG_Single,"",null);jt_oxur.CopyFrom(jt_oglrGeoRegion,true,true,false,false);jt_oxur.LinkCommonData(jg_oe.Get_Database(),true);var jt_flagCode=A3xaToString(jt_oglrGeoArea.Get_3xXEID().Get_3xAZNMC2().Get_A())+
A3xaToString(jt_oglrGeoArea.Get_3xXEID().Get_3xAZNMC2().Get_Z());var jt_shortdescr=jt_oglrGeoRegion.Get_3xXEID().Get_3xAZNMC2().Get_N()+"("+jt_flagCode+")";var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xurl=jt_oxur.Get_A3xaUrl(false,true);var jt_o3xhici=jt_o3xmngic.NewSprite(jt_oglrGeoArea.Get_3xEBIS().Get_Idsym());jt_o3xhici.Set_Dim(24,16);jt_o3xhici.Set_UrlLink(jt_o3xurl.Get_Url());jt_o3xhici.Set_Title(jt_oglrGeoRegion.Get_LName()+", "+jt_oglrGeoArea.Get_LName(),jt_shortdescr);jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);if(!jt_ohButton.PrintHtml(qi_oParent,ji_bPrepend))
return false;}
return true;};this.PrintHtml_IconGeoCity=function(qi_oParent,ji_oglrMain)
{if(!(qi_oParent&&qi_oParent.length&&ji_oglrMain))
return false;var jt_oglrCategory=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);var jt_oglrGeoArea=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoArea);var jt_oglrGeoRegion=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoRegion);var jt_oglrGeoCity=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCity);var jt_oglrGeoCountry=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCountry);var jt_oglrGeoState=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoState);if(jt_oglrGeoCity)
{var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(jg_oe.jc_oXUR.jc_XURFN_ListEntity,null,null,jg_oe.jc_oXUR.jc_QUR_QueryViewEntity,null,jg_oe.jc_oXUR.jc_XURTG_Single,"",null);jt_oxur.CopyFrom(jt_oglrGeoCity,true,true,false,false);jt_oxur.LinkCommonData(jg_oe.Get_Database(),true);var jt_o3xcat_Category_Geo_City=new A3xaCategoryCode();jt_o3xcat_Category_Geo_City.Set_Category(jg_oe.jc_oEntity.jc_UCat_Geo,jg_oe.jc_oEntity.jc_VCat_Geo_City);var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xurl=jt_oxur.Get_A3xaUrl(false,true);var jt_o3xhici=jt_o3xmngic.NewSprite(jt_odfic.jc_oIconCat_City.absid);jt_o3xhici.Set_Dim(24,24);jt_o3xhici.Set_UrlLink(jt_o3xurl.Get_Url());jt_o3xhici.Set_Title(jt_oglrGeoCity.Get_LName(),"CTY");jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);if(!jt_ohButton.PrintHtml(qi_oParent))
return false;}
return true;};this.PrintHtml_IconMap=function(qi_oParent,ji_oglrMain,ji_Row,ji_Col)
{if(!(qi_oParent&&qi_oParent.length&&ji_oglrMain))
return false;var jt_oglrCategory=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);var jt_oglrGeoArea=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoArea);var jt_oglrGeoRegion=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoRegion);var jt_oglrGeoCity=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCity);var jt_oglrGeoCountry=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCountry);var jt_oglrGeoState=ji_oglrMain.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoState);var jt_Lat=0.0;var jt_Lon=0.0;var jt_Zoom=4;var jt_sTip="location";if(jt_oglrGeoCity)
{jt_Lat=jt_oglrGeoCity.Get_3xEBIS().Get_Lat();jt_Lon=jt_oglrGeoCity.Get_3xEBIS().Get_Lon();jt_sTip=jt_oglrGeoCity.Get_LName();jt_Zoom=12;}
else if(jt_oglrGeoRegion)
{jt_Lat=jt_oglrGeoRegion.Get_3xEBIS().Get_Lat();jt_Lon=jt_oglrGeoRegion.Get_3xEBIS().Get_Lon();jt_sTip=jt_oglrGeoRegion.Get_LName();jt_Zoom=8;}
else if(jt_oglrGeoArea)
{jt_Lat=jt_oglrGeoArea.Get_3xEBIS().Get_Lat();jt_Lon=jt_oglrGeoArea.Get_3xEBIS().Get_Lon();jt_sTip=jt_oglrGeoArea.Get_LName();jt_Zoom=4;}
var jt_opdim=jg_oe.Get_PopupDim();var jt_oPopupPluginInfo={mediatype:"gmap",width:jt_opdim.w,height:jt_opdim.h,info:"ll="+jt_Lat+","+jt_Lon+"&z="+jt_Zoom+"&t=h",fnAlt:function()
{var jt_opdyndim=jg_oe.Get_PopupDim();if(jt_opdyndim&&jt_opdyndim.w>10&&jt_opdyndim.h>10)
{jt_oPopupPluginInfo.width=jt_opdyndim.w;jt_oPopupPluginInfo.height=jt_opdyndim.h;}
return jt_oPopupPluginInfo;}};var jt_sId="gmap_"+ji_Row;var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xhici=jt_o3xmngic.NewSprite(jt_odfic.jc_oIconSS_Googlemap.absid);jt_o3xhici.Set_HtmId(jt_sId);jt_o3xhici.Set_Dim(24,24);jt_o3xhici.Set_Title("Map","MAP");jt_o3xhici.Set_UrlLink(jg_oe.jc_oUrls.jc_surlGoogleMap+jt_oPopupPluginInfo.info);jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);jt_ohButton.Set_Options2(false,jt_oPopupPluginInfo);var jr_b=jt_ohButton.PrintHtml(qi_oParent);return true;};this._A3xaMgrLand();}"use strict";function A3xaDefines_RequestArea()
{this.jc_asReqArea=["Area, Region, Category","Area, Region, Categoría","Área, Região, Categoria","Area, Regione, Categoria"];this.jc_asALL=["*** ALL ***","*** TODOS ***","*** TUDO ***","*** TUTTI ***"];this.jc_ColorsBGHL_Area=["80FF80","80FF80","C0FFC0"];this.jc_ColorsBGHL_Region=["8080FF","8000FF","C0C0FF"];}
function A3xaDDItemRequestArea(ji_sKey,ji_sDescr)
{A3xaDDItem.call(this,ji_sKey,ji_sDescr);this.jm_odce=null;this.Set_DCEntity=function(ji_odce)
{this.jm_odce=ji_odce;if(this.jm_odce)
{var jt_sxeid=this.jm_odce.Get_3xXEID().Get_String();this.jm_odce.Get_3xXEID().Set_TypEntity(jg_oe.jc_oEntity.jc_Typ_Enterprise);var jt_sxeidQUR=this.jm_odce.Get_3xXEID().Get_String();this.Set_Key(jt_sxeid);var jt_oxur=new A3xaXur();if(this.jm_odce.Get_3xXEID().CanBeUnlimitedEnterprise())
{jt_oxur.Set_UrlParams(null,null,null,jg_oe.jc_oXUR.jc_QUR_QuerySBS,jt_sxeidQUR,jg_oe.jc_oXUR.jc_XURTG_Unlimited,null,null);this.Set_Value("p3x="+jt_oxur.Get_XURCC());}
else if(this.jm_odce.Get_3xXEID().CanBeSilverEnterprise())
{jt_oxur.Set_UrlParams(null,null,null,jg_oe.jc_oXUR.jc_QUR_QuerySBS,jt_sxeidQUR,jg_oe.jc_oXUR.jc_XURTG_Limited,null,null);this.Set_Value("p3x="+jt_oxur.Get_XURCC());}
else if(this.jm_odce.Get_3xXEID().CanBeSilverTopEnterprise())
{jt_oxur.Set_UrlParams(null,null,null,jg_oe.jc_oXUR.jc_QUR_QuerySBS,jt_sxeidQUR,jg_oe.jc_oXUR.jc_XURTG_Limited,null,null);this.Set_Value("p3x="+jt_oxur.Get_XURCC());}
else
{jt_oxur.Set_UrlParams(null,null,null,jg_oe.jc_oXUR.jc_QUR_QuerySBS,jt_sxeidQUR,jg_oe.jc_oXUR.jc_XURTG_Limited,null,null);this.Set_Value("p3x="+jt_oxur.Get_XURCC());}}
return true;};this.Add_TopArea=function(ji_ocg)
{if(!(ji_ocg&&ji_ocg.o3xe))
return false;if(!(this.jm_TreeLevel==1))
return false;var jt_te=ji_ocg.o3xe.Get_3xXEID().Get_TypEntity();var jt_oddigNew=new A3xaDDItemRequestArea();var jt_odceg=new A3xaDCEntity();jt_odceg.Get_3xXEID().CopyFrom(ji_ocg.o3xe);jt_odceg.Get_3xXEID().Clear_GEID();jt_odceg.Get_3xXEID().Get_3xCat2().Clear();jt_odceg.Get_3xXEID().Get_3xAZNMC2().Clear_ZNC();jt_odceg.Get_3xXEID().Get_3xPS2().Clear();jt_oddigNew.Set_DCEntity(jt_odceg);if(jt_oddigNew.IsEmpty())
return false;var jt_oddig=this.Get_Child(jt_oddigNew.Get_Key());if(!jt_oddig)
{jt_oddigNew.Set_Descr(ji_ocg.o3xe.Get_LName());jt_oddig=jt_oddigNew;if(ji_ocg.o3xsii)
jt_oddigNew.Set_Counters(ji_ocg.o3xsii.jm_siCountValue,ji_ocg.o3xsii.jm_siCountRestricted);this.Add_Child(jt_oddigNew);}
return true;};this.Add_Area=function(ji_ocg)
{if(!(ji_ocg&&ji_ocg.o3xe))
return false;if(!(this.jm_TreeLevel==1))
return false;var jt_te=ji_ocg.o3xe.Get_3xXEID().Get_TypEntity();var jt_odceg=new A3xaDCEntity();jt_odceg.Get_3xXEID().CopyFrom(ji_ocg.o3xe);jt_odceg.Get_3xXEID().Clear_GEID();jt_odceg.Get_3xXEID().Get_3xCat2().Clear();jt_odceg.Get_3xXEID().Get_3xAZNMC2().Clear_ZNC();jt_odceg.Get_3xXEID().Get_3xPS2().Clear();var jt_oddig=this.Get_Child(jt_odceg.Get_3xXEID().Get_String());if(jt_oddig)
{var jt_oddirNew=new A3xaDDItemRequestArea();var jt_odcer=new A3xaDCEntity();jt_odcer.Get_3xXEID().CopyFrom(ji_ocg.o3xe);jt_odcer.Get_3xXEID().Clear_GEID();jt_odcer.Get_3xXEID().Get_3xCat2().Clear();jt_odcer.Get_3xXEID().Get_3xAZNMC2().Clear_NC();jt_odcer.Get_3xXEID().Get_3xPS2().Clear();jt_odcer.Get_3xEBIS().Set_Order(ji_ocg.o3xe.Get_3xEBIS().Get_Order());jt_oddirNew.Set_DCEntity(jt_odcer);if(jt_oddirNew.IsEmpty())
return false;jt_oddirNew.Set_Descr(ji_ocg.o3xe.Get_LName());jt_oddig.Add_Child(jt_oddirNew);var jt_I3tbid=A3xa3Tbid();var jt_glidtoc=jt_I3tbid.makeByXEID(jt_odcer);var jt_pisdsRecord_glidtoc=null;if(jt_I3tbid.isEnterprise()&&jt_glidtoc)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("jt_I3tbid.isEnterprise(),jt_glidtoc="+jt_I3tbid.isEnterprise()+","+jt_glidtoc,"","A3xaDDItemRequestArea.Add_Area");jt_pisdsRecord_glidtoc=jg_oApp.Get_Database().Get_TOCItem(jt_glidtoc);}
jt_oddirNew.jm_bHighlight=(jt_pisdsRecord_glidtoc?true:false);if(ji_ocg.o3xsii)
jt_oddirNew.Set_Counters(ji_ocg.o3xsii.jm_siCountValue,ji_ocg.o3xsii.jm_siCountRestricted);}
return true;};this.Add_Region=function(ji_ocg)
{if(!(ji_ocg&&ji_ocg.o3xe))
return false;if(!(this.jm_TreeLevel==1))
return false;var jt_te=ji_ocg.o3xe.Get_3xXEID().Get_TypEntity();var jt_oddirNew=new A3xaDDItemRequestArea();var jt_odcer=new A3xaDCEntity();jt_odcer.Get_3xXEID().CopyFrom(ji_ocg.o3xe);jt_odcer.Get_3xXEID().Clear_GEID();jt_odcer.Get_3xXEID().Get_3xCat2().Clear();jt_odcer.Get_3xXEID().Get_3xAZNMC2().Clear_C();jt_odcer.Get_3xXEID().Get_3xPS2().Clear();jt_odcer.Get_3xEBIS().Set_Order(ji_ocg.o3xe.Get_3xEBIS().Get_Order());jt_oddirNew.Set_DCEntity(jt_odcer);if(jt_oddirNew.IsEmpty())
return false;jt_oddirNew.Set_Descr(ji_ocg.o3xe.Get_LName());this.Add_Child(jt_oddirNew);var jt_I3tbid=A3xa3Tbid();var jt_glidtoc=jt_I3tbid.makeByXEID(jt_odcer);var jt_pisdsRecord_glidtoc=null;if(jt_I3tbid.isEnterprise()&&jt_glidtoc)
{jt_pisdsRecord_glidtoc=jg_oApp.Get_Database().Get_TOCItem(jt_glidtoc);}
jt_oddirNew.jm_bHighlight=(jt_pisdsRecord_glidtoc?true:false);if(ji_ocg.o3xsii)
jt_oddirNew.Set_Counters(ji_ocg.o3xsii.jm_siCountValue,ji_ocg.o3xsii.jm_siCountRestricted);return true;};this.Add_City=function(ji_ocg)
{if(!(ji_ocg&&ji_ocg.o3xe))
return false;if(!(this.jm_TreeLevel==1))
return false;var jt_te=ji_ocg.o3xe.Get_3xXEID().Get_TypEntity();var jt_odceg=new A3xaDCEntity();jt_odceg.Get_3xXEID().CopyFrom(ji_ocg.o3xe);jt_odceg.Get_3xXEID().Clear_GEID();jt_odceg.Get_3xXEID().Get_3xCat2().Clear();jt_odceg.Get_3xXEID().Get_3xAZNMC2().Clear_C();jt_odceg.Get_3xXEID().Get_3xPS2().Clear();var jt_oddig=this.Get_Child(jt_odceg.Get_3xXEID().Get_String());if(jt_oddig)
{var jt_oddirNew=new A3xaDDItemRequestArea();var jt_odcer=new A3xaDCEntity();jt_odcer.Get_3xXEID().CopyFrom(ji_ocg.o3xe);jt_odcer.Get_3xXEID().Clear_GEID();jt_odcer.Get_3xXEID().Get_3xCat2().Clear();jt_odcer.Get_3xXEID().Get_3xPS2().Clear();jt_oddirNew.Set_DCEntity(jt_odcer);if(jt_oddirNew.IsEmpty())
return false;jt_oddirNew.Set_Descr(ji_ocg.o3xe.Get_LName());jt_oddig.Add_Child(jt_oddirNew);var jt_I3tbid=A3xa3Tbid();var jt_glidtoc=jt_I3tbid.makeByXEID(jt_odcer);var jt_pisdsRecord_glidtoc=null;if(jt_I3tbid.isEnterprise()&&jt_glidtoc)
{jt_pisdsRecord_glidtoc=jg_oApp.Get_Database().Get_TOCItem(jt_glidtoc);}
jt_oddirNew.jm_bHighlight=(jt_pisdsRecord_glidtoc?true:false);if(ji_ocg.o3xsii)
jt_oddirNew.Set_Counters(ji_ocg.o3xsii.jm_siCountValue,ji_ocg.o3xsii.jm_siCountRestricted);else if(!ji_ocg.bSelectedRegion)
jt_oddirNew.Set_Counters(-1,-1);}
return true;};}
function A3xaMgrLand_RequestArea(ji_TypEntity)
{var jt_this=this;this.jc_o3xdef=new A3xaDefines_RequestArea();this.jm_oddiRoot=null;this.jm_oddbox=null;this._A3xaMgrLand_RequestArea=function()
{if(this.IsArea())
this.jm_oddbox=new A3xaDDSelectBox(null,"RequestArea",this.jc_o3xdef.jc_asReqArea);else if(this.IsRegion())
this.jm_oddbox=new A3xaDDSelectBox(null,"RequestRegion",null);else
return false;this.jm_oddbox.NewDDItem=function(){return new A3xaDDItemRequestArea();};this.jm_oddbox.OnChange=function(ji_eddbox,ji_oddi)
{var jt_sUrlParams=ji_oddi.Get_Value();jg_oe.CanLogInfo()&&jg_oe.LogInfo("url-params="+(jt_sUrlParams||""),"","A3xaMgrLand_RequestArea.jm_oddbox.OnChange");if(!jt_sUrlParams)
return false;return jg_oApp.Get_AppXUR().OnChange_QUR(jt_sUrlParams);};if(this.IsArea())
this.jm_oddbox.Set_ColorsBGHL(this.jc_o3xdef.jc_ColorsBGHL_Area);else
this.jm_oddbox.Set_ColorsBGHL(this.jc_o3xdef.jc_ColorsBGHL_Region);return true;};this._CompareEntityOrder=function(ji_oddi_a,ji_oddi_b)
{var jt_1=1;if(!(ji_oddi_a&&ji_oddi_b))
return 0;var jt_o3xdce_a=ji_oddi_a.jm_odce;var jt_o3xdce_b=ji_oddi_b.jm_odce;if(!(jt_o3xdce_a&&jt_o3xdce_b))
return 0;var jt_oebis_a=jt_o3xdce_a.Get_3xEBIS();var jt_oebis_b=jt_o3xdce_b.Get_3xEBIS();if(!(jt_oebis_a&&jt_oebis_b))
return 0;var jt_delta=Number(jt_oebis_a.Get_Order())-Number(jt_oebis_b.Get_Order());if(jt_delta>0)
return jt_1;if(jt_delta<0)
return-jt_1;return 0;};this.jm_TypReqArea=(ji_TypEntity?ji_TypEntity:jg_oe.jc_oEntity.jc_Typ_GeoArea);this.IsArea=function(){return this.jm_TypReqArea==jg_oe.jc_oEntity.jc_Typ_GeoArea;};this.IsRegion=function(){return this.jm_TypReqArea==jg_oe.jc_oEntity.jc_Typ_GeoRegion;};this.PrintHtmlDD=function(qi_oParent)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Begin","","A3xaMgrLand_RequestArea.PrintHtmlDD");this.ConfigDD();if(!this.jm_oddbox.PrintHtml(qi_oParent))
return false;{if(!this.jm_oddbox.Refresh())
return false;}
return true;};this.ConfigDD=function()
{this.jm_oddbox.jm_sKeySelected=null;var jt_sxeidSelected=null;if(jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID()&&jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID().Get_3xAZNMC2().Get_A())
{var jt_odcSelected=new A3xaDCEntity();var jt_o3xxeid=jt_odcSelected.Get_3xXEID();jt_o3xxeid.CopyFrom(jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID());jt_o3xxeid.Clear_GEID();jt_o3xxeid.Get_3xCat2().Clear();jt_o3xxeid.Get_3xPS2().Clear();if(this.IsArea())
{jt_odcSelected.Get_3xXEID().Get_3xAZNMC2().Clear_NC();this.jm_oddbox.jm_sKeySelected=jt_odcSelected.Get_3xXEID().Get_String();jt_odcSelected.Get_3xXEID().Get_3xAZNMC2().Clear_ZNC();this.jm_oddbox.jm_sKeyGroupFocus=jt_odcSelected.Get_3xXEID().Get_String();}
else if(this.IsRegion())
{this.jm_oddbox.jm_sKeySelected=jt_odcSelected.Get_3xXEID().Get_String();jt_odcSelected.Get_3xXEID().Get_3xAZNMC2().Clear_C();this.jm_oddbox.jm_sKeyGroupFocus=jt_odcSelected.Get_3xXEID().Get_String();}
else
{}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("GroupFocus key:"+
this.jm_oddbox.jm_sKeyGroupFocus,"","A3xaMgrLand_RequestArea.ConfigDD");this.jm_oddbox.jm_bVisibleGroupFocus=false;}
this.jm_oddbox.jm_bShowCount=true;return true;};this.LoadDataDD=function()
{this.ConfigDD();if(this.IsArea())
return this._LoadDataDD_Area();else if(this.IsRegion())
return this._LoadDataDD_Region();return false;};this._LoadDataDD_Area=function()
{var jt_odb=jg_oe.Get_Database();if(!jt_odb)
{jg_oe.LogErr("Fail","Get Database","A3xaMgrLand_RequestArea::LoadDataDD");return false;}
var jt_ogldtCategory=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_Category));var jt_ogldtTopArea=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoTopArea));var jt_ogldtArea=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoArea));var jt_ogldtRegion=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoRegion));var jt_ogldtCity=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCity));if(!jt_ogldtCategory)
{jg_oe.LogErr("Fail","Get Tb Category","A3xaMgrLand_RequestArea::LoadDataDD");return false;}
if(!jt_ogldtTopArea)
{jg_oe.LogErr("Fail","Get Tb TopArea","A3xaMgrLand_RequestArea::LoadDataDD");return false;}
if(!jt_ogldtArea)
{jg_oe.LogErr("Fail","Get Tb Area","A3xaMgrLand_RequestArea::LoadDataDD");return false;}
var jt_oddiRequestArea=new A3xaDDItemRequestArea();var jt_nOfRows=jt_ogldtArea.Get_IRecordset().getCount();var jt_nOfRowsTopArea=jt_ogldtTopArea.Get_IRecordset().getCount();jt_oddiRequestArea.Set_ADescr(this.jc_o3xdef.jc_asALL);var jt_odcer=new A3xaDCEntity();jt_odcer.Get_3xXEID().Set_GEID(jg_oe.jc_oEntity.jc_Typ_Enterprise,null,null,null);jt_odcer.Get_3xXEID().Get_3xCat2().Clear();jt_odcer.Get_3xXEID().Get_3xAZNMC2().Clear();jt_odcer.Get_3xXEID().Get_3xPS2().Clear();jt_oddiRequestArea.Set_DCEntity(jt_odcer);var jt_o3xsiiLandAll=jg_oApp.Get_MgrSummary().Get_SummaryItemByLandAll();if(jt_o3xsiiLandAll)
jt_oddiRequestArea.Set_Counters(jt_o3xsiiLandAll.jm_siCountValue,jt_o3xsiiLandAll.jm_siCountRestricted);for(var i=0;i<jt_nOfRowsTopArea;i++)
{var jt_oglrTopArea=jt_ogldtTopArea.Get_IRecordset().getItem_ByIndex(i);if(!jt_oglrTopArea)
continue;if(New_A3xaAZNMC_XApp(jt_oglrTopArea.Get_3xXEID()).IsBestFromBabylon())
continue;if(!jt_oddiRequestArea.Add_TopArea({o3xe:jt_oglrTopArea,o3xsii:jg_oApp.Get_MgrSummary().Get_SummaryItemByTopArea(jt_oglrTopArea)}))
{jg_oe.LogErr("Fail","jt_oddiRequestArea.Add_TopArea()","A3xaMgrLand_RequestArea::LoadDataDD");return false;}}
for(var i=0;i<jt_nOfRows;i++)
{var jt_oglrArea=jt_ogldtArea.Get_IRecordset().getItem_ByIndex(i);if(!jt_oglrArea)
continue;if(New_A3xaAZNMC_XApp(jt_oglrArea.Get_3xXEID()).IsBestFromBabylon())
continue;if(!jt_oddiRequestArea.Add_Area({o3xe:jt_oglrArea,o3xsii:jg_oApp.Get_MgrSummary().Get_SummaryItemByArea(jt_oglrArea)}))
{jg_oe.LogErr("Fail","jt_oddiRequestArea.Add_Area()","A3xaMgrLand_RequestArea::LoadDataDD");return false;}}
jt_oddiRequestArea.Sort_Children(this._CompareEntityOrder,true);this.jm_oddiRoot=jt_oddiRequestArea;this.jm_oddbox.jm_oddiRoot=this.jm_oddiRoot;return true;};this._LoadDataDD_Region=function()
{var jt_odb=jg_oe.Get_Database();if(!jt_odb)
{jg_oe.LogErr("Fail","Get Database","A3xaMgrLand_RequestArea::LoadDataDD");return false;}
var jt_ogldtCategory=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_Category));var jt_ogldtArea=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoArea));var jt_ogldtRegion=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoRegion));var jt_ogldtCity=jt_odb.Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCity));if(!jt_ogldtCategory)
{jg_oe.LogErr("Fail","Get Tb Category","A3xaMgrLand_RequestArea::LoadDataDD");return false;}
if(!jt_ogldtArea)
{jg_oe.LogErr("Fail","Get Tb Area","A3xaMgrLand_RequestArea::LoadDataDD");return false;}
var jt_oxeidCurrent=jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID();var jt_oddiRequestArea=new A3xaDDItemRequestArea();jt_oddiRequestArea.Set_ADescr(this.jc_o3xdef.jc_asALL);var jt_odcer=new A3xaDCEntity();jt_odcer.Get_3xXEID().Set_GEID(jg_oe.jc_oEntity.jc_Typ_Enterprise,null,null,null);jt_odcer.Get_3xXEID().Get_3xCat2().Clear();jt_odcer.Get_3xXEID().Set_3xAZ(jt_oxeidCurrent);jt_odcer.Get_3xXEID().Get_3xPS2().Clear();jt_oddiRequestArea.Set_DCEntity(jt_odcer);var jt_o3xsiiAreaAll=jg_oApp.Get_MgrSummary().Get_SummaryItemByArea(jt_odcer);if(jt_o3xsiiAreaAll)
jt_oddiRequestArea.Set_Counters(jt_o3xsiiAreaAll.jm_siCountValue,jt_o3xsiiAreaAll.jm_siCountRestricted);var jt_nOfRegions=jt_ogldtRegion.Get_IRecordset().getCount();jg_oe.CanLogInfo()&&jg_oe.LogInfo("NOFRegion="+jt_nOfRegions,"","A3xaMgrLand_RequestArea.LoadDataDD");for(var ir=0;ir<jt_nOfRegions;ir++)
{var jt_oglrRegion=jt_ogldtRegion.Get_IRecordset().getItem_ByIndex(ir);jg_oe.CanLogInfo()&&jg_oe.LogInfo("Region="+
(jt_oglrRegion?jt_oglrRegion.Get_LName():""),"","A3xaMgrLand_RequestArea.LoadDataDD");if(!(jt_oglrRegion.Get_3xXEID().Get_3xAZNMC2().Get_A()&&jt_oglrRegion.Get_3xXEID().Get_3xAZNMC2().Get_Z()))
continue;if(jt_oglrRegion.Get_3xXEID().Get_3xAZNMC2().Get_A()!=jt_oxeidCurrent.Get_3xXEID().Get_3xAZNMC2().Get_A())
continue;if(jt_oglrRegion.Get_3xXEID().Get_3xAZNMC2().Get_Z()!=jt_oxeidCurrent.Get_3xXEID().Get_3xAZNMC2().Get_Z())
continue;if(!jt_oddiRequestArea.Add_Region({o3xe:jt_oglrRegion,o3xsii:jg_oApp.Get_MgrSummary().Get_SummaryItemByRegion(jt_oglrRegion)}))
{jg_oe.LogErr("Fail","jt_oddiRequestArea.Add_Region()","A3xaMgrLand_RequestArea::LoadDataDD");return false;}}
jt_oddiRequestArea.Sort_Children(this._CompareEntityOrder,false);var jt_nOfCities=jt_ogldtCity.Get_IRecordset().getCount();jg_oe.CanLogInfo()&&jg_oe.LogInfo("NOFCity="+jt_nOfCities,"","A3xaMgrLand_RequestArea.LoadDataDD");for(var ic=0;ic<jt_nOfCities;ic++)
{var jt_oglrCity=jt_ogldtCity.Get_IRecordset().getItem_ByIndex(ic);jg_oe.CanLogInfo()&&jg_oe.LogInfo("City="+
(jt_oglrCity?jt_oglrCity.Get_LName():""),"","A3xaMgrLand_RequestArea.LoadDataDD");var jt_A=jt_oglrCity.Get_3xXEID().Get_3xAZNMC2().Get_A();var jt_Z=jt_oglrCity.Get_3xXEID().Get_3xAZNMC2().Get_Z();var jt_N=jt_oglrCity.Get_3xXEID().Get_3xAZNMC2().Get_N();if(!(jt_A&&jt_Z))
continue;if(jt_A!=jt_oxeidCurrent.Get_3xXEID().Get_3xAZNMC2().Get_A())
continue;if(jt_Z!=jt_oxeidCurrent.Get_3xXEID().Get_3xAZNMC2().Get_Z())
continue;var jt_bSelectedRegion=false;if(jt_N==jt_oxeidCurrent.Get_3xXEID().Get_3xAZNMC2().Get_N())
jt_bSelectedRegion=true;if(!jt_oddiRequestArea.Add_City({o3xe:jt_oglrCity,o3xsii:jg_oApp.Get_MgrSummary().Get_SummaryItemByCity(jt_oglrCity),bSelectedRegion:jt_bSelectedRegion}))
{jg_oe.LogErr("Fail","jt_oddiRequestArea.Add_City()","A3xaMgrLand_RequestArea::LoadDataDD");return false;}}
this.jm_oddiRoot=jt_oddiRequestArea;this.jm_oddbox.jm_oddiRoot=this.jm_oddiRoot;return true;};this._A3xaMgrLand_RequestArea();}"use strict";function A3xaImageMap_Scale(ji_offsetX,ji_offsetY,ji_scaleX,ji_scaleY)
{this.jm_offsetX=Number(ji_offsetX||0);this.jm_offsetY=Number(ji_offsetY||0);this.jm_LonMin=Number(0.0);this.jm_LatMin=Number(0.0);this.jm_LonMax=Number(0.0);this.jm_LatMax=Number(0.0);this.jm_LonCentre=Number(0.0);this.jm_LatCentre=Number(0.0);this.jm_GeoBoxSideMax=Number(0.0);this.jm_bGBSMLon=false;this.jm_scaleX=Number(ji_scaleX||0.0);this.jm_scaleY=Number(ji_scaleY||0.0);this.jm_KMSide=Number(0.0);this.Set_Box=function(ji_LonMin,ji_LatMin,ji_LonMax,ji_LatMax)
{this.jm_LonMin=Number(ji_LonMin);this.jm_LatMin=Number(ji_LatMin);this.jm_LonMax=Number(ji_LonMax);this.jm_LatMax=Number(ji_LatMax);this.jm_LonCentre=((this.jm_LonMin+this.jm_LonMax)/2);this.jm_LatCentre=((this.jm_LatMin+this.jm_LatMax)/2);var jt_LonSide=Math.abs(this.jm_LonMin-this.jm_LonMax);var jt_LatSide=Math.abs(this.jm_LatMin-this.jm_LatMax);if(jt_LonSide>(jt_LatSide*1.333))
{this.jm_GeoBoxSideMax=jt_LonSide;this.jm_bGBSMLon=true;}
else
{this.jm_GeoBoxSideMax=jt_LatSide;this.jm_bGBSMLon=false;}
if(this.jm_scaleX>=0.1&&this.jm_GeoBoxSideMax<0.1)
{this.jm_GeoBoxSideMax=75.0/this.jm_scaleX;this.jm_bGBSMLon=false;}
var jt_px=222.4;this.jm_KMSide=this.jm_GeoBoxSideMax*jt_px;return true;};this.AutoScale=function()
{var jt_pxx=(this.jm_bGBSMLon?100.0:75.0);if(this.jm_GeoBoxSideMax>=0.1)
{this.jm_scaleX=jt_pxx/this.jm_GeoBoxSideMax;this.jm_scaleY=jt_pxx/this.jm_GeoBoxSideMax;}
return true;};}
function A3xaImageMap_HotSpotRect(ji_XL,ji_YU,ji_W,ji_H)
{this.jm_XL=ji_XL;this.jm_YU=ji_YU;this.jm_W=ji_W;this.jm_H=ji_H;}
function A3xaImageMap_HotSpot(ji_o3ximap_Scale,ji_odc,ji_bBig,ji_fnClick)
{var jt_this=this;this.jm_odc=null;this.jm_Lon=0;this.jm_Lat=0;this.jm_sLabel="";this.jm_bBig=(ji_bBig||false);this.jm_fnClick=(ji_fnClick||null);this.jm_o3ximap_Scale=ji_o3ximap_Scale;this.jm_X=0;this.jm_Y=0;this.jm_XLeft=0;this.jm_XRight=0;this.jm_YUp=0;this.jm_YDown=0;this.jm_Zoom=0;this._A3xaImageMap_HotSpot=function()
{this._InitCoords();};this._InitCoords=function()
{if(!ji_odc)
return false;this.jm_odc=ji_odc;this.jm_Lon=(ji_odc.Get_3xEBIS().Get_Lon()||0);this.jm_Lat=(ji_odc.Get_3xEBIS().Get_Lat()||0);this.jm_sLabel=(ji_odc.Get_LName()||"");this._CalcRect(1);return true;};this._CalcRect=function(ji_Zoom)
{var jt_zoffX=1;var jt_zoffY=1;if(ji_Zoom>1.799)
{jt_zoffX=Number(1.8);jt_zoffY=Number(1.8);}
this.jm_X=A3xaMathFloor(this.jm_o3ximap_Scale.jm_offsetX*jt_zoffX+
(Number(this.jm_Lon)-this.jm_o3ximap_Scale.jm_LonCentre)*this.jm_o3ximap_Scale.jm_scaleX*ji_Zoom);this.jm_Y=A3xaMathFloor(this.jm_o3ximap_Scale.jm_offsetY*jt_zoffY-
(Number(this.jm_Lat)-this.jm_o3ximap_Scale.jm_LatCentre)*this.jm_o3ximap_Scale.jm_scaleY*ji_Zoom);this.jm_XLeft=((this.jm_X-2)|0);if(this.jm_XLeft<0)this.jm_XLeft=0;this.jm_XRight=((this.jm_X+2)|0);if(this.jm_XRight>=200)this.jm_XRight=199;this.jm_YUp=((this.jm_Y-2)|0);if(this.jm_YUp<0)this.jm_YUp=0;this.jm_YDown=((this.jm_Y+2)|0);if(this.jm_YDown>=150)this.jm_YDown=149;return true;};this._Get_Rect=function(ji_big,ji_Zoom)
{if(ji_Zoom===1||ji_Zoom>1.0)
this._CalcRect(ji_Zoom);var jt_XL=A3xaMathFloor(this.jm_XLeft);var jt_YU=A3xaMathFloor(this.jm_YUp);if(ji_big)
return new A3xaImageMap_HotSpotRect(jt_XL-8,jt_YU+0,24,24);return new A3xaImageMap_HotSpotRect(jt_XL,jt_YU,8,8);};this.Intersect=function(ji_o3xhs)
{return!(ji_o3xhs.jm_XLeft>this.jm_XRight||ji_o3xhs.jm_XRight<this.jm_XLeft||ji_o3xhs.jm_YUp>this.jm_YDown||ji_o3xhs.jm_YDown<this.jm_YUp);};this._MakeId=function()
{if(!this.jm_odc)
return"";var jt_ide=this.jm_odc.Get_3xXEID().Get_IdEntity();if(!(jt_ide>0))
return"";return"hsicon_"+jt_ide;};this.PrintHtml=function(qi_oParent,ji_sStarUrl,ji_sbgImageId)
{if(!(qi_oParent&&qi_oParent.length))
return false;var jt_hsrectNormal=this._Get_Rect(this.jm_bBig);var jt_hsrectBig=this._Get_Rect(true);var qt_oMapHS_Div=jQuery("<div>",{id:this._MakeId(),border:"0"});qt_oMapHS_Div.css({position:"absolute",top:jt_hsrectNormal.jm_YU.toString()+"px",left:jt_hsrectNormal.jm_XL.toString()+"px"});var qt_oMapHS_Link=jQuery("<a>",{href:"javascript:void(0)",title:this.jm_sLabel});qt_oMapHS_Link.css({backgroundColor:"transparent"});if(this.jm_fnClick)
qt_oMapHS_Link.click(this.jm_fnClick);var qt_oMapHS_Icon=jQuery("<img>",{src:ji_sStarUrl,width:jt_hsrectNormal.jm_W,height:jt_hsrectNormal.jm_H,border:"0"});qt_oMapHS_Icon.hover(function()
{A3xaImageMap_HotSpotUpdIcon(jQuery(this),false,true,jt_this._Get_Rect(true,jt_this.jm_Zoom));},function()
{A3xaImageMap_HotSpotUpdIcon(jQuery(this),false,false,jt_this._Get_Rect(jt_this.jm_bBig,jt_this.jm_Zoom));});qi_oParent.append(qt_oMapHS_Div);qt_oMapHS_Div.append(qt_oMapHS_Link);qt_oMapHS_Link.append(qt_oMapHS_Icon);};this.HotSpotUpdIcon=function(ji_bBig)
{var jt_idq=this._MakeId();if(!jt_idq)
return false;this.jm_bBig=(ji_bBig||false);A3xaImageMap_HotSpotUpdIcon(jQuery("#"+jt_idq),true,this.jm_bBig,this._Get_Rect(this.jm_bBig,this.jm_Zoom));return true;};this.HotSpotZoom=function(ji_Zoom)
{var jt_idq=this._MakeId();if(!jt_idq)
return false;if(ji_Zoom)
this.jm_Zoom=ji_Zoom;else
this.jm_Zoom=0;A3xaImageMap_HotSpotUpdIcon(jQuery("#"+jt_idq),true,this.jm_bBig,this._Get_Rect(this.jm_bBig,this.jm_Zoom),true);return true;};this._A3xaImageMap_HotSpot();}
function A3xaImageMap_HotSpotUpdIcon(qi_o,ji_bDiv,ji_bBig,ji_rect,ji_Zoom,ji_bZoomOnly)
{if(!(qi_o&&qi_o.length))
return false;var qt_this=null;var qt_div=null;if(ji_bDiv)
{qt_div=qi_o;qt_this=qt_div.children().first();if(qt_this&&qt_this.length)
qt_this=qt_this.children().first();}
else
{qt_this=qi_o;qt_div=qt_this.parent().parent();}
if(!(qt_this&&qt_this.length))
return false;if(!(qt_div&&qt_div.length))
return false;qt_div.css({top:ji_rect.jm_YU.toString()+"px",left:ji_rect.jm_XL.toString()+"px"});if(ji_bZoomOnly)
return true;qt_this.width(ji_rect.jm_W);qt_this.height(ji_rect.jm_H);if(ji_bBig)
{}
else
{var qt_divOuter=qt_div.parent();if(qt_divOuter&&qt_divOuter.length)
{qt_div.detach();qt_divOuter.prepend(qt_div);}}
return true;}
function A3xaImageMap_AZNMC_ZoomContext()
{this.jm_qMapDiv_css="";this.jm_qMapImg_css="";this.Save=function(qi_oMapDiv,qi_oMapImg)
{this.jm_qMapDiv_css=qi_oMapDiv.attr("style");this.jm_qMapImg_css=qi_oMapImg.attr("style");return true;}
this.Restore=function(qi_oMapDiv,qi_oMapImg)
{qi_oMapDiv.attr("style",this.jm_qMapDiv_css);qi_oMapImg.attr("style",this.jm_qMapImg_css);return true;}}
function A3xaImageMap_AZNMC(ji_odt,ji_oxeidFilter,ji_fnZoom)
{var jt_this=this;this.jm_odt=(ji_odt||null);this.jm_oxeidFilter=(ji_oxeidFilter||new A3xaDCEntity());this.jm_ao3ximhs=null;this.jm_o3ximap_Scale=null;this.jm_AZNMC_code=null;this.jm_fnZoon=(ji_fnZoom||null);this.jm_o3xzoomctx=null;this._A3xaImageMap_AZNMC=function()
{if(this.IsLA())
{this.jm_o3ximap_Scale=new A3xaImageMap_Scale(85,75,1.5,1.5);this.jm_AZNMC_code="LA";}
else if(this.IsArea())
{this.jm_o3ximap_Scale=new A3xaImageMap_Scale(100,70,20,20);this.jm_AZNMC_code=this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Get_Code(false,false);}
else if(this.IsRegion())
{this.jm_o3ximap_Scale=new A3xaImageMap_Scale(100,70,200,200);this.jm_AZNMC_code=this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Get_Code(true,false);}};this.IsLA=function()
{if(!this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Get_A()||this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Get_A()=="L")
return true;return false;};this.IsYB=function()
{if(this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().IsEmpty()||New_A3xaAZNMC_XApp(this.jm_oxeidFilter.Get_3xXEID()).IsBestFromBabylon())
return true;return false;};this.IsArea=function()
{if(this.IsLA()||this.IsYB())
return false;if(!this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Get_Z())
return false;if(!this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Get_N())
return true;return false;};this.IsRegion=function()
{if(this.IsLA()||this.IsYB())
return false;if(this.IsArea())
return false;if(!this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Get_C())
return true;return false;};this.IsCurrent=function(ji_odc)
{if(!ji_odc)
return false;if(!jg_oApp.Get_AppXUR().Get_3xXUR())
return false;return(jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID().Get_3xAZNMC2().Matches(ji_odc.Get_3xXEID(),true,this.IsArea(),this.IsRegion()));};this._Get_OnClickCallback=function(ji_odc,ji_Row,ji_Col)
{if(!ji_odc)
return null;var jt_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBS;var jt_Single=jg_oe.jc_oXUR.jc_XURTG_Limited;var jt_odc=new A3xaDCEntity();jt_odc.CopyFrom(ji_odc,true,false,false,false);jt_odc.Get_3xXEID().Set_GEID(jg_oe.jc_oEntity.jc_Typ_Enterprise,null,null,null);jt_odc.Get_3xXEID().Get_3xCat2().Clear();if(this.IsArea())
{jt_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBS;jt_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;jt_odc.Get_3xXEID().Get_3xAZNMC2().Clear_C();}
else if(this.IsRegion())
{jt_QUR=jg_oe.jc_oXUR.jc_QUR_QuerySBS;jt_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;}
else
{jt_odc.Get_3xXEID().Get_3xAZNMC2().Clear_NC();if(jt_odc.Get_3xXEID().CanBeUnlimitedEnterprise())
jt_Single=jg_oe.jc_oXUR.jc_XURTG_Unlimited;}
jt_odc.Get_3xXEID().Get_3xPS2().Clear();var jt_sxeid=(jt_odc.Get_3xXEID().Get_String()||"");if(!jt_sxeid)
return null;var jt_oxur=new A3xaXur();jt_oxur.Set_UrlParams(null,null,null,jt_QUR,jt_sxeid,jt_Single,null,null);var qt_oMapDiv=jQuery("#"+this._MakeId(ji_Row,ji_Col));var jr_fnClick=function(ji_event)
{ji_event.stopImmediatePropagation();jt_this.OnZoom(qt_oMapDiv,-100,ji_Row,ji_Col);return jg_oApp.Get_AppXUR().OnChange_QUR("p3x="+jt_oxur.Get_XURCC());};return jr_fnClick;};this._MakeId=function(ji_Row,ji_Col)
{var jr_sQHMapId="Cell_NavMapUnk_"+ji_Row+"_"+ji_Col;if(this.IsLA()||this.IsYB())
jr_sQHMapId="Cell_NavMapLA_"+ji_Row+"_"+ji_Col;else if(this.IsArea())
jr_sQHMapId="Cell_NavMapArea_"+ji_Row+"_"+ji_Col;else if(this.IsRegion())
jr_sQHMapId="Cell_NavMapRegion_"+ji_Row+"_"+ji_Col;return jr_sQHMapId;};this.Foreground=function(ji_Row,ji_Col)
{var jt_sQHMapId=this._MakeId(ji_Row,ji_Col);var qt_oMapDiv=jQuery("#"+jt_sQHMapId);if(!(qt_oMapDiv&&qt_oMapDiv.length))
return false;var qt_oCell=qt_oMapDiv.parent();if(!(qt_oCell&&qt_oCell.length))
return false;qt_oMapDiv.detach();qt_oCell.append(qt_oMapDiv);return true;};this._Get_UrlImageMap=function(ji_bBlank)
{var jt_AZNMC_code=this.jm_AZNMC_code;if(ji_bBlank===true)
{if(this.IsArea())
jt_AZNMC_code="A0";else if(this.IsRegion())
jt_AZNMC_code="R0";else
jt_AZNMC_code="";}
if(!jt_AZNMC_code)
return"";return jg_oe.Get_3xAppMngIcons().Get_UrlImageMap(jt_AZNMC_code);};this.PrintHtml=function(qi_oCell,ji_Row,ji_Col)
{if(!this.jm_odt)
return false;var jt_sMapUrlBlank=this._Get_UrlImageMap(true);var jt_sMapUrl=this._Get_UrlImageMap();var jt_sQHMapId=this._MakeId(ji_Row,ji_Col);var qt_oMapDiv=jQuery("<div>",{id:jt_sQHMapId,width:"202",height:"152",border:"0"});qt_oMapDiv.css({position:"absolute",top:"0px",left:"2px","box-shadow":"3px 3px 10px #000000"});if(!(qt_oMapDiv&&qt_oMapDiv.length))
return false;var qt_oMapImg=jQuery("<img>",{width:"200",height:"150",border:"0"});if(!(qt_oMapImg&&qt_oMapImg.length))
return false;qt_oMapImg.error(function()
{var qt_this=jQuery(this);var jt_src=qt_this.attr("src");if(jt_src!=jt_sMapUrlBlank)
qt_this.attr("src",jt_sMapUrlBlank);});qt_oMapImg.attr("src",jt_sMapUrl);qt_oMapImg.css({position:"absolute",top:"1px",left:"1px"});qi_oCell.append(qt_oMapDiv);qt_oMapDiv.append(qt_oMapImg);var jt_CountHS=0;var jt_aoglr=null;if(ji_odt)
jt_aoglr=ji_odt.Get_IRecordset().O();if(jt_aoglr)
jt_CountHS=jt_aoglr.Get_Count();var jt_ao3ximhs=[];var jt_LonMin=0.0;var jt_LatMin=0.0;var jt_LonMax=0.0;var jt_LatMax=0.0;var jt_bdynoffinit=false;var i=0;for(i=0;i<jt_CountHS;i++)
{var jt_oglr=jt_aoglr.Get_Item_ByIndex(i);if(!jt_oglr)
continue;if(this.IsLA()||this.IsYB()||(this.IsArea()&&this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Matches(jt_oglr.Get_3xXEID(),true,false,false))||(this.IsRegion()&&this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Matches(jt_oglr.Get_3xXEID(),true,true,false)))
{var jt_lon=Number(jt_oglr.Get_3xEBIS().Get_Lon());var jt_lat=Number(jt_oglr.Get_3xEBIS().Get_Lat());if(!jt_bdynoffinit)
{jt_bdynoffinit=true;jt_LonMax=jt_LonMin=jt_lon;jt_LatMax=jt_LatMin=jt_lat;}
else
{if(jt_LonMin>jt_lon)
jt_LonMin=jt_lon;if(jt_LatMin<jt_lat)
jt_LatMin=jt_lat;if(jt_LonMax<jt_lon)
jt_LonMax=jt_lon;if(jt_LatMax>jt_lat)
jt_LatMax=jt_lat;}}}
this.jm_o3ximap_Scale.Set_Box(jt_LonMin,jt_LatMin,jt_LonMax,jt_LatMax);if(this.IsArea()||this.IsRegion())
this.jm_o3ximap_Scale.AutoScale();for(i=0;i<jt_CountHS;i++)
{var jt_oglr=jt_aoglr.Get_Item_ByIndex(i);if(!jt_oglr)
continue;if(this.IsLA()||this.IsYB()||(this.IsArea()&&this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Matches(jt_oglr.Get_3xXEID(),true,false,false))||(this.IsRegion()&&this.jm_oxeidFilter.Get_3xXEID().Get_3xAZNMC2().Matches(jt_oglr.Get_3xXEID(),true,true,false)))
{var jt_bCurrent=this.IsCurrent(jt_oglr);var jt_o3ximhs=new A3xaImageMap_HotSpot(this.jm_o3ximap_Scale,jt_oglr,jt_bCurrent,this._Get_OnClickCallback(jt_oglr,ji_Row,ji_Col));if(jt_bCurrent)
jt_ao3ximhs.unshift(jt_o3ximhs);else
jt_ao3ximhs.push(jt_o3ximhs);}}
jt_CountHS=jt_ao3ximhs.length;var qt_oMapDivHSBox=jQuery("<div>",{width:"202",height:"152",border:"0"});qt_oMapDivHSBox.css({position:"absolute",top:"0px",left:"0px"});if(!(qt_oMapDivHSBox&&qt_oMapDivHSBox.length))
return false;qt_oMapDiv.append(qt_oMapDivHSBox);qt_oMapDiv.click(function()
{return jt_this.OnZoom(jQuery(this),0,ji_Row,ji_Col);});var jt_sHSStarUrl=jg_oe.Get_3xAppMngIcons().MakeUrlIcon_Main(jg_oe.jc_oIcons.jc_sIcon_Star);for(i=0;i<jt_CountHS;i++)
jt_ao3ximhs[i].PrintHtml(qt_oMapDivHSBox,jt_sHSStarUrl,jt_sQHMapId);this.jm_ao3ximhs=jt_ao3ximhs;return true;};this._Get_QImg=function(qi_oMapDiv)
{if(!(qi_oMapDiv&&qi_oMapDiv.length))
return null;var jt_aqChildren=qi_oMapDiv.children();for(var i=0;i<jt_aqChildren.length;i++)
{var qr_oChild=jQuery(jt_aqChildren[i]);if(qr_oChild.is("img"))
return qr_oChild;}
return null;}
this.OnZoom=function(qi_oMapDiv,ji_TypZoom,ji_Row,ji_Col)
{if(!this.jm_fnZoom)
return false;if(!(this.IsRegion()||ji_TypZoom==-100))
return false;var jt_TypZoom=this.jm_fnZoom(this,qi_oMapDiv,ji_TypZoom,ji_Row,ji_Col);};this.Zoom=function(qi_oMapDiv,ji_TypZoom,ji_Row,ji_Col)
{if(!(qi_oMapDiv&&qi_oMapDiv.length))
{qi_oMapDiv=jQuery("#"+this._MakeId(ji_Row,ji_Col));if(!(qi_oMapDiv&&qi_oMapDiv.length))
return false;}
var qt_oImg=this._Get_QImg(qi_oMapDiv);if(!(qt_oImg&&qt_oImg.length))
return false;if(!this.IsRegion())
return false;if(ji_TypZoom===1)
{if(!this.jm_o3xzoomctx)
{this.jm_o3xzoomctx=new A3xaImageMap_AZNMC_ZoomContext();this.jm_o3xzoomctx.Save(qi_oMapDiv,qt_oImg);}
qi_oMapDiv.css({width:"362px",height:"272px"});qt_oImg.css({width:"360px",height:"270px"});if(this.jm_ao3ximhs)
{for(var i=0;i<this.jm_ao3ximhs.length;i++)
this.jm_ao3ximhs[i].HotSpotZoom(Number(1.8));}}
else if(ji_TypZoom===2)
{if(this.jm_ao3ximhs)
{for(var i=0;i<this.jm_ao3ximhs.length;i++)
this.jm_ao3ximhs[i].HotSpotZoom(Number(3.4));}}
else if(ji_TypZoom===-1)
{if(this.jm_o3xzoomctx)
{if(this.jm_ao3ximhs)
{for(var i=0;i<this.jm_ao3ximhs.length;i++)
this.jm_ao3ximhs[i].HotSpotZoom(1);}
this.jm_o3xzoomctx.Restore(qi_oMapDiv,qt_oImg);this.jm_o3xzoomctx=null;}}
return true;};this.ShowSelectedHotSpot=function(ji_aoxeid)
{if(!(this.jm_ao3ximhs&&ji_aoxeid))
return false;var ihs=0;var szhs=this.jm_ao3ximhs.length;var isel=0;var szsel=ji_aoxeid.length;for(ihs=0;ihs<szhs;ihs++)
{var jt_o3ximhs=this.jm_ao3ximhs[ihs];var jt_bigSelected=false;for(isel=0;isel<szsel;isel++)
{var jt_oxeidsel=ji_aoxeid[isel];if(!jt_oxeidsel)
continue;if(jt_o3ximhs.jm_odc.Get_3xXEID().Get_3xAZNMC2().Matches(jt_oxeidsel.Get_3xXEID(),false,true,true))
{jt_bigSelected=true;break;}}
jt_o3ximhs.HotSpotUpdIcon(jt_bigSelected);}
return true;};this._A3xaImageMap_AZNMC();};function A3xaImageMap_Tab(ji_sTypArea,ji_Row,ji_Col,ji_fnOver,ji_bEnable)
{var jt_this=this;this.jm_sTypArea=(ji_sTypArea||"");this.jm_Row=ji_Row;this.jm_Col=ji_Col;this.jm_fnOver=(ji_fnOver||null);this.jm_bEnable=(ji_bEnable===true);this.jm_o3xhIconInfo=null;this._A3xaImageMap_Tab=function()
{if(this.jm_sTypArea=="LA")
this.jm_o3xhIconInfo=jg_oe.Get_3xAppMngIcons().NewSprite(jg_oe.jc_oIcons.jc_oIconMS_StaticMapLA.absid);else if(this.jm_sTypArea=="Area")
this.jm_o3xhIconInfo=jg_oe.Get_3xAppMngIcons().NewSprite(jg_oe.jc_oIcons.jc_oIconMS_StaticMapArea.absid);else if(this.jm_sTypArea=="Region")
this.jm_o3xhIconInfo=jg_oe.Get_3xAppMngIcons().NewSprite(jg_oe.jc_oIcons.jc_oIconMS_StaticMapRegion.absid);if(this.jm_o3xhIconInfo)
{this.jm_o3xhIconInfo.Set_Dim(16,16);this.jm_o3xhIconInfo.Set_Options(null,false);}};this.IsSprite=function(){return this.jm_o3xhIconInfo&&this.jm_o3xhIconInfo.IsSprite();};this.Get_Id=function()
{return"Cell_ImgTabs_"+this.jm_sTypArea+"_"+this.jm_Row+"_"+this.jm_Col;};this.PrintHtml=function(qi_oParent)
{var jt_sQHTabsImg=this.Get_Id();var qt_oTabsImg=null;if(this.IsSprite())
{qt_oTabsImg=jQuery("<img>",{id:jt_sQHTabsImg,src:this.jm_o3xhIconInfo.Get_UrlImageTransparent(),width:"16",height:"16",border:"0"});qt_oTabsImg.css(this.jm_o3xhIconInfo.Get_StyleArray(jg_oe.jc_oIcons.jc_oIconMS_Status.offdis-1));qt_oTabsImg.attr("q3xStatus",jg_oe.jc_oIcons.jc_oIconMS_Status.offdis);}
if(!(qt_oTabsImg&&qt_oTabsImg.length))
return false;qt_oTabsImg.hover(function(){jt_this.UpdateStatus("ON");},function(){});qi_oParent.append(qt_oTabsImg);return true;};this.Get_Status=function(qi_oThis)
{if(!(qi_oThis&&qi_oThis.length))
{qi_oThis=jQuery("#"+this.Get_Id());if(!(qi_oThis&&qi_oThis.length))
return null;}
if(this.IsSprite())
{var jt_Status=qi_oThis.attr("q3xStatus");if(jt_Status==jg_oe.jc_oIcons.jc_oIconMS_Status.offdis||jt_Status==jg_oe.jc_oIcons.jc_oIconMS_Status.ondis)
return"DIS";if(jt_Status==jg_oe.jc_oIcons.jc_oIconMS_Status.on)
return"ON";if(jt_Status==jg_oe.jc_oIcons.jc_oIconMS_Status.off)
return"OFF";}
return null;};this._ExecUpdateStatus=function(qi_oTabsImg,ji_Status)
{if(!ji_Status)
ji_Status="DIS";if(this.IsSprite())
{var ji_rowStatus=jg_oe.jc_oIcons.jc_oIconMS_Status.offdis;if(ji_Status=="OFF")
ji_rowStatus=jg_oe.jc_oIcons.jc_oIconMS_Status.off;else if(ji_Status=="ON")
ji_rowStatus=jg_oe.jc_oIcons.jc_oIconMS_Status.on;var jt_sxposStatus=this.jm_o3xhIconInfo.Get_XPos_String(ji_rowStatus-1);qi_oTabsImg.attr("q3xStatus",ji_rowStatus);qi_oTabsImg.css({"background-position":jt_sxposStatus});}
return true;};this.UpdateStatus=function(ji_Status)
{if(!ji_Status)
return false;var jt_fnOver=this.jm_fnOver;var qt_oTabsImg=jQuery("#"+this.Get_Id());if(!(qt_oTabsImg&&qt_oTabsImg.length))
return false;var jt_StatusCur=this.Get_Status(qt_oTabsImg);if(!jt_StatusCur)
return false;if(jt_StatusCur==ji_Status)
return true;if(jt_StatusCur=="DIS"&&!this.jm_bEnable)
return false;if(ji_Status=="ON")
{if(this.jm_fnOver&&!this.jm_fnOver(this))
return false;}
return this._ExecUpdateStatus(qt_oTabsImg,ji_Status);};this._A3xaImageMap_Tab();}
function A3xaImageMap_Tabs(ji_fnChangeTab,ji_bEnableArea)
{this.jm_fnChangeTab=(ji_fnChangeTab||null);this.jm_bEnableLA=true;this.jm_bEnableArea=(ji_bEnableArea||false);this.jm_bEnableRegion=false;this.jm_KM=Number(0.0);this._MakeId=function(ji_Row,ji_Col)
{var jr_sQHTabsDiv="Cell_DivTabs_"+ji_Row+"_"+ji_Col;return jr_sQHTabsDiv;};this.PrintHtml=function(qi_oCell,ji_Row,ji_Col)
{var jt_sQHTabsDiv=this._MakeId(ji_Row,ji_Col);var qt_oTabsDiv=jQuery("<div>",{id:jt_sQHTabsDiv});qt_oTabsDiv.css({position:"relative"});qi_oCell.append(qt_oTabsDiv);var jt_fnOver=null;var jt_o3ximap_tab_LA=new A3xaImageMap_Tab("LA",ji_Row,ji_Col,jt_fnOver,true);var jt_o3ximap_tab_Area=new A3xaImageMap_Tab("Area",ji_Row,ji_Col,jt_fnOver,this.jm_bEnableArea);var jt_o3ximap_tab_Region=new A3xaImageMap_Tab("Region",ji_Row,ji_Col,jt_fnOver,this.jm_bEnableRegion);var jt_fnChangeTab=this.jm_fnChangeTab;var jt_fnOver=function(ji_o3ximap_tab)
{if(jt_fnChangeTab&&!jt_fnChangeTab(ji_o3ximap_tab))
return false;if(ji_o3ximap_tab.jm_sTypArea!="LA")
jt_o3ximap_tab_LA.UpdateStatus("OFF");if(ji_o3ximap_tab.jm_sTypArea!="Area")
jt_o3ximap_tab_Area.UpdateStatus("OFF");if(ji_o3ximap_tab.jm_sTypArea!="Region")
jt_o3ximap_tab_Region.UpdateStatus("OFF");return true;};jt_o3ximap_tab_LA.jm_fnOver=jt_fnOver;jt_o3ximap_tab_Area.jm_fnOver=jt_fnOver;jt_o3ximap_tab_Region.jm_fnOver=jt_fnOver;jt_o3ximap_tab_LA.PrintHtml(qt_oTabsDiv);jt_o3ximap_tab_Area.PrintHtml(qt_oTabsDiv);jt_o3ximap_tab_Region.PrintHtml(qt_oTabsDiv);jt_o3ximap_tab_LA.UpdateStatus("ON");jt_o3ximap_tab_Area.UpdateStatus("OFF");jt_o3ximap_tab_Region.UpdateStatus("OFF");if(this.jm_bEnableRegion)
jt_o3ximap_tab_Region.UpdateStatus("ON");else if(this.jm_bEnableArea)
jt_o3ximap_tab_Area.UpdateStatus("ON");else
jt_o3ximap_tab_LA.UpdateStatus("ON");var qt_oSpanKM=jQuery("<span>",{});qt_oTabsDiv.append(qt_oSpanKM);qt_oSpanKM.text("km="+this.jm_KM);return true;};this.RefreshKM=function(ji_KM,ji_Row,ji_Col)
{if(ji_KM<0.0)
return false;var jt_sQHTabsDiv=this._MakeId(ji_Row,ji_Col);var qt_oTabsDiv=jQuery("#"+jt_sQHTabsDiv);if(!(qt_oTabsDiv&&qt_oTabsDiv.length))
return false;var jt_aqChildren=qt_oTabsDiv.children();var qt_oSpanKM=null;for(var i=0;i<jt_aqChildren.length;i++)
{var qt_oChild=jQuery(jt_aqChildren[i]);if(qt_oChild.is("span"))
{qt_oSpanKM=qt_oChild;break;}}
if(!(qt_oSpanKM&&qt_oSpanKM.length))
return false;if(ji_KM>=0.1)
qt_oSpanKM.text(" km "+A3xaMathFloor(ji_KM*1.333)+"x"+A3xaMathFloor(ji_KM));else
qt_oSpanKM.text("");return true;};}
function A3xaImageMap_ZoomContext()
{this.jm_TypZoom=-1;this.jm_qMapIntDiv_css="";this.qm_oHook=null;this.qm_oParent=null;this.Save=function(qi_oMapIntDiv)
{this.jm_TypZoom=1;this.jm_qMapIntDiv_css=qi_oMapIntDiv.attr("style");this.qm_oHook=qi_oMapIntDiv.prev();this.qm_oParent=qi_oMapIntDiv.parent();return true;}
this.Restore=function(qi_oMapIntDiv)
{qi_oMapIntDiv.attr("style",this.jm_qMapIntDiv_css);qi_oMapIntDiv.detach();if(this.qm_oHook&&this.qm_oHook.length)
this.qm_oHook.after(qi_oMapIntDiv);else
this.qm_oParent.append(qi_oMapIntDiv);return true;}}
function A3xaMgrLand_InteractiveMap()
{var jt_this=this;this.jm_o3ximapTabs=null;this.jm_o3ximapLA=null;this.jm_o3ximapArea=null;this.jm_o3ximapRegion=null;this.jm_o3ximapzoomctx=null;this._A3xaMgrLand_InteractiveMap=function()
{var jt_oxur=jg_oApp.Get_AppXUR().Get_3xXUR().Get_3xXEID();this.jm_o3ximapTabs=new A3xaImageMap_Tabs(null);var jt_ogldtGeoArea=jg_oe.Get_Database().Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoArea));this.jm_o3ximapLA=new A3xaImageMap_AZNMC(jt_ogldtGeoArea,null);if(jt_oxur&&jt_oxur.Get_3xXEID().Get_3xAZNMC2().Get_Z()&&!New_A3xaAZNMC_XApp(jt_oxur.Get_3xXEID()).IsLA()&&!New_A3xaAZNMC_XApp(jt_oxur.Get_3xXEID()).IsBestFromBabylon())
{this.jm_o3ximapTabs.jm_bEnableArea=true;var jt_ogldtGeoRegion=jg_oe.Get_Database().Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoRegion));var jt_oxeidArea=new A3xaDCEntity();jt_oxeidArea.Get_3xXEID().Set_3xAZ(jt_oxur);this.jm_o3ximapArea=new A3xaImageMap_AZNMC(jt_ogldtGeoRegion,jt_oxeidArea);if(jt_oxur.Get_3xXEID().Get_3xAZNMC2().Get_N())
{this.jm_o3ximapTabs.jm_bEnableRegion=true;var jt_ogldtGeoCity=jg_oe.Get_Database().Get_DataTable(GLIDR(A3xa2DefineTbid().jc_GGLID_GeoCity));var jt_oxeidRegion=new A3xaDCEntity();jt_oxeidRegion.Get_3xXEID().Set_3xAZN(jt_oxur.Get_3xXEID());var jt_fnZoom=null;this.jm_o3ximapRegion=new A3xaImageMap_AZNMC(jt_ogldtGeoCity,jt_oxeidRegion,jt_fnZoom);}}};this.PrintHtml=function(qi_oCell,ji_Row,ji_Col)
{var jt_sQHMapIntDiv="Cell_DivMapint_"+ji_Row+"_"+ji_Col;var qt_oMapIntDiv=jQuery("<div>",{id:jt_sQHMapIntDiv,width:"204",height:"174",border:"0"});qt_oMapIntDiv.css({position:"relative"});qi_oCell.append(qt_oMapIntDiv);if(this.jm_o3ximapTabs)
{var jt_o3ximapLA=this.jm_o3ximapLA;var jt_o3ximapArea=this.jm_o3ximapArea;var jt_o3ximapRegion=this.jm_o3ximapRegion;this.jm_o3ximapTabs.jm_fnChangeTab=function(ji_o3ximap_tab)
{if(!ji_o3ximap_tab)
return false;if(ji_o3ximap_tab.jm_sTypArea=="LA")
{jt_o3ximapLA.Foreground(ji_Row,ji_Col);if(jt_o3ximapLA&&jt_o3ximapLA.jm_o3ximap_Scale)
jt_this.jm_o3ximapTabs.RefreshKM(0.0,ji_Row,ji_Col);return true;}
else if(ji_o3ximap_tab.jm_sTypArea=="Area")
{jt_o3ximapArea.Foreground(ji_Row,ji_Col);if(jt_o3ximapArea&&jt_o3ximapArea.jm_o3ximap_Scale)
jt_this.jm_o3ximapTabs.RefreshKM(jt_o3ximapArea.jm_o3ximap_Scale.jm_KMSide,ji_Row,ji_Col);return true;}
else if(ji_o3ximap_tab.jm_sTypArea=="Region")
{jt_o3ximapRegion.Foreground(ji_Row,ji_Col);if(jt_o3ximapRegion&&jt_o3ximapRegion.jm_o3ximap_Scale)
{var jt_KM=jt_this.jm_o3ximapRegion.jm_o3ximap_Scale.jm_KMSide;if(jt_this.jm_o3ximapzoomctx&&jt_this.jm_o3ximapzoomctx.jm_TypZoom==2)
jt_KM*=1.8/3.4;jt_this.jm_o3ximapTabs.RefreshKM(jt_KM,ji_Row,ji_Col);}
return true;}
return false;};this.jm_o3ximapTabs.PrintHtml(qt_oMapIntDiv,ji_Row,ji_Col);}
var qt_oMapDiv=jQuery("<div>",{});qt_oMapDiv.css({position:"relative"});qt_oMapIntDiv.append(qt_oMapDiv);var jt_fnZoom=function(ji_o3ximap,qi_o3ximapDiv,ji_TypZoom,ji_Row,ji_Col)
{if(!(ji_o3ximap&&qi_o3ximapDiv&&qi_o3ximapDiv.length))
return false;var qt_oMapIntDiv2=qi_o3ximapDiv.parent().parent();if(!(qt_oMapIntDiv2&&qt_oMapIntDiv2.length))
return false;if(!jt_this.jm_o3ximapzoomctx)
{if(ji_TypZoom==-100)
return false;}
if(!jt_this.jm_o3ximapzoomctx)
{jt_this.jm_o3ximapzoomctx=new A3xaImageMap_ZoomContext();jt_this.jm_o3ximapzoomctx.Save(qt_oMapIntDiv2);var jt_pos=qt_oMapIntDiv2.offset();qt_oMapIntDiv2.css({position:"absolute",left:(A3xaMathFloor(jt_pos.left)-160).toString()+"px",top:(A3xaMathFloor(jt_pos.top)-0).toString()+"px",width:"364px",height:"300px","z-index":1000,"background-color":"#FFFFFF","box-shadow":"3px 3px 10px #000000"});qt_oMapIntDiv2.detach();qt_oMapIntDiv2.appendTo("body");if(jt_this.jm_o3ximapRegion)
jt_this.jm_o3ximapRegion.Zoom(null,jt_this.jm_o3ximapzoomctx.jm_TypZoom,ji_Row,ji_Col);}
else if(jt_this.jm_o3ximapzoomctx.jm_TypZoom==1)
{jt_this.jm_o3ximapzoomctx.jm_TypZoom=2;if(jt_this.jm_o3ximapRegion)
jt_this.jm_o3ximapRegion.Zoom(null,jt_this.jm_o3ximapzoomctx.jm_TypZoom,ji_Row,ji_Col);if(jt_this.jm_o3ximapRegion&&jt_this.jm_o3ximapRegion.jm_o3ximap_Scale)
{var jt_KM=jt_this.jm_o3ximapRegion.jm_o3ximap_Scale.jm_KMSide*1.8/3.4;jt_this.jm_o3ximapTabs.RefreshKM(jt_KM,ji_Row,ji_Col);}}
else
{jt_this.jm_o3ximapzoomctx.jm_TypZoom=-1;if(jt_this.jm_o3ximapRegion)
jt_this.jm_o3ximapRegion.Zoom(null,jt_this.jm_o3ximapzoomctx.jm_TypZoom,ji_Row,ji_Col);jt_this.jm_o3ximapzoomctx.Restore(qt_oMapIntDiv2);if(jt_this.jm_o3ximapRegion&&jt_this.jm_o3ximapRegion.jm_o3ximap_Scale)
{var jt_KM=jt_this.jm_o3ximapRegion.jm_o3ximap_Scale.jm_KMSide;jt_this.jm_o3ximapTabs.RefreshKM(jt_KM,ji_Row,ji_Col);}
jt_this.jm_o3ximapzoomctx=null;}};if(this.jm_o3ximapRegion)
this.jm_o3ximapRegion.jm_fnZoom=jt_fnZoom;if(this.jm_o3ximapArea)
this.jm_o3ximapArea.jm_fnZoom=jt_fnZoom;if(this.jm_o3ximapLA)
this.jm_o3ximapLA.jm_fnZoom=jt_fnZoom;if(this.jm_o3ximapTabs.jm_bEnableRegion)
{if(this.jm_o3ximapLA)
this.jm_o3ximapLA.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapArea)
this.jm_o3ximapArea.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapRegion)
this.jm_o3ximapRegion.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapRegion&&this.jm_o3ximapRegion.jm_o3ximap_Scale)
this.jm_o3ximapTabs.RefreshKM(this.jm_o3ximapRegion.jm_o3ximap_Scale.jm_KMSide,ji_Row,ji_Col);}
else if(this.jm_o3ximapTabs.jm_bEnableArea)
{if(this.jm_o3ximapRegion)
this.jm_o3ximapRegion.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapLA)
this.jm_o3ximapLA.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapArea)
this.jm_o3ximapArea.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapArea&&this.jm_o3ximapArea.jm_o3ximap_Scale)
this.jm_o3ximapTabs.RefreshKM(this.jm_o3ximapArea.jm_o3ximap_Scale.jm_KMSide,ji_Row,ji_Col);}
else
{if(this.jm_o3ximapArea)
this.jm_o3ximapArea.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapRegion)
this.jm_o3ximapRegion.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapLA)
this.jm_o3ximapLA.PrintHtml(qt_oMapDiv,ji_Row,ji_Col);if(this.jm_o3ximapLA&&this.jm_o3ximapLA.jm_o3ximap_Scale)
this.jm_o3ximapTabs.RefreshKM(0.0,ji_Row,ji_Col);}
return true;};this.ShowSelectedHotSpot=function(ji_aoxeid)
{if(this.jm_o3ximapRegion&&!this.jm_o3ximapRegion.ShowSelectedHotSpot(ji_aoxeid))
return false;return true;};this._A3xaMgrLand_InteractiveMap();};"use strict";function A3xaDefines_ECPOrder()
{this.jc_asECPOrder=["Order","Orden","Ordem","Ordine"];this.jc_asALL=["*** ALL ***","*** TODOS ***","*** TUDO ***","*** TUTTI ***"];this.jc_ColorsBGHL=["FF6080","FF80A0","FFC0E0"];this.jc_asByScore=["Score","Puntuación","Pontuação","Punteggio"];this.jc_asByClicks=["Clicks","Clicks","Clicks","Clicks"];this.jc_asByLatestClick=["Latest Click","Últimas Click","Últimas Click","Ultimo Click"];this.jc_asByLatest=["Latest Entry","Últimas entrada","Últimas entrada","Ultimo inserito"];this.jc_asByName=["Name","Nombre","Nome","Nome"];this.jc_Opt_By=100;this.jc_Opt_ByScore=1000;this.jc_Opt_ByScoreDesc=1200;this.jc_Opt_ByTime=2000;this.jc_Opt_ByTimeDesc=2200;this.jc_Opt_ByClick=3000;this.jc_Opt_ByClickDesc=3200;this.jc_Opt_ByName=4000;this.jc_Opt_ByNameDesc=4200;this.jc_Opt_ByLatestClick=5000;this.jc_Opt_ByLatestClickDesc=5200;}
function A3xaECPOrder_DDIOption(ji_sKey,ji_sValue,ji_asDescr)
{A3xaDDItem2.call(this,ji_sKey,ji_sValue,ji_asDescr);}
function A3xaECPOrder_Mgr()
{var jt_this=this;this.jc_o3xdef=new A3xaDefines_ECPOrder();this.jm_oddi=new A3xaECPOrder_DDIOption();this.jm_oddbox=new A3xaDDSelectBox(this.jm_oddi,"ECPOrder",this.jc_o3xdef.jc_asECPOrder);this.jm_oddbox.NewDDItem=function(){return new A3xaECPOrder_DDIOption();};this.jm_oddbox.OnChange=function(ji_eddbox,ji_oddi)
{return jt_this.OnChangeDD_Order(ji_eddbox,ji_oddi);};this.OnChangeDD_Order=function(ji_eddbox,ji_oddi)
{var jt_oDatabase=jg_oe.Get_Database();var jt_ohes=jg_oe.Get_HtmlSetEntity();var jt_oxur=jg_oApp.Get_AppXUR().Get_3xXUR();var jt_oxurNew=new A3xaXur();jt_oxurNew.CopyFromXUR(jt_oxur);if(ji_oddi.Get_Value()==this.jc_o3xdef.jc_Opt_ByTimeDesc)
{if(jt_oxurNew.IsSortByTime())
return false;jt_oxurNew.SortByTime();return jg_oApp.Get_AppXUR().OnChange_QUR("p3x="+jt_oxurNew.Get_XURCC());}
else if(ji_oddi.Get_Value()==this.jc_o3xdef.jc_Opt_ByLatestClickDesc)
{if(jt_oxurNew.IsSortByLatestClick())
return false;jt_oxurNew.SortByLatestClick();return jg_oApp.Get_AppXUR().OnChange_QUR("p3x="+jt_oxurNew.Get_XURCC());}
else if(ji_oddi.Get_Value()==this.jc_o3xdef.jc_Opt_ByScoreDesc)
{if(jt_oxurNew.IsSortByScore())
return false;jt_oxurNew.SortByScore();return jg_oApp.Get_AppXUR().OnChange_QUR("p3x="+jt_oxurNew.Get_XURCC());}
else if(ji_oddi.Get_Value()==this.jc_o3xdef.jc_Opt_ByClickDesc)
{if(jt_oxurNew.IsSortByClick())
return false;jt_oxurNew.SortByClick();return jg_oApp.Get_AppXUR().OnChange_QUR("p3x="+jt_oxurNew.Get_XURCC());}
else if(ji_oddi.Get_Value()==this.jc_o3xdef.jc_Opt_ByName)
{if(jt_oxurNew.IsSortByName())
return false;jt_oxurNew.SortByName();return jg_oApp.Get_AppXUR().OnChange_QUR("p3x="+jt_oxurNew.Get_XURCC());}
else
return false;return true;};this.PrintHtmlDD=function(qi_oParent)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("Begin","","A3xaECPOrder_Mgr.PrintHtml");if(!this.jm_oddbox.PrintHtml(qi_oParent))
return false;return true;};this.LoadDataDD=function()
{this.jm_oddbox.jm_bShowCount=false;var jt_oxur=jg_oApp.Get_AppXUR().Get_3xXUR();if(jt_oxur.IsSortByClick())
this.jm_oddbox.jm_sKeySelected=this.jc_o3xdef.jc_Opt_ByClickDesc;else if(jt_oxur.IsSortByLatestClick())
this.jm_oddbox.jm_sKeySelected=this.jc_o3xdef.jc_Opt_ByLatestClickDesc;else if(jt_oxur.IsSortByTime())
this.jm_oddbox.jm_sKeySelected=this.jc_o3xdef.jc_Opt_ByTimeDesc;else if(jt_oxur.IsSortByName())
this.jm_oddbox.jm_sKeySelected=this.jc_o3xdef.jc_Opt_ByName;else
this.jm_oddbox.jm_sKeySelected=this.jc_o3xdef.jc_Opt_ByScoreDesc;this.jm_oddi.jm_bVisible=false;var jt_oddip=new A3xaECPOrder_DDIOption(this.jc_o3xdef.jc_Opt_By,this.jc_o3xdef.jc_Opt_By,this.jc_o3xdef.jc_asECPOrder);this.jm_oddi.Add_Child(jt_oddip);jt_oddip.jm_bVisible=false;jt_oddip.Add_Child(new A3xaECPOrder_DDIOption(this.jc_o3xdef.jc_Opt_ByScoreDesc,this.jc_o3xdef.jc_Opt_ByScoreDesc,this.jc_o3xdef.jc_asByScore));jt_oddip.Add_Child(new A3xaECPOrder_DDIOption(this.jc_o3xdef.jc_Opt_ByClickDesc,this.jc_o3xdef.jc_Opt_ByClickDesc,this.jc_o3xdef.jc_asByClicks));jt_oddip.Add_Child(new A3xaECPOrder_DDIOption(this.jc_o3xdef.jc_Opt_ByLatestClickDesc,this.jc_o3xdef.jc_Opt_ByLatestClickDesc,this.jc_o3xdef.jc_asByLatestClick));jt_oddip.Add_Child(new A3xaECPOrder_DDIOption(this.jc_o3xdef.jc_Opt_ByTimeDesc,this.jc_o3xdef.jc_Opt_ByTimeDesc,this.jc_o3xdef.jc_asByLatest));jt_oddip.Add_Child(new A3xaECPOrder_DDIOption(this.jc_o3xdef.jc_Opt_ByName,this.jc_o3xdef.jc_Opt_ByName,this.jc_o3xdef.jc_asByName));return true;};}"use strict";function A3xaEntity_HtmlBoxEnv_ECP()
{A3xaEntity_HtmlBoxEnv.call(this);this.jm_oecpOrder=null;this.jm_o3xAppLogger=null;this.jm_o3xMgrLand_IMap=null;}
function A3xaEntity_HtmlBox_ECPIdTag(ji_o3xehbenv)
{A3xaEntity_HtmlBox_IdTag.call(this,ji_o3xehbenv);this.jm_o3x2Clock=A3xa2Entity_HtmlBox_Clock();this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;this.PrintHtml_Score(qi_oCell,ji_Row,ji_Col);this.PrintHtml_Clicks(qi_oCell,ji_Row,ji_Col);this.jm_o3x2Clock.hbck.printHtml(qi_oCell,ji_Row,ji_Col);return true;};this.jm_o3x2Clock=A3xa2Entity_HtmlBox_Clock();}
function A3xaEntity_HtmlBox_ECPLand(ji_o3xehbenv)
{A3xaEntity_HtmlBox_Land.call(this,ji_o3xehbenv);this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{var jt_o3xtopmenu=new A3xaTopMenu();jt_o3xtopmenu.PrintHtml(qi_oCell);return this._A3xaEntity_HtmlBox_Land_PrintHtml_BoxBody(qi_oCell,ji_Row,ji_Col);};}
function A3xaEntity_HtmlBox_ECPCtrlInfo(ji_o3xehbenv)
{A3xaEntity_HtmlBox_CtrlInfo.call(this,ji_o3xehbenv);this.PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col)
{this.PrintHtml_GLMore(qi_oCell,ji_Row,ji_Col);return true;};this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{if(!this.PrintHtml_ControlIconsBox_Header(qi_oCell,ji_Row,ji_Col));var jt_ociPanel=new A3xaPanelControlIcons(null,-1,ji_Row,ji_Col,true,true);var jt_oBtnTurbo=jt_ociPanel.Get_Button("Turbo");jt_oBtnTurbo.PrintHtml(qi_oCell);this.PrintHtml_IconsQuery(qi_oCell,ji_Row,ji_Col);if(!this.PrintHtml_ControlIconsBox_Footer(qi_oCell,ji_Row,ji_Col));this.PrintHtml_IconsAdminBox(qi_oCell,ji_Row,ji_Col);this.PrintHtml_InfoIconsBox(qi_oCell,ji_Row,ji_Col);return true;};this.PrintHtml_CtrlLikes=function(qi_oCell,ji_Row,ji_Col){return true;};this.PrintHtml_IconsQuery=function(qi_oCell,ji_Row,ji_Col)
{var jt_oQueryRank_Icon=null;var jt_oQueryEntity_Icon=null;var jt_oQueryOrderby_Icon=null;var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_oxur=jg_oApp.Get_AppXUR().Get_3xXUR();if(!jt_oxur)
return false;jt_oQueryRank_Icon=jt_oxur.Get_QueryRankIcon();jt_oQueryEntity_Icon=jt_oxur.Get_QueryEntityIcon();jt_oQueryOrderby_Icon=jt_oxur.Get_QueryOrderbyIcon();if(jt_oQueryRank_Icon)
{var jt_o3xhiciRank=jt_o3xmngic.NewSprite(jt_oQueryRank_Icon.absid);jt_o3xhiciRank.Set_Dim(24,24);jt_o3xhiciRank.Set_Title(jt_oQueryRank_Icon.title,jt_oQueryRank_Icon.alt);jt_o3xhiciRank.Set_Options(null,false);var jt_ohQueryRank_Button=new A3xaSimpleButton3(jt_o3xhiciRank);jt_ohQueryRank_Button.Set_Status({on:true});jt_ohQueryRank_Button.PrintHtml(qi_oCell);}
if(jt_oQueryEntity_Icon)
{var jt_o3xhiciEntity=jt_o3xmngic.NewSprite(jt_oQueryEntity_Icon.absid);jt_o3xhiciEntity.Set_Dim(24,24);jt_o3xhiciEntity.Set_Title(jt_oQueryEntity_Icon.title,jt_oQueryEntity_Icon.alt);jt_o3xhiciEntity.Set_Options(null,false);var jt_ohQueryEntity_Button=new A3xaSimpleButton3(jt_o3xhiciEntity);jt_ohQueryEntity_Button.PrintHtml(qi_oCell);}
if(jt_oQueryOrderby_Icon)
{var jt_o3xhiciOrderby=jt_o3xmngic.NewSprite(jt_oQueryOrderby_Icon.absid);jt_o3xhiciOrderby.Set_Dim(24,24);jt_o3xhiciOrderby.Set_Title(jt_oQueryOrderby_Icon.title,jt_oQueryOrderby_Icon.alt);jt_o3xhiciOrderby.Set_Options(null,false);var jt_ohQueryOrderby_Button=new A3xaSimpleButton3(jt_o3xhiciOrderby);jt_ohQueryOrderby_Button.Set_Status({on:true});jt_ohQueryOrderby_Button.PrintHtml(qi_oCell);}
return true;};this.PrintHtml_IconsAdminBox=function(qi_oCell,ji_Row,ji_Col)
{var jr_b=true;if(!jg_oe.jm_bCanEdit)
return jr_b;if(!this.PrintHtml_IconAdmin(qi_oCell,ji_Row,ji_Col,jg_oe.jc_oXUR.jc_QUR_QueryNewEntity,false,function()
{jt_this.jm_o3xehbenv.DoEditForm({bNew:true});return false;}))
jr_b=false;return jr_b;};}
function A3xaEntity_HtmlBox_ECPIdentity(ji_o3xehbenv)
{A3xaEntity_HtmlBox_Identity.call(this,ji_o3xehbenv);this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{var jt_oCPLandButtonStatus={jm_Value:null};this.PrintHtml_FilterBox(qi_oCell,ji_Row,ji_Col,jt_oCPLandButtonStatus);var jt_ocpLand=new A3xaPanelLandIcons3(null,-1,ji_Row,jg_oe.jc_oHtml.jc_Col_LandIcons,true,ji_Col);jt_ocpLand.InitButtonsStatus(jt_oCPLandButtonStatus.jm_Value);return true;};this.PrintHtml_BoxBodyLopry=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_BoxBodyDemand=function(qi_oCell,ji_Row,ji_Col)
{return true;};this.PrintHtml_FilterBox=function(qi_oCell,ji_Row,ji_Col,ji_oCPLandButtonStatus)
{if(!this.IsValid())
return false;jg_oe.CanLogInfo()&&jg_oe.LogInfo("","","A3xaECP_Mgr.PrintHtml_FilterBox");var jt_bBestFromBabylon=New_A3xaAZNMC_XApp(this.jm_o3xehbenv.jm_oxe.Get_3xXEID()).IsBestFromBabylon();var jt_oglmLand=new A3xaMgrLand();var jt_oglmCategory=new GLMgrCategory(jt_bBestFromBabylon);if(!jt_bBestFromBabylon)
{var jt_bRequestArea=true;var jt_o3xmlra=jt_oglmLand.Get_MgrRequestArea(jg_oe.jc_oEntity.jc_Typ_GeoArea);jt_bRequestArea=jt_o3xmlra.LoadDataDD();jt_bRequestArea=(jt_bRequestArea&&jt_o3xmlra.PrintHtmlDD(qi_oCell));if(!jt_bRequestArea)
{jg_oe.LogErr("Fail","DDRequestArea","A3xaEntity_PrintHtml_SummaryBox");}
var jt_o3xmlrr=jt_oglmLand.Get_MgrRequestArea(jg_oe.jc_oEntity.jc_Typ_GeoRegion);jt_bRequestArea=(jt_bRequestArea&&jt_o3xmlrr.LoadDataDD());jt_bRequestArea=(jt_bRequestArea&&jt_o3xmlrr.PrintHtmlDD(qi_oCell));if(!jt_bRequestArea)
{jg_oe.LogErr("Fail","DDRequestRegion","A3xaEntity_PrintHtml_SummaryBox");}}
var jt_bRequestCategory=true;var jt_o3xmcr=jt_oglmCategory.Get_MgrRequestCategory();jt_bRequestCategory=jt_o3xmcr.LoadDataDD();jt_bRequestCategory=(jt_bRequestCategory&&jt_o3xmcr.PrintHtmlDD(qi_oCell));if(!jt_bRequestCategory)
{jg_oe.LogErr("Fail","DDRequestCategory","A3xaEntity_PrintHtml_SummaryBox");}
if(ji_oCPLandButtonStatus)
ji_oCPLandButtonStatus.jm_Value="OFF";this.jm_o3xehbenv.jm_oecpOrder.LoadDataDD();this.jm_o3xehbenv.jm_oecpOrder.PrintHtmlDD(qi_oCell);return true;};}
function A3xaEntity_HtmlBox_ECPInfo(ji_o3xehbenv)
{var jt_this=this;A3xaEntity_HtmlBox_Info.call(this,ji_o3xehbenv);this.PrintHtml_BoxHeader=function(qi_oCell,ji_Row,ji_Col)
{if(!this.IsValid())
return false;var jt_sDescr=this.jm_o3xehbenv.jm_oxe.Get_LDescr();if(jt_sDescr)
qi_oCell.append("<span style='color: #C0C080; text-shadow: 1px 1px 0px #000000;'><strong>"+
jt_sDescr+"</strong></span>");return true;};this.PrintHtml_BoxBody=function(qi_oCell,ji_Row,ji_Col)
{if(this.IsValid())
{if(!this.PrintHtml_SummaryBox_Header(qi_oCell,ji_Row,ji_Col))
return false;if(!this.jm_o3xehbenv.jm_o3xMgrLand_IMap)
this.jm_o3xehbenv.jm_o3xMgrLand_IMap=new A3xaMgrLand_InteractiveMap();if(this.jm_o3xehbenv.jm_o3xMgrLand_IMap)
this.jm_o3xehbenv.jm_o3xMgrLand_IMap.PrintHtml(qi_oCell,ji_Row,ji_Col);if(!this.PrintHtml_SummaryBox_Footer(qi_oCell,ji_Row,ji_Col))
return false;}
this.jm_o3xehbenv.jm_o3xAppLogger.LoadDataDD();this.jm_o3xehbenv.jm_o3xAppLogger.PrintHtmlDD(qi_oCell);return true;};}
function A3xaECP_Mgr(ji_oxe_NOTUSED,ji_o3xehf,ji_o3xehbenv)
{this.jm_bBuild_A3xaECP_Mgr=false;if(!ji_o3xehbenv)
{ji_o3xehbenv=new A3xaEntity_HtmlBoxEnv_ECP();ji_o3xehbenv.jm_o3xehf=ji_o3xehf;this.jm_bBuild_A3xaECP_Mgr=true;}
A3xaEntity_Html.call(this,null,ji_o3xehf,ji_o3xehbenv);var jt_this=this;this._A3xaECP_Mgr=function()
{if(this.jm_bBuild_A3xaECP_Mgr&&!(this.CountChildren()>0))
{var jt_o3xehbox_IdTag=new A3xaEntity_HtmlBox_ECPIdTag(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_IdTag,jg_oe.jc_oHtml.jc_Col_IdTag,true);var jt_o3xehbox_Land=new A3xaEntity_HtmlBox_ECPLand(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_Land,jg_oe.jc_oHtml.jc_Col_LandIcons,true);var jt_o3xehbox_CtrlInfo=new A3xaEntity_HtmlBox_ECPCtrlInfo(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_CtrlInfo,jg_oe.jc_oHtml.jc_Col_CtrlInfoIcons,true);var jt_o3xehbox_Identity=new A3xaEntity_HtmlBox_ECPIdentity(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_Identity,jg_oe.jc_oHtml.jc_Col_Identity,true);var jt_o3xehbox_Info=new A3xaEntity_HtmlBox_ECPInfo(this.jm_o3xehbenv);this.AddChild(jt_o3xehbox_Info,jg_oe.jc_oHtml.jc_Col_Info,true);}
if(!this.jm_o3xehbenv.jm_oecpOrder)
this.jm_o3xehbenv.jm_oecpOrder=new A3xaECPOrder_Mgr();if(!this.jm_o3xehbenv.jm_o3xAppLogger)
this.jm_o3xehbenv.jm_o3xAppLogger=new A3xaAppLogger();this.OnBuild(jt_o3xehbox_Info);};this.Set_DataSource=function(ji_oxe)
{this.jm_o3xehbenv.jm_oxe=ji_oxe;this._A3xaECP_Mgr();return true;};this.ResetECP=function()
{this.jm_o3xehbenv.jm_oecpOrder=null;this.jm_o3xehbenv.jm_o3xMgrLand_IMap=null;return true;};this.Get_AppLogger=function(){return this.jm_o3xehbenv.jm_o3xAppLogger;};this._A3xaECP_Mgr_Build=function()
{};this.ShowHtmlSelected=function()
{var jt_oheSet=jg_oe.Get_HtmlSetEntity();if(this.jm_o3xehbenv.jm_o3xMgrLand_IMap)
this.jm_o3xehbenv.jm_o3xMgrLand_IMap.ShowSelectedHotSpot(jt_oheSet.Get_XEIDRowList(true,false));return true;};this._A3xaECP_Mgr();}"use strict";function A3xaDefines_EntityInfoSet()
{}
function A3xaEntityInfo_Attributes(ji_sName,ji_bVisible,ji_Row,ji_Col)
{this.jm_sName=ji_sName;this.jm_bVisible=(ji_bVisible==true);this.jm_Row=ji_Row;this.jm_Col=ji_Col;this.jm_bSkip=false;}
function A3xaEntityInfo(ji_oglr,ji_oeifa)
{this.jm_oglr=ji_oglr;this.jm_oeifa=ji_oeifa;this.PrintHtml=function(qi_oParent){return false;};this.IsValid=function(){return this._A3xaEntityInfo_IsValid();};this._A3xaEntityInfo_IsValid=function()
{if(!this.jm_oglr)
return false;if(!(this.jm_oeifa&&this.jm_oeifa.Get_Master()))
return false;return true;};}
function A3xaEntityInfoSet(ji_oglr,ji_aoeifa,ji_ogeiattrCommon)
{this.jc_o3xdef=new A3xaDefines_EntityInfoSet();this.NewGEI=A3xaEntityInfoSet_NewGEI;this.PrintHtml=A3xaEntityInfoSet_PrintHtml;this.Set_CommonAttrib=A3xaEntityInfoSet_Set_CommonAttrib;this.IsValid=A3xaEntityInfoSet_IsValid;this.jm_oglr=ji_oglr;this.jm_aoeifa=ji_aoeifa;this.jm_ogeiattrCommon=ji_ogeiattrCommon;}
function A3xaEntityInfoSet_Set_CommonAttrib(ji_ogeiattrCommon)
{this.jm_ogeiattrCommon=ji_ogeiattrCommon;return true;}
function A3xaEntityInfoSet_IsValid()
{if(!this.jm_oglr)
return false;if(!(this.jm_aoeifa&&this.jm_aoeifa.length))
return false;for(var i=0;i<this.jm_aoeifa.length;i++)
{if(!(this.jm_aoeifa[i]&&this.jm_aoeifa[i].Get_Master()))
return false;}
return true;}
function A3xaEntityInfoSet_NewGEI(ji_oeifa)
{if(!ji_oeifa)
return null;var jt_ti=ji_oeifa.Get_Master()[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ];var jr_gei=null;if(!jt_ti)
jr_gei=null;else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Website)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Website_Button,true,jg_oe.jc_oIcons.jc_oIconSS_Url,"Website","www"),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Website_Bold,false,null,"Website","www",null,null,null,true,false)));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Video)
jr_gei=new GEISB_Video(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Video_YoutubeId,true,jg_oe.jc_oIcons.jc_oIconSS_Video,"Youtube","ytb",null,null,null,null,false,false,jg_oe.jc_oUrls.jc_surlVideoYoutube,null,true),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Video_VimeoId,true,jg_oe.jc_oIcons.jc_oIconSS_Video,"Vimeo","vmo",null,null,null,null,false,false,jg_oe.jc_oUrls.jc_surlVideoVimeo,null,true),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Video_Url,true,jg_oe.jc_oIcons.jc_oIconSS_VideoUrl,"Video Link","vdl",null,null,null,null,false,false,null,null,null)));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Facebook)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Facebook_Page,true,jg_oe.jc_oIcons.jc_oIconSS_FacebookPage,"Facebook page","fbp"),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Facebook_Group,false,jg_oe.jc_oIcons.jc_oIconSS_FacebookGroup,"Facebook group","fbg"),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Facebook_User,false,jg_oe.jc_oIcons.jc_oIconSS_FacebookUser,"Facebook profile","fbu")));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Twitter)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Twitter_Url,true,jg_oe.jc_oIcons.jc_oIconSS_Twitter,"Twitter","twt")));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_GooglePlus)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_GooglePlus_Url,true,jg_oe.jc_oIcons.jc_oIconSS_Gplus,"G+","gpl")));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Phone)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Phone_Number,true,jg_oe.jc_oIcons.jc_oIconSS_Phone,"Tel","tel",null,null,null,null,false,true)));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Skype)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Skype_Id,true,jg_oe.jc_oIcons.jc_oIconSS_Skypetxt,"Skype","skp",null,null,null,null,false,null,"skype:","?call")));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Note)
jr_gei=new GEINote(this.jm_oglr,ji_oeifa);else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Email)
jr_gei=new GEISB_Email(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Email_Addr,true,jg_oe.jc_oIcons.jc_oIconSS_Email,"Email","eml",null,null,null,null,false,null,null,null)));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Image)
jr_gei=new GEIImage(this.jm_oglr,ji_oeifa);else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Gallery)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Gallery_FlickrUrl,true,jg_oe.jc_oIcons.jc_oIconSS_Flickrtxt,"Photo Gallery","gal"),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Gallery_Flickrset,true,jg_oe.jc_oIcons.jc_oIconSS_Flickrtxt,"Flickr-set","gfs",null,null,null,null,null,null,jg_oe.jc_oUrls.jc_surlFlickrset_avenidaazul),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_A3xaGallery_FlickrGallery,true,jg_oe.jc_oIcons.jc_oIconSS_Flickrtxt,"Flickr-gallery","gfg",null,null,null,null,null,null,jg_oe.jc_oUrls.jc_surlFlickrgal_avenidaazul)));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_A3xaGallery)
jr_gei=new GEISB_Flickrset(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_A3xaGallery_Url,true,jg_oe.jc_oIcons.jc_oIconSS_A3xaGallery,"Photo Gallery A3xa","gaa"),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_A3xaGallery_Flickrset,true,jg_oe.jc_oIcons.jc_oIconSS_A3xaGallery,"Photo Gallery A3xa","gaa",null,null,null,null,null,null,jg_oe.jc_oUrls.jc_surlFlickrset_avenidaazul,null,true)));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Person)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Person_Name,true,jg_oe.jc_oIcons.jc_oIconSS_Person,"Person","psn",null,null,null,null,false,true)));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_Wiki)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Wikipedia,true,jg_oe.jc_oIcons.jc_oIconSS_Wikipedia,"Wiki Geographic","wkg"),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Wikiphoneprefix,true,jg_oe.jc_oIcons.jc_oIconSS_Wikiphoneprefix,"Wiki Phone Prefix","wkp"),new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_Wikitravel,false,jg_oe.jc_oIcons.jc_oIconSS_Wikitravel,"Wikitravel","wkt")));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_WaterCloset)
jr_gei=new GEISimpleButton(this.jm_oglr,ji_oeifa,new Array(new GEISimpleButton_Parameters2(jg_oe.jc_oEntityInfo.jc_CI_WCUrl,true,jg_oe.jc_oIcons.jc_oIconSS_WCUrl,"WC","wc")));else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_MetasystemControl)
jr_gei=null;else if(jt_ti==jg_oe.jc_oEntityInfo.jc_TI_QueryUnifiedRequest)
jr_gei=null;if(!jr_gei)
return null;if(this.jm_ogeiattrCommon)
ji_oeifa.Attach_Attributes(this.jm_ogeiattrCommon);return jr_gei;}
function A3xaEntityInfoSet_PrintHtml(qi_oParent)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo("IsValid,jm_oglr,jm_aoeifa.length: "+this.IsValid()+","+this.jm_oglr+","+this.jm_aoeifa.length,"","A3xaEntityInfoSet_PrintHtml");if(!this.IsValid())
return false;var jr_b=true;for(var i=0;i<this.jm_aoeifa.length;i++)
{var jt_oeifa=this.jm_aoeifa[i];var jt_ogei=this.NewGEI(jt_oeifa);if(jt_ogei)
{if(!jt_ogei.PrintHtml(qi_oParent))
jr_b=false;}
jg_oe.CanLogInfo()&&jg_oe.LogInfo("i,jr_b,jt_ogei,qi_oParent: "+i+","+jr_b+","+jt_ogei+","+qi_oParent,"","A3xaEntityInfoSet_PrintHtml");var jt_aMaster=jt_oeifa.Get_Master();if(jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ]==jg_oe.jc_oEntityInfo.jc_TI_A3xaGallery&&jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod]==jg_oe.jc_oEntityInfo.jc_CI_A3xaGallery_Flickrset)
{var jt_oeifaTwin=new A3xaREntityInfo(null,null);jt_oeifaTwin.CopyFrom(jt_oeifa);var jt_aMasterTwin=jt_oeifaTwin.Get_Master();jt_aMasterTwin[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ]=jg_oe.jc_oEntityInfo.jc_TI_Gallery;jt_aMasterTwin[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod]=jg_oe.jc_oEntityInfo.jc_CI_Gallery_Flickrset;var jt_ogeiTwin=this.NewGEI(jt_oeifaTwin);if(jt_ogeiTwin)
{if(!jt_ogeiTwin.PrintHtml(qi_oParent))
jr_b=false;}}}
return true;}"use strict";function GEINote(ji_oglr,ji_oeifa)
{A3xaEntityInfo.call(this,ji_oglr,ji_oeifa);this.PrintHtml=function(qi_oParent)
{if(!this.IsValid())
return false;if(!(qi_oParent&&qi_oParent.length))
return false;var jt_aMaster=this.jm_oeifa.Get_Master();var jt_ogeiattr=this.jm_oeifa.Get_Attributes();var jt_sText=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];var jt_CodInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod];if(!jt_CodInfo||jt_CodInfo==jg_oe.jc_oEntityInfo.jc_CI_Note_Text)
{qi_oParent.append("<p>"+jt_sText+"</p>");}
return true;};}"use strict";function GEIImage(ji_oglr,ji_oeifa)
{A3xaEntityInfo.call(this,ji_oglr,ji_oeifa);this.PrintHtml=function(qi_oParent)
{if(!this.IsValid())
return false;if(!(qi_oParent&&qi_oParent.length))
return false;var jt_aMaster=this.jm_oeifa.Get_Master();var jt_ogeiattr=this.jm_oeifa.Get_Attributes();var jt_TypEntity=this.jm_oglr.Get_3xXEID().Get_TypEntity();var jt_IdEntity=this.jm_oglr.Get_3xXEID().Get_IdEntity();var jt_TypInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ];var jt_IdInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id];var jt_CodInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod];var jt_sUrl=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];var jt_sId="";if(!jt_CodInfo||jt_CodInfo==jg_oe.jc_oEntityInfo.jc_CI_Image_Url)
{if(jt_ogeiattr)
{if(jt_ogeiattr.jm_bSkip)
return true;jt_ogeiattr.jm_bSkip=true;}
jt_sId="Cell_Image_";}
else if(jt_CodInfo==jg_oe.jc_oEntityInfo.jc_CI_Image_StaticMapUrl)
{if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoArea)
jt_sId="Cell_StaticMapA_";else if(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_GeoRegion)
jt_sId="Cell_StaticMapR_";else
jt_sId="Cell_StaticMapU_";}
else
jt_sId="Cell_ImageUnk_";var jt_sName="";var jt_bVisible=true;if(jt_ogeiattr)
{if(jt_ogeiattr.jm_Row>0&&jt_ogeiattr.jm_Col>0)
jt_sId+=jt_ogeiattr.jm_Row+"_"+jt_ogeiattr.jm_Col;jt_sName=jt_ogeiattr.jm_sName;jt_bVisible=jt_ogeiattr.jm_bVisible;jt_ogeiattr.jm_bVisible=false;}
var qt_oImg=jQuery("<img>",{id:jt_sId,src:jt_sUrl,alt:jt_sName,title:jt_sName,width:"200",height:"150",border:"0"});if(!(qt_oImg&&qt_oImg.length))
return false;qt_oImg.css({margin:"0px"});if(!jt_bVisible)
{qt_oImg.css("visibility","hidden");qt_oImg.css("position","absolute");}
qi_oParent.append(qt_oImg);return true;};}"use strict";function GEISimpleButton_Parameters2(ji_CodInfo,ji_bCodNull,ji_oIconFileName,ji_sTitle,ji_sAlt,ji_Width,ji_Height,ji_bTargetNew,ji_bShadow,ji_bParagraph,ji_bTipPopup,ji_sUrlLead,ji_sUrlTrail,ji_bSimplePopupPlugin)
{this.jm_CodInfo=ji_CodInfo;this.jm_bCodNull=(ji_bCodNull==true?true:false);this.jm_oIconFileName=(ji_oIconFileName||null);this.jm_sTitle=ji_sTitle;this.jm_sAlt=ji_sAlt;this.jm_Width=ji_Width;this.jm_Height=ji_Height;this.jm_bTargetNew=(ji_bTargetNew==false?false:true);this.jm_bShadow=ji_bShadow;this.jm_bParagraph=(ji_bParagraph==true?true:false);this.jm_bTipPopup=(ji_bTipPopup==true?true:false);this.jm_bSimplePopupPlugin=(ji_bSimplePopupPlugin==true?true:false);this.jm_sUrlLead="";this.jm_sUrlTrail="";if(ji_sUrlLead&&ji_sUrlLead.length)
this.jm_sUrlLead=ji_sUrlLead;if(ji_sUrlTrail&&ji_sUrlTrail.length)
this.jm_sUrlTrail=ji_sUrlTrail;}
function GEISimpleButton(ji_oglr,ji_oeifa,ji_aoParametersSB)
{A3xaEntityInfo.call(this,ji_oglr,ji_oeifa);this.jm_aoParametersSB=null;this.IsValid=function()
{if(!this._A3xaEntityInfo_IsValid())
return false;if(!(this.jm_aoParametersSB&&this.jm_aoParametersSB.length))
return false;return true;};this.Set_ParametersSB=function(ji_aoParametersSB)
{this.jm_aoParametersSB=ji_aoParametersSB;return true;};this.ConvertUrlLink=function(ji_s,ji_oParametersSB){return ji_s;};this.ConvertPopupPluginInfo=function(ji_s,ji_oParametersSB)
{return{mediatype:null,width:0,height:0,info:ji_s,fnAlt:null};};this.PrintHtml=function(qi_oParent)
{if(!this.IsValid())
return false;if(!(qi_oParent&&qi_oParent.length))
return false;var jt_aMaster=this.jm_oeifa.Get_Master();var jt_arsSlaves=this.jm_oeifa.Get_Slaves();var jt_TypEntity=this.jm_oglr.Get_3xXEID().Get_TypEntity();var jt_IdEntity=this.jm_oglr.Get_3xXEID().Get_IdEntity();var jt_TypInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ];var jt_CodInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod];var jt_IdInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id];var jt_sInfo=jt_aMaster[jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];var jr_b=false;for(var i=0;i<this.jm_aoParametersSB.length;i++)
{var jt_oParSB=this.jm_aoParametersSB[i];if((!jt_CodInfo&&jt_oParSB.jm_bCodNull)||jt_CodInfo==jt_oParSB.jm_CodInfo)
{var jt_oUrlLink=null;var jt_sTitle=null;var jt_sId=null;var jt_oPopupPluginInfo=null;if(jt_oParSB.jm_bSimplePopupPlugin)
{jt_sId=jt_TypEntity+jt_IdEntity+"_"+
jt_TypInfo+"_"+jt_CodInfo+"_"+jt_IdInfo;jt_sTitle=jt_oParSB.jm_sTitle;jt_oPopupPluginInfo=this.ConvertPopupPluginInfo(jt_sInfo,jt_oParSB);jt_oUrlLink=new A3xaUrl(this.ConvertUrlLink(jt_oParSB.jm_sUrlLead+jt_sInfo+
jt_oParSB.jm_sUrlTrail,jt_oParSB),null);}
else if(jt_oParSB.jm_bTipPopup)
{jt_sId=jt_TypEntity+jt_IdEntity+"_"+
jt_TypInfo+"_"+jt_CodInfo+"_"+jt_IdInfo;jt_sTitle=jt_sInfo;for(var s=0;jt_arsSlaves&&s<jt_arsSlaves.length;s++)
jt_sTitle+=" - "+jt_arsSlaves[s][jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];}
else
{jt_oUrlLink=new A3xaUrl(this.ConvertUrlLink(jt_oParSB.jm_sUrlLead+jt_sInfo+
jt_oParSB.jm_sUrlTrail,jt_oParSB),null);jt_sTitle=jt_oParSB.jm_sTitle;}
var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xhici=jt_o3xmngic.NewSprite(jt_oParSB.jm_oIconFileName.absid);jt_o3xhici.Set_HtmId(jt_sId);jt_o3xhici.Set_Dim(jt_oParSB.jm_Width,jt_oParSB.jm_Height,true);jt_o3xhici.Set_UrlLink(jt_oUrlLink?jt_oUrlLink.Get_Url():null,jt_oParSB.jm_bTargetNew);jt_o3xhici.Set_Title(jt_sTitle,jt_oParSB.jm_sAlt);jt_o3xhici.Set_Options(jt_oParSB.jm_bShadow,jt_oParSB.jm_bParagraph);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);jt_ohButton.Set_Options2(jt_oParSB.jm_bTipPopup,jt_oPopupPluginInfo);jr_b=jt_ohButton.PrintHtml(qi_oParent);break;}}
return jr_b;};if(ji_aoParametersSB&&ji_aoParametersSB.length)
this.jm_aoParametersSB=ji_aoParametersSB;}
function GEISB_Email(ji_oglr,ji_oeifa,ji_aoParametersSB)
{GEISimpleButton.call(this,ji_oglr,ji_oeifa,ji_aoParametersSB);this.ConvertUrlLink=function(ji_s,ji_oParametersSB){return EmailAntispam_UrlLink(ji_s);};}
function GEISB_Video(ji_oglr,ji_oeifa,ji_aoParametersSB)
{GEISimpleButton.call(this,ji_oglr,ji_oeifa,ji_aoParametersSB);this.ConvertPopupPluginInfo=function(ji_s,ji_oParametersSB)
{if(!ji_s)
return null;var jt_opdim=jg_oe.Get_PopupDim();var jr_osppc={mediatype:"",width:0,height:0,info:"",fnAlt:function()
{var jt_opdyndim=jg_oe.Get_PopupDim();if(jt_opdyndim&&jt_opdyndim.w>10&&jt_opdyndim.h>10)
{jr_osppc.width=jt_opdyndim.w;jr_osppc.height=jt_opdyndim.h;}
return jr_osppc;}};if(jt_opdim&&jt_opdim.w>10&&jt_opdim.h>10)
{jr_osppc.width=jt_opdim.w;jr_osppc.height=jt_opdim.h;jr_osppc.info=ji_s;}
if(ji_oParametersSB.jm_CodInfo==jg_oe.jc_oEntityInfo.jc_CI_Video_YoutubeId)
{jr_osppc.mediatype="youtube";return jr_osppc;}
else if(ji_oParametersSB.jm_CodInfo==jg_oe.jc_oEntityInfo.jc_CI_Video_VimeoId)
{jr_osppc.mediatype="vimeo";return jr_osppc;}
return null;};}
function GEISB_Flickrset(ji_oglr,ji_oeifa,ji_aoParametersSB)
{GEISimpleButton.call(this,ji_oglr,ji_oeifa,ji_aoParametersSB);this.ConvertPopupPluginInfo=function(ji_s,ji_oParametersSB)
{if(!ji_s)
return null;var jt_opdim=jg_oe.Get_PopupDim();var jr_osppc={mediatype:"",width:0,height:0,info:"",fnAlt:function()
{var jt_opdyndim=jg_oe.Get_PopupDim();if(jt_opdyndim&&jt_opdyndim.w>10&&jt_opdyndim.h>10)
{jr_osppc.width=jt_opdyndim.w;jr_osppc.height=jt_opdyndim.h;}
return jr_osppc;}};if(jt_opdim&&jt_opdim.w>10&&jt_opdim.h>10)
{jr_osppc.width=jt_opdim.w;jr_osppc.height=jt_opdim.h;jr_osppc.info=ji_s;}
if(ji_oParametersSB.jm_CodInfo==jg_oe.jc_oEntityInfo.jc_CI_A3xaGallery_Flickrset)
{jr_osppc.mediatype="flickrset";return jr_osppc;}
return null;};}"use strict";function A3xaPanelControlIcons(ji_aNames,ji_Rows,ji_Row,ji_Col,ji_bMasterSlave,ji_bAjax)
{if(ji_aNames==null)
ji_aNames=new Array("Like","Turbo","GLMore");A3xaEntityButtonSet2.call(this,ji_aNames,ji_Rows,ji_Row,ji_Col,ji_bMasterSlave,ji_bAjax,false);this.OnBtnChangeStatus=A3xaPanelControlIcons_OnBtnChangeStatus;this.NewSlavePanel=A3xaPanelControlIcons_NewSlavePanel;this.Get_AjaxUrlParams=A3xaPanelControlIcons_Get_AjaxUrlParams;this.Set_AjaxUrlParams=A3xaPanelControlIcons_Set_AjaxUrlParams;this.OnJQAjaxReadyFn=A3xaPanelControlIcons_OnJQAjaxReadyFn;this.AsyncChangeStatus=A3xaPanelControlIcons_AsyncChangeStatus;this.jm_sAjaxUrlParams=null;var jt_oBtnTurbo=this.Get_Button("Turbo");if(jt_oBtnTurbo&&this.IsMaster())
{var jt_o3xhici=jg_oe.Get_3xAppMngIcons().NewSprite(jg_oe.jc_oIcons.jc_oIconMS_Turbo.absid);jt_oBtnTurbo.Set_SrcInfo5(jt_o3xhici,jg_oe.Get_MgrStorage().Get_3xsTurboDescr({turbon:false,turbofull:false}).Get_AString(),jg_oe.Get_MgrStorage().Get_3xsTurboDescr({turbon:false}).Get_AString(),jg_oe.Get_MgrStorage().Get_3xsTurboDescr({turbon:true}).Get_AString(),"TRB","jg_oPanelControlIcons_Builder.OnClick",-1,"",jg_oe.Get_MgrStorage().IsTurboON()?"ON":"OFF");jt_oBtnTurbo.AttachProperties(false,false,false);}
var jt_oBtnGLMore=this.Get_Button("GLMore");if(jt_oBtnGLMore)
{var jt_o3xhici=jg_oe.Get_3xAppMngIcons().NewSprite(jg_oe.jc_oIcons.jc_oIconMS_GLMore.absid);jt_oBtnGLMore.Set_SrcInfo4(jt_o3xhici,["Expand","Expandir","Expandir","Ampliare"],"xpd","jg_oPanelControlIcons_Builder.OnClick",-1,null);jt_oBtnGLMore.Set_Properties(false);jt_oBtnGLMore.AttachProperties(this.IsMaster(),true,false);}
var jt_oBtnLike=this.Get_Button("Like");if(jt_oBtnLike)
{jt_oBtnLike.Set_Properties(false);jt_oBtnLike.AttachProperties(false,false,true);}}
function A3xaPanelControlIcons_AsyncChangeStatus(ji_Name,ji_NewStatus)
{return A3xaEntityButtonSet2_AsyncChangeStatus.call(this,ji_Name,ji_NewStatus);}
function A3xaPanelControlIcons_NewSlavePanel(ji_aNames,ji_Rows,ji_Row,ji_Col)
{if(ji_Rows==null)
ji_Rows=this.jm_Rows;if(ji_Col==null)
ji_Col=this.jm_Col;if(!(ji_Row>0&&ji_Col>0))
return null;return new A3xaPanelControlIcons(ji_aNames,ji_Rows,ji_Row,ji_Col,true,true);}
function A3xaPanelControlIcons_Set_AjaxUrlParams(ji_ButtonName,ji_sAjaxUrlParams)
{if(ji_ButtonName=="Like")
this.jm_sAjaxUrlParams=ji_sAjaxUrlParams;return true;}
function A3xaPanelControlIcons_Get_AjaxUrlParams(ji_ButtonName,ji_ButtonStatus)
{if(ji_ButtonName=="Like")
return this.jm_sAjaxUrlParams;return"";}
function A3xaPanelControlIcons_OnJQAjaxReadyFn(ji_oJQAjaxResponse,ji_o3xxeid)
{var jt_ButtonName="";var jt_ButtonStatus="";if(ji_oJQAjaxResponse)
{jt_ButtonName=ji_oJQAjaxResponse.btnname;jt_ButtonStatus=ji_oJQAjaxResponse.btnstatus;}
if(jt_ButtonName=="Like")
{if(ji_o3xxeid)
{var jt_TypEntity=ji_o3xxeid.Get_TypEntity();var jt_IdEntity=ji_o3xxeid.Get_IdEntity();var jt_LikesTotal=ji_oJQAjaxResponse.likestotal;var jt_Fan=ji_oJQAjaxResponse.fan;var jt_elemEntity=null;var div_Entity_Children=null;if(jt_IdEntity>0&&jt_TypEntity!=null&&jt_LikesTotal!=null&&jt_Fan!=null)
jt_elemEntity=document.getElementById("likes_"+jt_TypEntity+"_"+jt_IdEntity);if(jt_elemEntity!=null)
div_Entity_Children=jt_elemEntity.childNodes;for(var i=0;div_Entity_Children!=null&&i<div_Entity_Children.length;i++)
{if(div_Entity_Children.item(i).nodeName=="SPAN")
div_Entity_Children.item(i).innerHTML=jt_LikesTotal;}}}
return A3xaEntityButtonSet2_OnJQAjaxReadyFn.call(this,ji_oJQAjaxResponse,ji_o3xxeid);}
function A3xaPanelControlIcons_OnBtnChangeStatus(ji_Name,ji_btnStatus)
{if(ji_Name=="GLMore")
{var jt_bStatus=null;if(ji_btnStatus=="ON")
jt_bStatus=true;else if(ji_btnStatus=="OFF")
jt_bStatus=false;var jt_oheSet=jg_oe.Get_HtmlSetEntity();if(jt_oheSet)
jt_oheSet.OnGLMore(this.jm_Row,jt_bStatus);}
return A3xaEntityButtonSet2_OnBtnChangeStatus.call(this,ji_Name,ji_btnStatus);}
var jg_oPanelControlIcons_Builder=new A3xaPanelControlIcons_Builder();function A3xaPanelControlIcons_Builder()
{this.OnPageFooterEnd=function()
{var jt_Row=1;var jt_RowElem=document.getElementById("Row_"+jt_Row);if(jt_RowElem==null)
jt_RowElem=document.getElementById("RowS_"+jt_Row);if(jt_RowElem==null)
return true;var jt_oxeid=new A3xaDCEntity();var jt_o3xxeid=jt_oxeid.Get_3xXEID();jt_o3xxeid.Set_String(jt_RowElem.getAttribute("XEIDCode"));var jt_TypEntity=jt_o3xxeid.Get_TypEntity();if(!(jt_TypEntity==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl))
return true;var jt_oExecPanel=new A3xaPanelControlIcons(null,-1,jt_Row,jg_oe.jc_oHtml.jc_Col_CtrlInfoIcons,true,true,"");var jt_oHostReporter=jg_oe.Get_Reporter();jt_oHostReporter.Set_ExecDevice(jt_oExecPanel);var jt_bSingle=false;var jt_oxur=null;var jt_oAppXUR=jg_oApp.Get_AppXUR();if(jt_oAppXUR)
jt_oxur=jt_oAppXUR.Get_3xXUR();if(jt_oxur)
jt_bSingle=jt_oxur.IsSingle();if(jt_bSingle)
{var jt_oBtnGLMore=jt_oExecPanel.Get_Button("GLMore");if(jt_oBtnGLMore)
jt_oBtnGLMore.Set_Status("ON",false);}
if(jg_oApp.Get_WebbotName())
{var jt_oBtnTurbo=jt_oExecPanel.Get_Button("Turbo");if(jt_oBtnTurbo)
jt_oBtnTurbo.Set_Status("DIS",false);}
return true;};this.OnClick=function(ji_Name,ji_Rows,ji_Row,ji_Col,ji_ColTarget,ji_sAjaxUrlParams)
{if(!(ji_Row>0&&ji_Col>0))
return false;var jt_oHostReporter=jg_oe.Get_Reporter();var jt_oPanel=jt_oHostReporter.Get_ExecDevice();if(!(jt_oPanel&&jt_oPanel.jm_Row==ji_Row&&jt_oPanel.jm_Col==ji_Col))
{jt_oPanel=null;jt_oPanel=new A3xaPanelControlIcons(null,ji_Rows,ji_Row,ji_Col,true,true);}
if(ji_Name=="Like")
{jt_oPanel.Set_AjaxUrlParams(ji_Name,ji_sAjaxUrlParams);}
else if(ji_Name=="Turbo")
{if(!jg_oApp.OnClickTurbo(jt_oPanel.Get_ButtonStatus(ji_Name)=="ON"))
return false;}
jt_oPanel.OnButtonClick(ji_Name);return true;};this.Builder_RefreshButtonStatus=function(ji_Name)
{var jt_oHostReporter=jg_oe.Get_Reporter();var jt_oPanel=jt_oHostReporter.Get_ExecDevice();if(!jt_oPanel)
return false;jt_oPanel.Set_SlavesButtonStatus(ji_Name,"KS");return true;};}"use strict";function A3xaPanelLandIcons3(ji_aNames,ji_Rows,ji_Row,ji_Col,ji_bMasterSlave,ji_ColImages)
{if(ji_aNames==null)
ji_aNames=new Array("StaticMapA","StaticMapR");A3xaEntityButtonSet2.call(this,ji_aNames,ji_Rows,ji_Row,ji_Col,ji_bMasterSlave,false,true);this.OnBtnChangeStatus=A3xaPanelLandIcons3_OnBtnChangeStatus;this.NewSlavePanel=A3xaPanelLandIcons3_NewSlavePanel;this.ShowImage=A3xaPanelLandIcons3_ShowImage;this.InitButtonsStatus=A3xaPanelLandIcons3_InitButtonsStatus;this.jm_oImage=null;this.jm_oStaticMapA=null;this.jm_oStaticMapR=null;this.jm_ColImages=ji_ColImages;var jt_oBtnStaticMapA=this.Get_Button("StaticMapA");if(jt_oBtnStaticMapA)
{var jt_o3xhici=jg_oe.Get_3xAppMngIcons().NewSprite(jg_oe.jc_oIcons.jc_oIconMS_StaticMapArea.absid);jt_o3xhici.Set_Options=(null,false);jt_oBtnStaticMapA.Set_SrcInfo4(jt_o3xhici,["Map Area","Mapa Area","Mapa Area","Mappa Area"],"MapA","A3xaPanelLandIcons3_OnClick",ji_ColImages,"",null);jt_oBtnStaticMapA.Set_Properties(false);jt_oBtnStaticMapA.AttachProperties(this.IsMaster(),false,false);}
var jt_oBtnStaticMapR=this.Get_Button("StaticMapR");if(jt_oBtnStaticMapR)
{var jt_o3xhici=jg_oe.Get_3xAppMngIcons().NewSprite(jg_oe.jc_oIcons.jc_oIconMS_StaticMapRegion.absid);jt_o3xhici.Set_Options=(null,false);jt_oBtnStaticMapR.Set_SrcInfo4(jt_o3xhici,["Map Region","Mapa Region","Mapa Região","Mappa Regione"],"MapR","A3xaPanelLandIcons3_OnClick",ji_ColImages,"",null);jt_oBtnStaticMapR.Set_Properties(false);jt_oBtnStaticMapR.AttachProperties(this.IsMaster(),false,false);}
this.jm_oImage=new A3xaHtmlItem2("Cell_Image_"+this.jm_Row+"_"+this.jm_ColImages);this.jm_oStaticMapA=new A3xaHtmlItem2("Cell_StaticMapA_"+this.jm_Row+"_"+this.jm_ColImages);this.jm_oStaticMapR=new A3xaHtmlItem2("Cell_StaticMapR_"+this.jm_Row+"_"+this.jm_ColImages);}
function A3xaPanelLandIcons3_OnBtnChangeStatus(ji_Name,ji_btnStatus)
{this.ShowImage(ji_Name,ji_btnStatus=="ON");return A3xaEntityButtonSet2_OnBtnChangeStatus.call(this,ji_Name,ji_btnStatus);}
function A3xaPanelLandIcons3_NewSlavePanel(ji_aNames,ji_Rows,ji_Row,ji_Col)
{if(ji_Rows==null)
ji_Rows=this.jm_Rows;if(ji_Col==null)
ji_Col=this.jm_Col;var jt_ColImages=this.jm_ColImages;if(!(ji_Row>0&&ji_Col>0&&jt_ColImages>0))
return null;return new A3xaPanelLandIcons3(ji_aNames,ji_Rows,ji_Row,ji_Col,false,jt_ColImages);}
function A3xaPanelLandIcons3_ShowImage(ji_Name,ji_bShow)
{var jt_bShowImage=false;var jt_bShowStaticMapA=false;var jt_bShowStaticMapR=false;if(ji_Name=="")
jt_bShowImage=ji_bShow;else if(ji_Name=="StaticMapA")
jt_bShowStaticMapA=ji_bShow;else if(ji_Name=="StaticMapR")
jt_bShowStaticMapR=ji_bShow;else
return false;if(!(jt_bShowImage||jt_bShowStaticMapA||jt_bShowStaticMapR))
jt_bShowImage=true;if(this.jm_oImage)
this.jm_oImage.Show(jt_bShowImage);if(this.jm_oStaticMapA)
this.jm_oStaticMapA.Show(jt_bShowStaticMapA);if(this.jm_oStaticMapR)
this.jm_oStaticMapR.Show(jt_bShowStaticMapR);return true;}
function A3xaPanelLandIcons3_InitButtonsStatus(ji_Status)
{if(ji_Status)
return A3xaEntityButtonSet2_InitButtonsStatus.call(this,ji_Status);if(!this.IsValid())
return false;for(var i=0;i<this.jm_aoButtons.length;i++)
{var jt_oStaticMap=null;var jt_o=this.jm_aoButtons[i];var jt_n=jt_o.Get_Name();if(jt_n=="StaticMapA")
jt_oStaticMap=this.jm_oStaticMapA;else if(jt_n=="StaticMapR")
jt_oStaticMap=this.jm_oStaticMapR;else
continue;jt_o.Set_Status((jt_oStaticMap&&jt_oStaticMap.IsValid()?"OFF":"DIS"),false);}
return true;}
function A3xaPanelLandIcons3_OnClick(ji_Name,ji_Rows,ji_Row,ji_Col,ji_ColImages)
{if(!(ji_Row>0&&ji_Col>0))
return false;var jt_oPanel=new A3xaPanelLandIcons3(null,ji_Rows,ji_Row,ji_Col,true,ji_ColImages);jt_oPanel.OnButtonClick(ji_Name);return true;}"use strict";function A3xaEntity_HtmlFrameColumn(ji_o3xehf,ji_oxe_NOT_USED,ji_Row,ji_Col)
{this.jm_o3xehf=ji_o3xehf;this.jm_oxe=null;this.jm_Row=(ji_Row||null);this.jm_Col=(ji_Col||null);this.jm_Header_Id="CellH_"+this.jm_Row+"_"+this.jm_Col;this.jm_Body_Id="Cell_"+this.jm_Row+"_"+this.jm_Col;this.jm_Header_Width=jg_oe.jc_oHtml.jc_Col_DefaultWidth;this.jm_Header_Colspan=null;this.jm_Header_Padding=1;this.jm_Header_Align=null;this.jm_Header_VerticalAlign=null;this.jm_Header_Float=null;this.jm_Header_Height=null;this.jm_Header_Bkgnd_o3xhIconInfo=null;this.jm_Header_BkgndColor="FFFFFF";this.jm_Body_Width=jg_oe.jc_oHtml.jc_Col_DefaultWidth;this.jm_Body_Padding=1;this.jm_Body_Align=null;this.jm_Body_VerticalAlign=null;this.jm_Body_Float=null;this.jm_Body_Height=null;this.jm_Body_Bkgnd_o3xhIconInfo=null;this.jm_Body_BkgndColor="FFFFFF";this._A3xaEntity_HtmlFrameColumn=function()
{};this.Set_XtdEntity=function(ji_oxe)
{this.jm_oxe=(ji_oxe||null);var jt_sColorH=null;var jt_sColorB=null;if(this.jm_oxe)
jt_sColorH=this.jm_oxe.Get_3xEBIS().Get_Color();else
{jt_sColorH="303030";jt_sColorB="303030";}
this.Set_Options_Header_Bkgnd(jt_sColorH);if(this.jm_Col==jg_oe.jc_oHtml.jc_Col_LandIcons)
this.Set_Options_Body_Bkgnd(jt_sColorB);return true;};this.Get_Elem=function(ji_bHeader,ji_tagName,ji_IdCell)
{if(!ji_IdCell)
ji_IdCell=(ji_bHeader?this.jm_Header_Id:this.jm_Body_Id);var qt_oCell=jQuery((ji_tagName||"div")+"#"+ji_IdCell);if(!(qt_oCell&&qt_oCell.length))
return null;return qt_oCell;};this.Show=function(ji_bHeader,ji_bShow,ji_bHook)
{var ji_IdCell=(ji_bHeader?this.jm_Header_Id:this.jm_Body_Id);var qt_oCell=jQuery((ji_bHook?"div":"td")+"#"+ji_IdCell);if(!(qt_oCell&&qt_oCell.length))
return false;if(ji_bShow)
{qt_oCell.css("width",ji_bHeader?this.jm_Header_Width:this.jm_Body_Width);qt_oCell.show();}
else
{qt_oCell.css("width","0px");qt_oCell.hide();}
return true;};this.AppendHook=function(ji_bHeader,ji_IdCellFrame,ji_IdCellHook)
{if(ji_bHeader)
{var qt_oCellH_Frame=this.Get_Elem(true,"td",ji_IdCellFrame);if(qt_oCellH_Frame&&qt_oCellH_Frame.length)
{if(!ji_IdCellHook)
ji_IdCellHook=this.jm_Header_Id;var qt_oCellH_Hook=this.Get_Elem(true,null,ji_IdCellHook);if(qt_oCellH_Hook&&qt_oCellH_Hook.length)
qt_oCellH_Hook.detach();else
qt_oCellH_Hook=jQuery("<div>",{id:ji_IdCellHook});qt_oCellH_Frame.append(qt_oCellH_Hook);}}
else
{var qt_oCell_Frame=this.Get_Elem(false,"td",ji_IdCellFrame);if(qt_oCell_Frame&&qt_oCell_Frame.length)
{if(!ji_IdCellHook)
ji_IdCellHook=this.jm_Body_Id;var qt_oCell_Hook=this.Get_Elem(false,null,ji_IdCellHook);if(qt_oCell_Hook&&qt_oCell_Hook.length)
qt_oCell_Hook.detach();else
qt_oCell_Hook=jQuery("<div>",{id:ji_IdCellHook});qt_oCell_Frame.append(qt_oCell_Hook);}}
return true;};this.Set_Options_Header=function(ji_Width,ji_Padding,ji_VerticalAlign,ji_Float,ji_Height,ji_Colspan)
{if(!(ji_Width===null))
this.jm_Header_Width=ji_Width;if(!(ji_Colspan===null))
this.jm_Header_Colspan=ji_Colspan;if(!(ji_Padding===null))
this.jm_Header_Padding=ji_Padding;if(!(ji_VerticalAlign===null))
this.jm_Header_VerticalAlign=ji_VerticalAlign;if(!(ji_Float===null))
this.jm_Header_Float=ji_Float;if(!(ji_Height===null))
this.jm_Header_Height=ji_Height;return true;};this.Set_Options_Header_Bkgnd=function(ji_BkgndColor)
{if(!(ji_BkgndColor===null))
this.jm_Header_BkgndColor=ji_BkgndColor;return true;};this.Set_Options_Header_Bkgnd2=function(ji_Header_Bkgnd_o3xhIconInfo)
{this.jm_Header_Bkgnd_o3xhIconInfo=ji_Header_Bkgnd_o3xhIconInfo;return true;};this.Set_XtdOptions_Header=function(ji_Align)
{if(!(ji_Align===null))
this.jm_Header_Align=ji_Align;return true;};this.Set_Options_Body=function(ji_Width,ji_Padding,ji_VerticalAlign,ji_Float,ji_Height)
{if(!(ji_Width===null))
this.jm_Body_Width=ji_Width;if(!(ji_Padding===null))
this.jm_Body_Padding=ji_Padding;if(!(ji_VerticalAlign===null))
this.jm_Body_VerticalAlign=ji_VerticalAlign;if(!(ji_Float===null))
this.jm_Body_Float=ji_Float;if(!(ji_Height===null))
this.jm_Body_Height=ji_Height;return true;};this.Set_Options_Body_Bkgnd=function(ji_BkgndColor)
{if(!(ji_BkgndColor===null))
this.jm_Body_BkgndColor=ji_BkgndColor;return true;};this.Set_Options_Body_Bkgnd2=function(ji_Body_Bkgnd_o3xhIconInfo)
{this.jm_Body_Bkgnd_o3xhIconInfo=ji_Body_Bkgnd_o3xhIconInfo;return true;};this.Set_XtdOptions_Body=function(ji_Align)
{if(!(ji_Align===null))
this.jm_Body_Align=ji_Align;return true;};this.Init=function()
{return true;};this.PrintHtml=function(ji_bFrameHeader,ji_bUpdateOnly)
{if(!this.jm_o3xehf)
return false;if(!(this.jm_Row>0&&this.jm_Col>0))
return false;var jt_oglrCategory=null;var jt_oglrGeoArea=null;var jt_oglrGeoCountry=null;if(this.jm_oxe)
{jt_oglrCategory=this.jm_oxe.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_Category);jt_oglrGeoArea=this.jm_oxe.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoArea);jt_oglrGeoCountry=this.jm_oxe.Get_CommonLinkedRecord(jg_oe.jc_oEntity.jc_Typ_GeoCountry);}
var jt_sBgColor=null;if(jt_oglrCategory)
jt_sBgColor=jt_oglrCategory.Get_3xEBIS().Get_Color();if(this.jm_Col==jg_oe.jc_oHtml.jc_Col_IdTag)
{this.Set_Options_Header(jg_oe.jc_oHtml.jc_Col_IdTagWidth,null,null,null,null,null);this.Set_Options_Body(jg_oe.jc_oHtml.jc_Col_IdTagWidth,null,"top","none","none");this.Set_Options_Header_Bkgnd("");this.Set_XtdOptions_Header("right");this.Set_XtdOptions_Body("right");}
else if(this.jm_Col==jg_oe.jc_oHtml.jc_Col_LandIcons)
{this.Set_Options_Header(jg_oe.jc_oHtml.jc_Col_DefaultWidth,null,null,null,null,null);this.Set_Options_Body(jg_oe.jc_oHtml.jc_Col_DefaultWidth,null,"top","none","none");var jt_o3xhici=null;if(jt_oglrGeoArea)
{jt_o3xhici=jg_oe.Get_3xAppMngIcons().NewSprite(jt_oglrGeoArea.Get_3xEBIS().Get_Idsym(),jg_oe.Get_DefIcons().jm_Idsprite_AreaBkgnd);jt_o3xhici.Set_Dim(this.jm_Header_Width,null);jt_o3xhici.Set_Options(null,null,jt_oglrGeoArea.Get_3xEBIS().Get_Color()||null,true,false);}
this.Set_Options_Header_Bkgnd2(jt_o3xhici);this.Set_Options_Body_Bkgnd2(jt_o3xhici);}
else if(this.jm_Col==jg_oe.jc_oHtml.jc_Col_CtrlInfoIcons)
{this.Set_Options_Header(jg_oe.jc_oHtml.jc_Col_CtrlInfoIconsWidth,null,null,null,null,null);this.Set_Options_Body(jg_oe.jc_oHtml.jc_Col_CtrlInfoIconsWidth,null,"top","none","none");this.Set_Options_Header_Bkgnd(jt_sBgColor);}
else if(this.jm_Col==jg_oe.jc_oHtml.jc_Col_Identity)
{this.Set_Options_Header(jg_oe.jc_oHtml.jc_Col_IdentityWidth,null,null,null,null,null);this.Set_Options_Body(jg_oe.jc_oHtml.jc_Col_IdentityWidth,"1px","top","none","none");this.Set_Options_Header_Bkgnd(jt_sBgColor);}
else if(this.jm_Col==jg_oe.jc_oHtml.jc_Col_Info)
{this.Set_Options_Header("",null,null,null,null,null);this.Set_Options_Body("",null,"top","none","none");this.Set_Options_Header_Bkgnd(jt_sBgColor);}
if(ji_bFrameHeader)
{var qt_oCellH=this.Get_Elem(true,"td");if(!qt_oCellH)
{qt_oCellH=jQuery("<td>",{id:this.jm_Header_Id});if(!(qt_oCellH&&qt_oCellH.length))
return false;}
if(!this.PrintHtml_Header2(qt_oCellH,ji_bUpdateOnly))
return false;}
else
{jg_oe.CanLogInfo({VW:4})&&jg_oe.LogInfo("p1","","A3xaEntity_HtmlFrameColumn.PrintHtml(body)");var qt_oCell=this.Get_Elem(false,"td");if(!qt_oCell)
{qt_oCell=jQuery("<td>",{id:this.jm_Body_Id});if(!(qt_oCell&&qt_oCell.length))
return false;}
jg_oe.CanLogInfo({VW:4})&&jg_oe.LogInfo("p2","","A3xaEntity_HtmlFrameColumn.PrintHtml(body)");if(!this.PrintHtml_Body2(qt_oCell,ji_bUpdateOnly))
return false;}
return true;};this.PrintHtml_Header2=function(qi_oCell,ji_bUpdateOnly)
{if(this.jm_Header_Width)
qi_oCell.css("width",this.jm_Header_Width);if(this.jm_Header_Padding)
qi_oCell.css("padding",this.jm_Header_Padding);if(this.jm_Header_Align)
qi_oCell.css("text-align",this.jm_Header_Align);if(this.jm_Header_VerticalAlign)
qi_oCell.css("vertical-align",this.jm_Header_VerticalAlign);if(this.jm_Header_Float)
qi_oCell.css("float",this.jm_Header_Float);if(this.jm_Header_Height)
qi_oCell.css("height",this.jm_Header_Height);if(this.jm_Header_BkgndColor)
qi_oCell.css("background-color","#"+this.jm_Header_BkgndColor);if(this.jm_Header_Bkgnd_o3xhIconInfo)
{var jt_oStyle=this.jm_Header_Bkgnd_o3xhIconInfo.Get_StyleArray();if(this.jm_Header_Bkgnd_o3xhIconInfo.IsSprite())
{if(this.jm_Header_Bkgnd_o3xhIconInfo.Get_SpriteRow()>0&&this.jm_Header_Bkgnd_o3xhIconInfo.Get_SpriteColumn()>0)
{if(jt_oStyle)
qi_oCell.css(jt_oStyle);}}}
if(this.jm_Header_Colspan)
qi_oCell.attr("colspan",this.jm_Header_Colspan);var qt_oCellPrevH=null;var qt_oCellH=jQuery("td#"+this.jm_Header_Id);if(!(qt_oCellH&&qt_oCellH.length))
{for(var ih=this.jm_Col-1;ih>0&&!(qt_oCellPrevH&&qt_oCellPrevH.length);ih--)
qt_oCellPrevH=jQuery("#CellH_"+this.jm_Row+"_"+ih);if(qt_oCellPrevH&&qt_oCellPrevH.length)
qt_oCellPrevH.after(qi_oCell);else
{var qt_oRowH=this.jm_o3xehf.Get_ElemRowH();if(qt_oRowH&&qt_oRowH.length)
{qt_oRowH.prepend(qi_oCell);}}}
return true;};this.PrintHtml_Body2=function(qi_oCell,ji_bUpdateOnly)
{jg_oe.CanLogInfo({VW:4})&&jg_oe.LogInfo("","","A3xaEntity_HtmlFrameColumn.PrintHtml_Body2");if(this.jm_Body_Width)
qi_oCell.css("width",this.jm_Body_Width);if(this.jm_Body_Padding)
qi_oCell.css("padding",this.jm_Body_Padding);if(this.jm_Body_Align)
qi_oCell.css("text-align",this.jm_Body_Align);if(this.jm_Body_VerticalAlign)
qi_oCell.css("vertical-align",this.jm_Body_VerticalAlign);if(this.jm_Body_Float)
qi_oCell.css("float",this.jm_Body_Float);if(this.jm_Body_Height)
qi_oCell.css("height",this.jm_Body_Height);if(this.jm_Body_BkgndColor)
qi_oCell.css("background-color","#"+this.jm_Body_BkgndColor);if(this.jm_Body_Bkgnd_o3xhIconInfo)
{var jt_oStyle=this.jm_Body_Bkgnd_o3xhIconInfo.Get_StyleArray();if(this.jm_Body_Bkgnd_o3xhIconInfo.IsSprite())
{if(this.jm_Body_Bkgnd_o3xhIconInfo.Get_SpriteRow()>0&&this.jm_Body_Bkgnd_o3xhIconInfo.Get_SpriteColumn()>0)
{if(jt_oStyle)
{qi_oCell.css(jt_oStyle);}}}}
var qt_oCellPrev=null;var qt_oCell=jQuery("td#"+this.jm_Body_Id);if(!(qt_oCell&&qt_oCell.length))
{for(var ib=this.jm_Col-1;ib>0&&!(qt_oCellPrev&&qt_oCellPrev.length);ib--)
qt_oCellPrev=jQuery("#Cell_"+this.jm_Row+"_"+ib);if(qt_oCellPrev&&qt_oCellPrev.length)
qt_oCellPrev.after(qi_oCell);else
{var qt_oRow=this.jm_o3xehf.Get_ElemRow();if(qt_oRow&&qt_oRow.length)
qt_oRow.prepend(qi_oCell);}}
return true;};this._A3xaEntity_HtmlFrameColumn();}"use strict";function A3xaDefines_Html()
{this.jc_MaxViewRows=50;this.jc_Col_IdTag=1;this.jc_Col_LandIcons=2;this.jc_Col_CtrlInfoIcons=3;this.jc_Col_Identity=4;this.jc_Col_Info=5;this.jc_Col_Last=6;this.jc_Col_DefaultWidth=30;this.jc_Col_IdTagWidth=100;this.jc_Col_CtrlInfoIconsWidth=110;this.jc_Col_IdentityWidth=210;this.jc_Body_MicroWidth=500;this.jc_Body_SmallWidth=800;this.jc_Body_NormalWidth=1000;this.jc_Body_MicroWidthId=3;this.jc_Body_SmallWidthId=2;this.jc_Body_NormalWidthId=1;this.jc_PopupDim_Micro={w:200,h:150};this.jc_PopupDim_Small={w:280,h:210};this.jc_PopupDim_Normal={w:400,h:300};}
function A3xaDefines_Icons()
{this.jc_sIconExt=".png";this.jm_SpriteDivisor=10000;this.jc_ao3xSprites=A3xa3Array().O();this.jm_Idsprite_Main=2;this.jm_Absidsprite_Main=this.jm_Idsprite_Main*this.jm_SpriteDivisor;this.jc_ao3xSprites.Add_Item(this.jm_Idsprite_Main,{iddivisor:100,rows:6,cols:40,steprows:1,stepcols:10,height:144,width:960,path:"a3xam/Sprite-Main-6x40x24x7"});this.jm_Idsprite_Category=10;this.jm_Absidsprite_Category=this.jm_Idsprite_Category*this.jm_SpriteDivisor;this.jc_ao3xSprites.Add_Item(this.jm_Idsprite_Category,{iddivisor:100,rows:12,cols:10,steprows:1,stepcols:10,height:288,width:240,path:"a3xam/Sprite-Category-12x10x24x7b"});this.jm_Idsprite_CountryLA=20;this.jm_Absidsprite_CountryLA=this.jm_Idsprite_CountryLA*this.jm_SpriteDivisor;this.jc_ao3xSprites.Add_Item(this.jm_Idsprite_CountryLA,{iddivisor:100,rows:10,cols:10,steprows:1,stepcols:10,height:160,width:240,path:"a3xam/Sprite-CountryLA-10x10x16x24x7b"});this.jm_Idsprite_AreaFlag=50;this.jm_Absidsprite_AreaFlag=this.jm_Idsprite_AreaFlag*this.jm_SpriteDivisor;this.jc_ao3xSprites.Add_Item(this.jm_Idsprite_AreaFlag,{iddivisor:100,rows:10,cols:10,steprows:1,stepcols:10,height:160,width:240,path:"a3xam/Sprite-AreaFlagLA-10x10x16x24x7b"});this.jm_Idsprite_AreaBkgnd=(this.jm_Idsprite_AreaFlag+10);this.jm_Absidsprite_AreaBkgnd=this.jm_Idsprite_AreaBkgnd*this.jm_SpriteDivisor;this.jc_ao3xSprites.Add_Item(this.jm_Idsprite_AreaBkgnd,{iddivisor:100,rows:1,cols:100,steprows:1,stepcols:10,height:24,width:2400,path:"a3xam/Sprite-AreaBkgndLA-1x100x16x7b"});this.jm_Idsprite_StateLA=100;this.jm_Absidsprite_StateLA=this.jm_Idsprite_StateLA*this.jm_SpriteDivisor;this.jc_ao3xSprites.Add_Item(this.jm_Idsprite_StateLA,{iddivisor:100,rows:30,cols:40,steprows:1,stepcols:40,height:160,width:960,path:"a3xam/Sprite-StateLA-30x40x16x24x7b"});this.jc_sIconUrlBase_IMap="a3xam/";this.jc_sIconUrlBase_Main="a3xam/";this.jc_sIcon_Transparent="Icon-Transparent";this.jc_sIcon_Star="Icon-Star-32x32";this.jc_sIcon_Turista="Icon-Turista-64x96";this.jc_sIcon_Logo="Logo-84x84";this.jc_sIconUrlBase_QUR="a3xam/";this.jc_sIconPrefix_QTT="QTop10gold-icon-32x32-";this.jc_sIconPrefix_QEN="QENT-icon-32x32-";this.jc_sIconPrefix_QLE="QLE-icon-32x32-";this.jc_oIconSS_FacebookPage={absid:this.jm_Absidsprite_Main+501};this.jc_oIconSS_FacebookGroup={absid:this.jm_Absidsprite_Main+502};this.jc_oIconSS_FacebookUser={absid:this.jm_Absidsprite_Main+503};this.jc_oIconSS_Twitter={absid:this.jm_Absidsprite_Main+504};this.jc_oIconSS_Gplus={absid:this.jm_Absidsprite_Main+505};this.jc_oIconSS_Pinterest={absid:this.jm_Absidsprite_Main+506};this.jc_oIconSS_Video={absid:this.jm_Absidsprite_Main+507};this.jc_oIconSS_VideoUrl={absid:this.jm_Absidsprite_Main+508};this.jc_oIconSS_Flickr={absid:this.jm_Absidsprite_Main+509};this.jc_oIconSS_Flickrtxt={absid:this.jm_Absidsprite_Main+509};this.jc_oIconSS_Wikipedia={absid:this.jm_Absidsprite_Main+601};this.jc_oIconSS_Wikiphoneprefix={absid:this.jm_Absidsprite_Main+602};this.jc_oIconSS_Wikitravel={absid:this.jm_Absidsprite_Main+603};this.jc_oIconSS_Skype={absid:this.jm_Absidsprite_Main+604};this.jc_oIconSS_Skypetxt={absid:this.jm_Absidsprite_Main+604};this.jc_oIconSS_Url={absid:this.jm_Absidsprite_Main+605};this.jc_oIconSS_Email={absid:this.jm_Absidsprite_Main+606};this.jc_oIconSS_Phone={absid:this.jm_Absidsprite_Main+607};this.jc_oIconSS_A3xaGallery={absid:this.jm_Absidsprite_Main+608};this.jc_oIconSS_Person={absid:this.jm_Absidsprite_Main+609};this.jc_oIconSS_Sitemap={absid:this.jm_Absidsprite_Main+511};this.jc_oIconSS_WCUrl={absid:this.jm_Absidsprite_Main+512};this.jc_oIconSS_Googlemap={absid:this.jm_Absidsprite_Main+513};this.jc_oIconSS_GooglemapBW={absid:this.jm_Absidsprite_Main+514};this.jc_oIconSS_ViewEntity={absid:this.jm_Absidsprite_Main+515};this.jc_IconMS_OffsetAdmin=this.jm_Absidsprite_Main+531;this.jc_oIconSS_NewEntity={absid:this.jc_IconMS_OffsetAdmin+0};this.jc_oIconSS_NewSEntity={absid:this.jc_IconMS_OffsetAdmin+1};this.jc_oIconSS_EditEntity={absid:this.jc_IconMS_OffsetAdmin+2};this.jc_oIconSS_DeleteEntity={absid:this.jc_IconMS_OffsetAdmin+4};this.jc_oIconSS_NewEntityInfo={absid:this.jc_IconMS_OffsetAdmin+100};this.jc_oIconSS_EditEntityInfo={absid:this.jc_IconMS_OffsetAdmin+102};this.jc_oIconSS_DeleteEntityInfo={absid:this.jc_IconMS_OffsetAdmin+104};this.jc_IconMS_OffsetMain=this.jm_Absidsprite_Main+101;this.jc_oIconMS_Turbo={absid:this.jc_IconMS_OffsetMain+0};this.jc_oIconMS_TurboX={absid:this.jc_IconMS_OffsetMain+1};this.jc_oIconMS_TurboDW={absid:this.jc_IconMS_OffsetMain+2};this.jc_oIconMS_TurboUP={absid:this.jc_IconMS_OffsetMain+2};this.jc_oIconMS_TurboFY={absid:this.jc_IconMS_OffsetMain+3};this.jc_oIconMS_TurboFB={absid:this.jc_IconMS_OffsetMain+3};this.jc_oIconMS_TurboFR={absid:this.jc_IconMS_OffsetMain+4};this.jc_oIconMS_TurboFG={absid:this.jc_IconMS_OffsetMain+4};this.jc_oIconMS_GLMore={absid:this.jc_IconMS_OffsetMain+6};this.jc_oIconMS_GLMoreX={absid:this.jc_IconMS_OffsetMain+7};this.jc_oIconMS_Like={absid:this.jc_IconMS_OffsetMain+8};this.jc_oIconMS_LikeX={absid:this.jc_IconMS_OffsetMain+9};this.jc_IconMS_OffsetStaticMaps=this.jm_Absidsprite_Main+111;this.jc_oIconMS_StaticMapLA={absid:this.jc_IconMS_OffsetStaticMaps+0};this.jc_oIconMS_StaticMapLAX={absid:this.jc_IconMS_OffsetStaticMaps+1};this.jc_oIconMS_StaticMapArea={absid:this.jc_IconMS_OffsetStaticMaps+2};this.jc_oIconMS_StaticMapAreaX={absid:this.jc_IconMS_OffsetStaticMaps+3};this.jc_oIconMS_StaticMapRegion={absid:this.jc_IconMS_OffsetStaticMaps+4};this.jc_oIconMS_StaticMapRegionX={absid:this.jc_IconMS_OffsetStaticMaps+5};this.jc_IconMS_OffsetTopMenu=this.jm_Absidsprite_Main+121;this.jc_oIconMS_TopMenu_Home={absid:this.jc_IconMS_OffsetTopMenu+0,title:"Home",alt:"HOM"};this.jc_oIconMS_TopMenu_LA={absid:this.jc_IconMS_OffsetTopMenu+1,title:"Latin America",alt:"LA0"};this.jc_oIconMS_TopMenu_YB={absid:this.jc_IconMS_OffsetTopMenu+2,title:"Best from Babylon",alt:"YB0"};this.jc_oIconMS_TopMenu_D3={absid:this.jc_IconMS_OffsetTopMenu+3,title:"Third",alt:"D30"};this.jc_IconMS_OffsetQuery=this.jm_Absidsprite_Main+131;this.jc_oIconMS_QueryRank_T10Diamond={absid:this.jc_IconMS_OffsetQuery+0,title:"Top10 Diamond",alt:"TTD"};this.jc_oIconMS_QueryRank_T10Gold={absid:this.jc_IconMS_OffsetQuery+1,title:"Top10 Gold",alt:"TTG"};this.jc_oIconMS_QueryRank_T10Silver={absid:this.jc_IconMS_OffsetQuery+2,title:"Top10 Silver",alt:"TTS"};this.jc_oIconMS_QueryRank_T10Bronze={absid:this.jc_IconMS_OffsetQuery+3,title:"Top10 Bronze",alt:"TTB"};this.jc_oIconMS_QueryRank_T10Iron={absid:this.jc_IconMS_OffsetQuery+4,title:"Top10 Iron",alt:"TTI"};this.jc_oIconMS_QueryRank_List={absid:this.jc_IconMS_OffsetQuery+5,title:"Full List",alt:"TTL"};this.jc_oIconMS_QueryOrderby_Latest={absid:this.jc_IconMS_OffsetQuery+6,title:"Latest",alt:"TTT"};this.jc_oIconMS_XStatus={norm:1,xtra:2,dwup:3,fyfb:4,frfg:5};this.jc_oIconMS_Status={offdis:1,off:2,ondis:3,on:4};this.jc_oIconMS_StatusXtra={offover:1,offclick:2,onover:3,onclick:4};this.jc_oIconCat_Enterprise={absid:this.jm_Absidsprite_Category+702,title:"Enterprise",alt:"ETR"};this.jc_oIconCat_Area={absid:this.jm_Absidsprite_Category+802,title:"Area",alt:"ARA"};this.jc_oIconCat_Region={absid:this.jm_Absidsprite_Category+803,title:"Region",alt:"RGN"};this.jc_oIconCat_City={absid:this.jm_Absidsprite_Category+808,title:"City",alt:"CTY"};this.jc_oIconCat_Country={absid:this.jm_Absidsprite_Category+902,title:"Country",alt:"CNR"};this.jc_oIconCat_State={absid:this.jm_Absidsprite_Category+903,title:"State",alt:"STA"};}
function A3pqhfpair()
{this.qoh=null;this.qob=null;this.bstick=false;this.IsEOT=function(){return!(this.qoh&&this.qoh.length);};this.HasBody=function(){return this.qob&&this.qob.length;};this.IsStick=function(){return this.bstick;};this.QPClear=function()
{this.qoh=null;this.qob=null;this.bstick=false;return true;};}
function A3xaEntity_HtmlFrame(ji_RowHF,ji_bLoad)
{A3pqhfpair.call(this);this.jm_RowHF=(ji_RowHF||null);this.jm_oxeid=null;this.jm_oxe=null;this.jm_ao3xehc=[];this.jm_IdNarrowView=null;this.Set_XtdEntity=function(ji_oxe,ji_bStick)
{this.jm_oxe=(ji_oxe||null);if(this.jm_oxe)
{this.jm_oxeid=this.jm_oxe.Get_3xXEID();if(this.jm_oxeid.Get_TypEntity()==jg_oe.jc_oEntity.jc_Typ_MetaSystemControl)
this.bstick=true;}
if(ji_bStick===true)
this.bstick=true;else if(ji_bStick===false)
this.bstick=false;return true;};this.Get_XtdEntity=function(){return this.jm_oxe;};this.Get_3xXEID=function(){return this.jm_oxeid||null;};this.ReplaceId=function(ji_RowHF)
{if(this.IsEOT())
return false;this.qoh.attr("id","RowH_"+ji_RowHF);this.qob.attr("id",(this.IsStick()?"RowS_":"Row_")+ji_RowHF);this.jm_RowHF=ji_RowHF;return true;};this.Clear=function()
{this.jm_oxeid=null;this.QPClear();return true;};this.Get_QItemPair=function(ji_bQReload)
{var qt_oHeader=this.qoh;var qt_oBody=this.qob;var jt_bStick=this.bstick;if(ji_bQReload)
{qt_oHeader=jQuery("#RowH_"+this.jm_RowHF);qt_oBody=jQuery("#Row_"+this.jm_RowHF);if(!(qt_oBody&&qt_oBody.length))
{qt_oBody=jQuery("#RowS_"+this.jm_RowHF);jt_bStick=true;}}
if(!(qt_oHeader&&qt_oHeader.length))
return{};if(!(qt_oBody&&qt_oBody.length))
return{};return{qoh:qt_oHeader,qob:qt_oBody,bstick:jt_bStick};};this.RemoveHtml=function(ji_bRemoveStick,ji_bQReload)
{var jt_oqpair=this.Get_QItemPair(ji_bQReload);if(!(jt_oqpair&&jt_oqpair.qoh&&jt_oqpair.qob))
return false;if(jt_oqpair.bstick&&!ji_bRemoveStick)
return false;jt_oqpair.qoh.remove();jt_oqpair.qob.remove();return true;};this.LoadFromHtml=function()
{this.Clear();if(!(this.jm_RowHF>0))
return false;var qt_oHeader=jQuery("#RowH_"+this.jm_RowHF);if(!(qt_oHeader&&qt_oHeader.length))
return false;this.qoh=qt_oHeader;var qt_oBody=jQuery("#Row_"+this.jm_RowHF);if(!(qt_oBody&&qt_oBody.length))
{qt_oBody=jQuery("#RowS_"+this.jm_RowHF);if(qt_oBody&&qt_oBody.length)
this.bstick=true;}
if(qt_oBody&&qt_oBody.length)
this.qob=qt_oBody;var jt_sxeid=this.qoh.attr("XEIDCode");if(jt_sxeid&&jt_sxeid.length)
{var jt_oxeid=new A3xaDCEntity();if(jt_oxeid.Get_3xXEID().Set_String(jt_sxeid))
this.jm_oxeid=jt_oxeid.Get_3xXEID();}
return true;};this.Get_ElemRowH=function()
{if(!(this.qoh&&this.qoh.length))
{if(!(this.jm_RowHF>0))
return null;this.qoh=jQuery("#RowH_"+this.jm_RowHF);if(!(this.qoh&&this.qoh.length))
return null;}
return this.qoh;};this.Get_ElemRow=function()
{if(!(this.qob&&this.qob.length))
{if(!(this.jm_RowHF>0))
return null;this.qob=jQuery("#Row_"+this.jm_RowHF);if(!(this.qob&&this.qob.length))
{this.qob=jQuery("#RowS_"+this.jm_RowHF);if(!(this.qob&&this.qob.length))
return null;}}
return this.qob;};this.MoveAfter=function(ji_RowHF,ji_bReplaceId)
{this.InsertAfter(new A3xaEntity_HtmlFrame(ji_RowHF,true));if(ji_bReplaceId)
{var jt_o3xehf_Next=new A3xaEntity_HtmlFrame(ji_RowHF+1,true);jt_o3xehf_Next.ReplaceId(this.jm_RowHF);this.ReplaceId(ji_RowHF+1);}
return true;};this.InsertAfter=function(ji_o3xehf_Prev)
{this.qoh.detach();this.qob.detach();if(!ji_o3xehf_Prev||ji_o3xehf_Prev.IsEOT())
jQuery("#A3xaTableMainBody").prepend(this.qoh);else
this.qoh.insertAfter(ji_o3xehf_Prev.qob);this.qob.insertAfter(this.qoh);return true;};this.IsVisible=function()
{if(this.IsEOT())
return false;if(this.qoh.css("visibility")=="hidden")
return false;return true;};this.IsGrayed=function()
{if(this.IsEOT())
return false;if(this.qoh.attr("Grayed")=="Y")
return true;return false;};this.IsActive=function(){return this.IsVisible()&&!this.IsGrayed();};this._ShowHeaderElem=function(ji_bShow)
{if(this.IsEOT())
return false;if(ji_bShow==true)
this.qoh.css({"visibility":"visible","position":"relative","left":"none","top":"none"});else if(ji_bShow===false)
this.qoh.css({"visibility":"hidden","position":"absolute","left":"0px","top":"0px"});return true;};this._ShowBodyElem=function(ji_bShow)
{if(this.IsEOT())
return false;if(!this.qob)
return false;if(ji_bShow==true)
this.qob.css({"visibility":"visible","position":"relative","left":"none","top":"none"});else if(ji_bShow===false)
this.qob.css({"visibility":"hidden","position":"absolute","left":"0px","top":"0px"});return true;};this._GrayHeaderElem=function(ji_bGray)
{if(this.IsEOT())
return false;if(ji_bGray==true)
{var jt_ColorGray="#606060";this.qoh.attr({"Grayed":"Y"});jQuery("td",this.qoh).each(function()
{var jt_bkColor=jQuery(this).css("background-color");if(jt_bkColor&&jt_bkColor.length&&jt_bkColor!="transparent")
{var jt_bkColorSaved=jQuery(this).attr("BkColorSaved");if(!(jt_bkColorSaved&&jt_bkColorSaved.length))
jQuery(this).attr({"BkColorSaved":jt_bkColor});jQuery(this).css({"background-color":jt_ColorGray});}});}
else if(ji_bGray===false)
{this.qoh.attr({"Grayed":"N"});jQuery("td",this.qoh).each(function()
{var jt_bkColorSaved=jQuery(this).attr("BkColorSaved");if(jt_bkColorSaved&&jt_bkColorSaved.length)
jQuery(this).css({"background-color":jt_bkColorSaved});});}
return true;};this.ShowHeader=function(ji_bShow,ji_bGray)
{if(this.IsStick())
return false;if(this._ShowHeaderElem(ji_bShow)&&ji_bShow==true)
this._GrayHeaderElem(ji_bGray);if(!this.IsActive())
this._ShowBodyElem(false);return true;};this.ShowBody=function(ji_bShow)
{if(this.IsStick())
return false;var jt_bHeaderActive=this.IsActive();if(ji_bShow==true&&jt_bHeaderActive)
this._ShowBodyElem(true);else if(ji_bShow===false||!jt_bHeaderActive)
this._ShowBodyElem(false);return true;}
this.ShowByFilter=function(ji_oxeidLand,ji_o3xcatl,ji_bHideOrGray,ji_bLandCountHigher)
{if(this.IsEOT())
return false;var jt_bMatchesLand=true;var jt_bMatchesCategory=true;if(ji_o3xcatl&&!ji_o3xcatl.Match(this.jm_oxeid))
jt_bMatchesCategory=false;if(ji_oxeidLand)
{jt_bMatchesLand=this.Get_3xXEID().Matches(ji_oxeidLand,true);jg_oe.CanLogInfo()&&jg_oe.LogInfo("MatchingLand y/n,trg,src "+
(jt_bMatchesLand?"y":"n")+","+
this.jm_oxeid.Get_String()+","+ji_oxeidLand.Get_String(),"","A3xaEntity_HtmlFrame.ShowByFilter");}
var jt_bHeader=true;var jt_bGray=false;if(!(jt_bMatchesLand&&jt_bMatchesCategory))
{jt_bGray=true;if(ji_bHideOrGray&&(!ji_oxeidLand||!jt_bMatchesLand||ji_bLandCountHigher))
jt_bHeader=false;}
this.ShowHeader(jt_bHeader,jt_bGray);return true;};this.Get_Column=function(ji_Col)
{if(!(ji_Col>=1))
return null;if(!(this.jm_ao3xehc&&this.jm_ao3xehc.length>=ji_Col))
return null;return this.jm_ao3xehc[ji_Col-1];};this.Get_XEIDCode=function(){return(this.jm_oxe?this.jm_oxe.Get_3xXEID().Get_String():"");};this.Get_RowHeaderHtmlID=function(){return"RowH_"+this.jm_RowHF;};this.Get_RowBodyHtmlID=function(){return(this.IsStick()?"RowS_":"Row_")+this.jm_RowHF;};this.CheckNarrowView=function()
{var qt_oBody=jQuery("body");if(!(qt_oBody&&qt_oBody.length))
return null;var jt_BrowserWidth=qt_oBody.width();if(this.jm_IdNarrowView==jg_oe.jc_oHtml.jc_Body_MicroWidthId)
{if(jt_BrowserWidth>=jg_oe.jc_oHtml.jc_Body_NormalWidth)
{this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_NormalWidthId);return this.jm_IdNarrowView;}
else if(jt_BrowserWidth>=jg_oe.jc_oHtml.jc_Body_SmallWidth)
{this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_SmallWidthId);return this.jm_IdNarrowView;}}
else if(this.jm_IdNarrowView==jg_oe.jc_oHtml.jc_Body_SmallWidthId)
{if(jt_BrowserWidth>=jg_oe.jc_oHtml.jc_Body_NormalWidth)
{this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_NormalWidthId);return this.jm_IdNarrowView;}
else if(jt_BrowserWidth<jg_oe.jc_oHtml.jc_Body_MicroWidth)
{this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_MicroWidthId);return this.jm_IdNarrowView;}}
else if(this.jm_IdNarrowView==jg_oe.jc_oHtml.jc_Body_NormalWidthId)
{if(jt_BrowserWidth<jg_oe.jc_oHtml.jc_Body_MicroWidth)
{this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_MicroWidthId);return this.jm_IdNarrowView;}
else if(jt_BrowserWidth<jg_oe.jc_oHtml.jc_Body_SmallWidth)
{this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_SmallWidthId);return this.jm_IdNarrowView;}}
else
{if(jt_BrowserWidth>=jg_oe.jc_oHtml.jc_Body_SmallWidth)
this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_NormalWidthId);else if(jt_BrowserWidth>=jg_oe.jc_oHtml.jc_Body_MicroWidth)
this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_SmallWidthId);else
this.Set_NarrowView(jg_oe.jc_oHtml.jc_Body_MicroWidthId);return this.jm_IdNarrowView;}
return null;};this.Set_NarrowView=function(ji_IdNarrowView)
{this.jm_IdNarrowView=ji_IdNarrowView;return true;};this.Get_NarrowView=function(){return this.jm_IdNarrowView;};this.PrintHtml=function(ji_bUpdateOnly)
{if(ji_bUpdateOnly)
return this.UpdateHtml();var jt_shTableRowH="<tr id='"+this.Get_RowHeaderHtmlID()+"'"+" XEIDCode='"+this.Get_XEIDCode()+"'"+" style='float:none; height:none; visibility: visible;'></tr>";var qt_oRowB=jQuery("#"+this.Get_RowBodyHtmlID());if(qt_oRowB&&qt_oRowB.length)
qt_oRowB.before(jt_shTableRowH);else
{jQuery("#A3xaTableMainBody").append(jt_shTableRowH);}
var jt_shTableRow="<tr id='"+this.Get_RowBodyHtmlID()+"'"+" XEIDCode='"+this.Get_XEIDCode()+"'";if(this.IsStick())
{jt_shTableRow+=" style='float:none; height:none; visibility: visible;'>";}
else
{jt_shTableRow+=" style='float:none; height:none; "+"visibility: hidden; position:absolute; left:0px; top:0px;'>";}
jt_shTableRow+="</tr>";var qt_oRowH=jQuery("#"+this.Get_RowHeaderHtmlID());if(qt_oRowH&&qt_oRowH.length)
qt_oRowH.after(jt_shTableRow);else;this.jm_ao3xehc.push(new A3xaEntity_HtmlFrameColumn(this,null,this.jm_RowHF,jg_oe.jc_oHtml.jc_Col_IdTag));this.jm_ao3xehc.push(new A3xaEntity_HtmlFrameColumn(this,null,this.jm_RowHF,jg_oe.jc_oHtml.jc_Col_LandIcons));this.jm_ao3xehc.push(new A3xaEntity_HtmlFrameColumn(this,null,this.jm_RowHF,jg_oe.jc_oHtml.jc_Col_CtrlInfoIcons));this.jm_ao3xehc.push(new A3xaEntity_HtmlFrameColumn(this,null,this.jm_RowHF,jg_oe.jc_oHtml.jc_Col_Identity));this.jm_ao3xehc.push(new A3xaEntity_HtmlFrameColumn(this,null,this.jm_RowHF,jg_oe.jc_oHtml.jc_Col_Info));var i=0;for(i=0;i<this.jm_ao3xehc.length;i++)
this.jm_ao3xehc[i].Set_XtdEntity(this.jm_oxe);var bh=true;while(bh!==null)
{for(i=0;i<this.jm_ao3xehc.length;i++)
{if(this.Get_NarrowView()==jg_oe.jc_oHtml.jc_Body_SmallWidthId&&this.jm_ao3xehc[i].jm_Col==jg_oe.jc_oHtml.jc_Col_Info)
{if(this.jm_ao3xehc[i].PrintHtml(bh))
{}}
else if(this.Get_NarrowView()==jg_oe.jc_oHtml.jc_Body_MicroWidthId&&this.jm_ao3xehc[i].jm_Col==jg_oe.jc_oHtml.jc_Col_CtrlInfoIcons)
{if(this.jm_ao3xehc[i].PrintHtml(bh))
{}}
else if(this.Get_NarrowView()==jg_oe.jc_oHtml.jc_Body_MicroWidthId&&this.jm_ao3xehc[i].jm_Col==jg_oe.jc_oHtml.jc_Col_IdTag)
{if(this.jm_ao3xehc[i].PrintHtml(bh))
{}}
else
{if(this.jm_ao3xehc[i].PrintHtml(bh))
{this.jm_ao3xehc[i].AppendHook(bh);}}}
if(bh===true)
bh=false;else if(bh===false)
bh=null;}
this.UpdateHtmlOnResize();return true;};this.UpdateHtmlOnResize=function()
{if(!this.jm_ao3xehc)
return true;var jt_o3xehcIdentity=this.Get_Column(jg_oe.jc_oHtml.jc_Col_Identity);var jt_o3xehcInfo=this.Get_Column(jg_oe.jc_oHtml.jc_Col_Info);var jt_o3xehcCtrlInfo=this.Get_Column(jg_oe.jc_oHtml.jc_Col_CtrlInfoIcons);var jt_o3xehcIdTag=this.Get_Column(jg_oe.jc_oHtml.jc_Col_IdTag);if(this.Get_NarrowView()==jg_oe.jc_oHtml.jc_Body_MicroWidthId)
{jt_o3xehcIdentity.AppendHook(true,null,jt_o3xehcInfo.jm_Header_Id);jt_o3xehcIdentity.AppendHook(true,null,jt_o3xehcCtrlInfo.jm_Header_Id);jt_o3xehcIdentity.AppendHook(true,null,jt_o3xehcIdTag.jm_Header_Id);jt_o3xehcCtrlInfo.Show(true,false);jt_o3xehcIdTag.Show(true,false);jt_o3xehcIdentity.AppendHook(false,null,jt_o3xehcCtrlInfo.jm_Body_Id);jt_o3xehcIdentity.AppendHook(false,null,jt_o3xehcIdentity.jm_Body_Id);jt_o3xehcIdentity.AppendHook(false,null,jt_o3xehcInfo.jm_Body_Id);jt_o3xehcIdentity.AppendHook(false,null,jt_o3xehcIdTag.jm_Body_Id);jt_o3xehcCtrlInfo.Show(false,false);jt_o3xehcIdTag.Show(false,false);}
else if(this.Get_NarrowView()==jg_oe.jc_oHtml.jc_Body_SmallWidthId)
{jt_o3xehcIdTag.AppendHook(true,null,jt_o3xehcIdTag.jm_Header_Id);jt_o3xehcCtrlInfo.AppendHook(true,null,jt_o3xehcCtrlInfo.jm_Header_Id);jt_o3xehcIdentity.AppendHook(true,null,jt_o3xehcInfo.jm_Header_Id);jt_o3xehcCtrlInfo.Show(true,true);jt_o3xehcIdTag.Show(true,true);jt_o3xehcIdTag.AppendHook(false,null,jt_o3xehcIdTag.jm_Body_Id);jt_o3xehcCtrlInfo.AppendHook(false,null,jt_o3xehcCtrlInfo.jm_Body_Id);jt_o3xehcIdentity.AppendHook(false,null,jt_o3xehcInfo.jm_Body_Id);jt_o3xehcCtrlInfo.Show(false,true);jt_o3xehcIdTag.Show(false,true);}
else
{jt_o3xehcIdTag.AppendHook(true,null,jt_o3xehcIdTag.jm_Header_Id);jt_o3xehcCtrlInfo.AppendHook(true,null,jt_o3xehcCtrlInfo.jm_Header_Id);jt_o3xehcInfo.AppendHook(true,null,jt_o3xehcInfo.jm_Header_Id);jt_o3xehcCtrlInfo.Show(true,true);jt_o3xehcIdTag.Show(true,true);jt_o3xehcIdTag.AppendHook(false,null,jt_o3xehcIdTag.jm_Body_Id);jt_o3xehcCtrlInfo.AppendHook(false,null,jt_o3xehcCtrlInfo.jm_Body_Id);jt_o3xehcInfo.AppendHook(false,null,jt_o3xehcInfo.jm_Body_Id);jt_o3xehcCtrlInfo.Show(false,true);jt_o3xehcIdTag.Show(false,true);}
return true;};this.UpdateHtml=function()
{var qt_oRowH=jQuery("#"+this.Get_RowHeaderHtmlID());var qt_oRowB=jQuery("#"+this.Get_RowBodyHtmlID());if(!(qt_oRowH&&qt_oRowH.length))
return false;if(!(qt_oRowB&&qt_oRowB.length))
return false;if(!(this.jm_ao3xehc&&this.jm_ao3xehc.length))
return false;qt_oRowH.attr("XEIDCode",this.Get_XEIDCode());qt_oRowB.attr("XEIDCode",this.Get_XEIDCode());var i=0;for(i=0;i<this.jm_ao3xehc.length;i++)
this.jm_ao3xehc[i].Set_XtdEntity(this.jm_oxe);for(i=0;i<this.jm_ao3xehc.length;i++)
{if(!this.jm_ao3xehc[i].PrintHtml(true,true))
{}}
for(i=0;i<this.jm_ao3xehc.length;i++)
{if(!this.jm_ao3xehc[i].PrintHtml(false,true))
{}}
return true;};if(ji_bLoad)
this.LoadFromHtml();}"use strict";function A3xa2Entity_HtmlAssoc()
{var jr_o={jm_o3xehf:null,jm_o3xeh:null};return jr_o;}
function A3xaHtmlEntityAbs()
{var jt_this=this;this.jm_TimerLoPry=null;this.jm_bReleased=false;this.jm_FirstFrameRow=0;this.jm_nRows=0;this.jm_o3x2xeha=A3xa3Array().O();this.jm_ao3xehf=[];this.jm_ao3xeh=[];this.jm_bCanRemoveStick=false;this.jm_bUpdateHtml=false;this._A3xaHtmlEntityAbs=function()
{};this.CanRemoveStick=function(ji_b,ji_bUpdateHtml)
{this.jm_bCanRemoveStick=(ji_b===false?false:true);this.jm_bUpdateHtml=(ji_bUpdateHtml===true?true:false);return true;};this.AbortPrintHtmlLowPriority=function()
{this.jm_TimerLoPry=null;return true;};this.Get_3xEH=function(ji_Row)
{if(!ji_Row)
ji_Row=1;return(this.jm_ao3xeh[ji_Row-1]||null);};this.Get_3xEHA_ByIndex=function(ji_Row)
{return this.jm_o3x2xeha.ar.getItem_ByIndex(ji_Row>0?ji_Row-1:0);};this.Get_3xEHA=function(ji_key)
{return(ji_key?this.jm_o3x2xeha.ar.getItem(ji_key):null);};this.IsValid=function(){return this._A3xaHtmlEntityAbs_IsValid();};this.InitData=function(){return this._A3xaHtmlEntityAbs_InitData();};this.LoadData=function(ji_bReload,ji_bTemplate){return false;};this.Release=function(ji_bClearHtml){return false;};this.RemoveHtml=function(){return this._A3xaHtmlEntityAbs_RemoveHtml();};this.PrintHtmlFrame=function(){return this._A3xaHtmlEntityAbs_PrintHtmlFrame();};this.PrintHtml=function(ji_bLowPriority,ji_bOnDemand)
{return this._A3xaHtmlEntityAbs_PrintHtml(ji_bLowPriority,ji_bOnDemand);};this._A3xaHtmlEntityAbs_PrintHtml=function(ji_bLowPriority,ji_bOnDemand)
{if(!this.PrintHtmlFrame())
return false;if(!this.PrintHtmlContents(ji_bLowPriority,ji_bOnDemand))
return false;return true;};this.PrintHtmlContents=function(ji_bLowPriority,ji_bOnDemand)
{return this._A3xaHtmlEntityAbs_PrintHtmlContents(ji_bLowPriority,ji_bOnDemand);};this._A3xaHtmlEntityAbs_IsValid=function()
{return(this.jm_ao3xehf[0]&&this.jm_ao3xeh[0]);};this._A3xaHtmlEntityAbs_InitData=function()
{this.jm_TimerLoPry=null;this.jm_bReleased=false;if(!this.jm_bUpdateHtml)
{this.jm_FirstFrameRow=0;this.jm_nRows=0;this.jm_ao3xehf=[];this.jm_ao3xeh=[];}
return true;};this._A3xaHtmlEntityAbs_PrintHtmlFrame=function()
{if(!(this.jm_ao3xehf&&this.jm_ao3xehf.length))
return false;for(var ixf=0;ixf<this.jm_ao3xehf.length;ixf++)
{this.jm_ao3xehf[ixf].PrintHtml(this.jm_bUpdateHtml);}
return true;};this._A3xaHtmlEntityAbs_PrintHtmlContents=function(ji_bLowPriority,ji_bOnDemand)
{if(!(this.jm_nRows>0))
return false;if(!(this.jm_ao3xeh&&this.jm_ao3xeh.length))
return false;if(!ji_bLowPriority)
{for(var ixh=0;ixh<this.jm_ao3xeh.length;ixh++)
this.jm_ao3xeh[ixh].PrintHtml(true);for(var ixb=0;ixb<this.jm_ao3xeh.length;ixb++)
this.jm_ao3xeh[ixb].PrintHtml(false,false);}
else
{var jt_ehCount=0;if(this.jm_ao3xeh)
jt_ehCount=this.jm_ao3xeh.length;this.jm_TimerLoPry=setTimeout(function()
{for(var i=0;i<jt_ehCount;i++)
{if(!jt_this.jm_TimerLoPry||jt_this.jm_bReleased)
break;jt_this.jm_ao3xeh[i].PrintHtml(false,true,ji_bOnDemand);}
if(ji_bOnDemand)
jt_this.PrintHtmlContents(true,false);},(ji_bOnDemand?10:500));}
return true;};this._A3xaHtmlEntityAbs_RemoveHtml=function()
{var jr_b=false;if(this.jm_ao3xehf&&this.jm_ao3xehf.length)
{for(var i=0;i<this.jm_ao3xehf.length;i++)
{this.jm_ao3xehf[i].RemoveHtml(this.jm_bCanRemoveStick,false);}
jr_b=true;}
this.jm_ao3xehf=[];this.jm_ao3xeh=[];this.jm_nRows=0;this.jm_FirstFrameRow=0;return jr_b;};this._A3xaHtmlEntityAbs();}
function A3xaHtmlEntityCP()
{A3xaHtmlEntityAbs.call(this);this._A3xaHtmlEntityCP=function()
{};this.LoadData=function(ji_bReload,ji_bTemplate)
{if(!ji_bReload&&this.IsValid())
return true;this.InitData();var jt_odb=null;var jt_o3xxeCP=null;if(!ji_bTemplate)
{jt_odb=jg_oe.Get_Database();if(!jt_odb)
return false;jt_o3xxeCP=jg_oApp.Get_3xXEMSC_ByXUR();if(!jt_o3xxeCP)
return false;}
this.jm_FirstFrameRow=1;this.jm_nRows=1;var jt_o3x2xehaCP=null;if(!(this.jm_bUpdateHtml&&this.IsValid()))
{jt_o3x2xehaCP=A3xa2Entity_HtmlAssoc();jt_o3x2xehaCP.jm_o3xehf=new A3xaEntity_HtmlFrame(this.jm_FirstFrameRow);jt_o3x2xehaCP.jm_o3xeh=new A3xaECP_Mgr(null,jt_o3x2xehaCP.jm_o3xehf);this.jm_o3x2xeha.ar.addItem("1",jt_o3x2xehaCP);this.jm_ao3xehf[0]=jt_o3x2xehaCP.jm_o3xehf;this.jm_ao3xeh[0]=jt_o3x2xehaCP.jm_o3xeh;}
else
jt_o3x2xehaCP=this.jm_o3x2xeha.ar.getItem_ByIndex(0);jt_o3x2xehaCP.jm_o3xehf.Set_XtdEntity(jt_o3xxeCP,true);jt_o3x2xehaCP.jm_o3xeh.Set_DataSource(jt_o3xxeCP);return true;};this._A3xaHtmlEntityCP();}
function A3xaHtmlEntitySet()
{this.jm_o3xheCP=null;this.jm_bFirstClickGLMore=false;A3xaHtmlEntityAbs.call(this);this._A3xaHtmlEntitySet=function()
{this.jm_o3xheCP=new A3xaHtmlEntityCP();};this.CanRemoveStick=function(ji_b,ji_bUpdateHtml)
{this.jm_bCanRemoveStick=(ji_b===false?false:true);this.jm_bUpdateHtml=false;this.jm_o3xheCP.CanRemoveStick(this.jm_bCanRemoveStick,ji_bUpdateHtml);return true;};this.LoadData=function(ji_bReload,ji_bTemplateCP)
{if(!ji_bReload&&this.IsValid())
return true;this.InitData();this.jm_bFirstClickGLMore=false;var jr_b=this.jm_o3xheCP.LoadData(ji_bReload,ji_bTemplateCP);if(ji_bTemplateCP)
{this.OnWindowResize(false);return jr_b;}
var jt_ogldtMain=null;var jt_odb=jg_oe.Get_Database();if(jt_odb)
jt_ogldtMain=jt_odb.Get_DataTable();var jt_o3xait=null;if(jt_ogldtMain)
jt_o3xait=jt_ogldtMain.Get_IRecordsel().O();if(jt_o3xait)
this.jm_nRows=jt_o3xait.Get_Count();if(!(this.jm_nRows>0))
{this.OnWindowResize(false);return false;}
this.jm_FirstFrameRow=((this.jm_o3xheCP&&this.jm_o3xheCP.Get_3xEH())?2:1);var jt_FrameRow=this.jm_FirstFrameRow;jt_o3xait.Reset();while(!jt_o3xait.IsEOF())
{var jt_oxe=jt_o3xait.Get_CurrentItem();if(!(jt_oxe&&jt_oxe.Get_3xXEID()))
continue;var jt_key=jt_oxe.Get_3xXEID().Get_PrimaryKey();if(!jt_key)
continue;var jt_o3x2xeha=A3xa2Entity_HtmlAssoc();jt_o3x2xeha.jm_o3xehf=new A3xaEntity_HtmlFrame(jt_FrameRow);jt_o3x2xeha.jm_o3xehf.Set_XtdEntity(jt_oxe,false);this.jm_ao3xehf.push(jt_o3x2xeha.jm_o3xehf);jt_o3x2xeha.jm_o3xeh=new A3xaEntity_Html(null,jt_o3x2xeha.jm_o3xehf);jt_o3x2xeha.jm_o3xeh.Set_DataSource(jt_oxe);this.jm_ao3xeh.push(jt_o3x2xeha.jm_o3xeh);this.jm_o3x2xeha.ar.addItem(jt_key,jt_o3x2xeha);jt_FrameRow++;jt_o3xait.Next();}
this.OnWindowResize(false);return true;};this.OnWindowResize=function(ji_bUpdateHtml)
{var jt_o3xhePilot=null;if(this.jm_o3xheCP.jm_ao3xehf&&this.jm_o3xheCP.jm_ao3xehf[0])
jt_o3xhePilot=this.jm_o3xheCP;else if(this.jm_ao3xehf&&this.jm_ao3xehf[0])
jt_o3xhePilot=this;if(!jt_o3xhePilot)
return null;var jr_idnv=jt_o3xhePilot.jm_ao3xehf[0].CheckNarrowView();if(this.jm_ao3xehf)
{for(var ixf=0;ixf<this.jm_ao3xehf.length;ixf++)
this.jm_ao3xehf[ixf].Set_NarrowView(jr_idnv||jt_o3xhePilot.jm_ao3xehf[0].Get_NarrowView());}
if(ji_bUpdateHtml&&jr_idnv)
{jt_o3xhePilot.jm_ao3xehf[0].UpdateHtmlOnResize();for(var ixf=0;ixf<this.jm_ao3xehf.length;ixf++)
{this.jm_ao3xehf[ixf].UpdateHtmlOnResize();}}
if(jr_idnv)
{jg_oe.Set_ItemsNarrowView(jr_idnv);}
return jr_idnv;};this.Release=function(ji_bClearHtml)
{this.jm_bReleased=true;this.jm_TimerLoPry=null;this.jm_bFirstClickGLMore=false;if(ji_bClearHtml)
{this.RemoveHtml();}
jg_oe.CanLogInfo({VW:4})&&jg_oe.LogInfo("OK","","A3xaHtmlEntitySet.Release");return true;};this.Get_3xEHACP=function()
{return(this.Get_HtmlSetCP()?this.Get_HtmlSetCP().Get_3xEHA_ByIndex(0):null);};this.Get_ECPMgr=function(){return this.jm_o3xheCP.Get_3xEH();};this.Get_ECPMgr2=function(){return(this.Get_3xEHACP()?this.Get_3xEHACP().jm_o3xeh:null);};this.Get_HtmlSetCP=function(){return(this.jm_o3xheCP||null);};this.RemoveHtml=function()
{if(this.jm_o3xheCP.jm_bCanRemoveStick)
this.jm_o3xheCP.RemoveHtml();return this._A3xaHtmlEntityAbs_RemoveHtml();};this.PrintHtml=function(ji_bLowPriority,ji_bOnDemand)
{if(this.jm_bReleased)
return false;var jt_bCP=false;if(!ji_bLowPriority)
jt_bCP=this.jm_o3xheCP.PrintHtml(ji_bLowPriority,ji_bOnDemand);var jt_bRows=this._A3xaHtmlEntityAbs_PrintHtml(ji_bLowPriority,ji_bOnDemand);return(jt_bCP||jt_bRows);};this.PrintHtml2=function(ji_bUpdateHtmlCP,ji_bTemplateHtmlCP)
{this.CanRemoveStick(false,ji_bUpdateHtmlCP);this.LoadData(true,ji_bTemplateHtmlCP);if(ji_bTemplateHtmlCP)
return this.jm_o3xheCP.PrintHtml();return this.PrintHtml();};this.Get_XEIDRowList=function(ji_bActiveOnly,ji_bIncludeStick)
{var jr_aoxeid=[];var jt_FrameRow=1;while(1)
{var jt_o3xehf=new A3xaEntity_HtmlFrame(jt_FrameRow,true);if(jt_o3xehf.IsEOT())
break;if(!jt_o3xehf.Get_3xXEID())
{jt_FrameRow++;continue;}
if(!ji_bIncludeStick&&jt_o3xehf.IsStick())
{jt_FrameRow++;continue;}
if(ji_bActiveOnly&&!jt_o3xehf.IsActive())
{jt_FrameRow++;continue;}
jr_aoxeid.push(jt_o3xehf.Get_3xXEID());jt_FrameRow++;}
return jr_aoxeid;};this.OnGLMore=function(ji_Row,ji_bStatus)
{if(!this.jm_bFirstClickGLMore&&ji_bStatus)
{this.jm_bFirstClickGLMore=true;this.PrintHtmlContents(true,true);}
var jt_o3xehf=new A3xaEntity_HtmlFrame(ji_Row,true);if(!jt_o3xehf.ShowBody(ji_bStatus))
{}
return true;};this._A3xaHtmlEntitySet();}"use strict";function A3xaDefines_EditForm()
{this.jc_asReqArea=["Area, Region, Category","Area, Region, Categoría","Área, Região, Categoria","Area, Regione, Categoria"];this.jc_asALL=["*** ALL ***","*** TODOS ***","*** TUDO ***","*** TUTTI ***"];this.jc_ColorsBGHL_Area=["80FF80","80FF80","C0FFC0"];this.jc_ColorsBGHL_Region=["8080FF","8000FF","C0C0FF"];}
function A3xa2IHtmSelectBox_Typ()
{var jr_I={};return jr_I;}
function A3xa2HtmSelectBox_Areas()
{var jr_o=A3xa2HtmSelectBox();jr_o.jm_o3xxeidFilter=null;jr_o.jm_o3x2ds=null;jr_o.hb._hsareaparent_setEventChange=jr_o.hb.setEventChange;jr_o.hb.setEventChange=function(ji_fn)
{return jr_o.hb._hsareaparent_setEventChange(function(ji_AXKey_Selected)
{var jt_xtdent=jr_o.jm_o3x2ds.ar.getItem(ji_AXKey_Selected);return(ji_fn?ji_fn(jt_xtdent):true);});};jr_o.hs.setFilter=function(ji_o3xxeidFilter)
{jr_o.jm_o3xxeidFilter=(ji_o3xxeidFilter?ji_o3xxeidFilter.Get_3xXEID():null);return true;};jr_o.hs.getFilter=function(){return jr_o.jm_o3xxeidFilter;};jr_o.hs._hsareaparent_setDataSource=jr_o.hs.setDataSource;jr_o.hs.setDataSource=function(ji_IArray_Items)
{var jt_oAXKeyMaker=A3xa2AltKey();jr_o.jm_o3x2ds=A3xa2DataSourceCommon();jr_o.jm_o3x2ds.ds.addTableTopAreas();jr_o.jm_o3x2ds.ds.addTableAreas();var jt_Iar_dsdescr=A3xa3DataSourceCommonDescr(jr_o.jm_o3x2ds.ar);jr_o.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_z);jr_o.hb.setLabel("Area");jr_o.hb.setWidth(200);jr_o.hs.setEmptyDescr();jr_o.hs.setSelectedItem(jt_oAXKeyMaker.ak.makeAltKeyAZNMC_ByXeid(jg_oe.jc_oEntity.jc_Typ_GeoArea,jr_o.hs.getFilter()));jr_o.hs._hsareaparent_setDataSource(jt_Iar_dsdescr);return true;};jr_o.hs._hsareaparent_getSelectedItem=jr_o.hs.getSelectedItem;jr_o.hs.getSelectedItem=function(ji_bxtd)
{var jr_AKKey=jr_o.hs._hsareaparent_getSelectedItem();return(ji_bxtd?jr_o.jm_o3x2ds.ar.getItem(jr_AKKey):jr_AKKey);};return jr_o;};function A3xa2HtmSelectBox_Regions()
{var jr_o=A3xa2HtmSelectBox();jr_o.jm_o3xxeidFilter=null;jr_o.jm_o3x2ds=null;jr_o.hb._hsregionparent_setEventChange=jr_o.hb.setEventChange;jr_o.hb.setEventChange=function(ji_fn)
{return jr_o.hb._hsregionparent_setEventChange(function(ji_AXKey_Selected)
{var jt_xtdent=jr_o.jm_o3x2ds.ar.getItem(ji_AXKey_Selected);return(ji_fn?ji_fn(jt_xtdent):true);});};jr_o.hs.setFilter=function(ji_o3xxeidFilter)
{jr_o.jm_o3xxeidFilter=(ji_o3xxeidFilter?ji_o3xxeidFilter.Get_3xXEID():null);return true;};jr_o.hs.getFilter=function(){return jr_o.jm_o3xxeidFilter;};jr_o.hs._hsregionparent_setDataSource=jr_o.hs.setDataSource;jr_o.hs.setDataSource=function(ji_IArray_Items)
{var jt_oAXKeyMaker=A3xa2AltKey();if(!jr_o.jm_o3x2ds)
{jr_o.jm_o3x2ds=A3xa2DataSourceCommon();jr_o.jm_o3x2ds.ds.addTableRegions();}
var jt_o3x2dsSelected=A3xa2DataSourceFilter(jr_o.jm_o3x2ds.ar,jr_o.hs.getFilter());var jt_Iar_dsdescr=A3xa3DataSourceCommonDescr(jt_o3x2dsSelected.ar);jr_o.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_n);jr_o.hb.setLabel("Region");jr_o.hb.setWidth(200);jr_o.hs.setEmptyDescr();jr_o.hs.setSelectedItem(jt_oAXKeyMaker.ak.makeAltKeyAZNMC_ByXeid(jg_oe.jc_oEntity.jc_Typ_GeoRegion,jr_o.hs.getFilter()));jr_o.hs._hsregionparent_setDataSource(jt_Iar_dsdescr);return true;};jr_o.hs._hsregionparent_getSelectedItem=jr_o.hs.getSelectedItem;jr_o.hs.getSelectedItem=function(ji_bxtd)
{var jr_AKKey=jr_o.hs._hsregionparent_getSelectedItem();return(ji_bxtd?jr_o.jm_o3x2ds.ar.getItem(jr_AKKey):jr_AKKey);};return jr_o;};function A3xa2HtmSelectBox_Cities()
{var jr_o=A3xa2HtmSelectBox();jr_o.jm_o3xxeidFilter=null;jr_o.jm_o3x2ds=null;jr_o.hb._hscityparent_setEventChange=jr_o.hb.setEventChange;jr_o.hb.setEventChange=function(ji_fn)
{return jr_o.hb._hscityparent_setEventChange(function(ji_AXKey_Selected)
{var jt_xtdent=jr_o.jm_o3x2ds.ar.getItem(ji_AXKey_Selected);return(ji_fn?ji_fn(jt_xtdent):true);});};jr_o.hs.setFilter=function(ji_o3xxeidFilter)
{jr_o.jm_o3xxeidFilter=(ji_o3xxeidFilter?ji_o3xxeidFilter.Get_3xXEID():null);return true;};jr_o.hs.getFilter=function(){return jr_o.jm_o3xxeidFilter;};jr_o.hs._hscityparent_setDataSource=jr_o.hs.setDataSource;jr_o.hs.setDataSource=function(ji_IArray_Items)
{var jt_oAXKeyMaker=A3xa2AltKey();if(!jr_o.jm_o3x2ds)
{jr_o.jm_o3x2ds=A3xa2DataSourceCommon();jr_o.jm_o3x2ds.ds.addTableCities();}
var jt_o3x2dsSelected=A3xa2DataSourceFilter(jr_o.jm_o3x2ds.ar,jr_o.hs.getFilter());var jt_Iar_dsdescr=A3xa3DataSourceCommonDescr(jt_o3x2dsSelected.ar);jr_o.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_c);jr_o.hb.setLabel("City");jr_o.hb.setWidth(200);jr_o.hs.setEmptyDescr();jr_o.hs.setSelectedItem(jt_oAXKeyMaker.ak.makeAltKeyAZNMC_ByXeid(jg_oe.jc_oEntity.jc_Typ_GeoCity,jr_o.hs.getFilter()));jr_o.hs._hscityparent_setDataSource(jt_Iar_dsdescr);return true;};jr_o.hs._hscityparent_getSelectedItem=jr_o.hs.getSelectedItem;jr_o.hs.getSelectedItem=function(ji_bxtd)
{var jr_AKKey=jr_o.hs._hscityparent_getSelectedItem();return(ji_bxtd?jr_o.jm_o3x2ds.ar.getItem(jr_AKKey):jr_AKKey);};jr_o.hs.getDataSource=function(ji_type){return(jr_o.jm_o3x2ds?jr_o.jm_o3x2ds.ar:null);}
return jr_o;};function A3xa2HtmSelectBox_Countries()
{var jr_o=A3xa2HtmSelectBox();jr_o.jm_o3xxeidFilter=null;jr_o.jm_o3x2ds=null;jr_o.hb._hscountryparent_setEventChange=jr_o.hb.setEventChange;jr_o.hb.setEventChange=function(ji_fn)
{return jr_o.hb._hscountryparent_setEventChange(function(ji_AXKey_Selected)
{var jt_xtdent=jr_o.jm_o3x2ds.ar.getItem(ji_AXKey_Selected);return(ji_fn?ji_fn(jt_xtdent):true);});};jr_o.hs.setFilter=function(ji_o3xxeidFilter)
{jr_o.jm_o3xxeidFilter=(ji_o3xxeidFilter?ji_o3xxeidFilter.Get_3xXEID():null);return true;};jr_o.hs.getFilter=function(){return jr_o.jm_o3xxeidFilter;};jr_o.hs._hscountryparent_setDataSource=jr_o.hs.setDataSource;jr_o.hs.setDataSource=function(ji_IArray_Items)
{var jt_oAXKeyMaker=A3xa2AltKey();if(!jr_o.jm_o3x2ds)
{jr_o.jm_o3x2ds=A3xa2DataSourceCommon();jr_o.jm_o3x2ds.ds.addTableCountries();}
var jt_Iar_dsdescr=A3xa3DataSourceCommonDescr(jr_o.jm_o3x2ds.ar);jr_o.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_p);jr_o.hb.setLabel("Country");jr_o.hb.setWidth(200);jr_o.hs.setEmptyDescr();jr_o.hs.setSelectedItem(jt_oAXKeyMaker.ak.makeAltKeyPS_ByXeid(jg_oe.jc_oEntity.jc_Typ_GeoCountry,jr_o.hs.getFilter()));jr_o.hs._hscountryparent_setDataSource(jt_Iar_dsdescr);return true;};jr_o.hs._hscountryparent_getSelectedItem=jr_o.hs.getSelectedItem;jr_o.hs.getSelectedItem=function(ji_bxtd)
{var jr_AKKey=jr_o.hs._hscountryparent_getSelectedItem();return(ji_bxtd?jr_o.jm_o3x2ds.ar.getItem(jr_AKKey):jr_AKKey);};jr_o.hs.getDataSource=function(ji_type){return(jr_o.jm_o3x2ds?jr_o.jm_o3x2ds.ar:null);}
return jr_o;};function A3xa2HtmSelectBox_States()
{var jr_o=A3xa2HtmSelectBox();jr_o.jm_o3xxeidFilter=null;jr_o.jm_o3x2ds=null;jr_o.hb._hsstateparent_setEventChange=jr_o.hb.setEventChange;jr_o.hb.setEventChange=function(ji_fn)
{return jr_o.hb._hsstateparent_setEventChange(function(ji_AXKey_Selected)
{var jt_xtdent=jr_o.jm_o3x2ds.ar.getItem(ji_AXKey_Selected);return(ji_fn?ji_fn(jt_xtdent):true);});};jr_o.hs.setFilter=function(ji_o3xxeidFilter)
{jr_o.jm_o3xxeidFilter=(ji_o3xxeidFilter?ji_o3xxeidFilter.Get_3xXEID():null);return true;};jr_o.hs.getFilter=function(){return jr_o.jm_o3xxeidFilter;};jr_o.hs._hsstateparent_setDataSource=jr_o.hs.setDataSource;jr_o.hs.setDataSource=function(ji_IArray_Items)
{var jt_oAXKeyMaker=A3xa2AltKey();if(!jr_o.jm_o3x2ds)
{jr_o.jm_o3x2ds=A3xa2DataSourceCommon();jr_o.jm_o3x2ds.ds.addTableStates();}
var jt_o3x2dsSelected=A3xa2DataSourceFilter(jr_o.jm_o3x2ds.ar,jr_o.hs.getFilter());var jt_Iar_dsdescr=A3xa3DataSourceCommonDescr(jt_o3x2dsSelected.ar);jr_o.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_s);jr_o.hb.setLabel("State");jr_o.hb.setWidth(200);jr_o.hs.setEmptyDescr();jr_o.hs.setSelectedItem(jt_oAXKeyMaker.ak.makeAltKeyPS_ByXeid(jg_oe.jc_oEntity.jc_Typ_GeoState,jr_o.hs.getFilter()));jr_o.hs._hsstateparent_setDataSource(jt_Iar_dsdescr);return true;};jr_o.hs._hsstateparent_getSelectedItem=jr_o.hs.getSelectedItem;jr_o.hs.getSelectedItem=function(ji_bxtd)
{var jr_AKKey=jr_o.hs._hsstateparent_getSelectedItem();return(ji_bxtd?jr_o.jm_o3x2ds.ar.getItem(jr_AKKey):jr_AKKey);};jr_o.hs.getDataSource=function(ji_type){return(jr_o.jm_o3x2ds?jr_o.jm_o3x2ds.ar:null);}
return jr_o;};function A3xa2HtmSelectBox_Categories()
{var jr_o=A3xa2HtmSelectBox();jr_o.jm_o3xxeidFilter=null;jr_o.jm_o3x2ds=null;jr_o.hb._hscategoryparent_setEventChange=jr_o.hb.setEventChange;jr_o.hb.setEventChange=function(ji_fn)
{return jr_o.hb._hscategoryparent_setEventChange(function(ji_AXKey_Selected)
{var jt_xtdent=jr_o.jm_o3x2ds.ar.getItem(ji_AXKey_Selected);return(ji_fn?ji_fn(jt_xtdent):true);});};jr_o.hs.setFilter=function(ji_o3xxeidFilter)
{jr_o.jm_o3xxeidFilter=(ji_o3xxeidFilter?ji_o3xxeidFilter.Get_3xXEID():null);return true;};jr_o.hs.getFilter=function(){return jr_o.jm_o3xxeidFilter;};jr_o.hs._hscategoryparent_setDataSource=jr_o.hs.setDataSource;jr_o.hs.setDataSource=function(ji_IArray_Items)
{var jt_oAXKeyMaker=A3xa2AltKey();if(!jr_o.jm_o3x2ds)
{jr_o.jm_o3x2ds=A3xa2DataSourceCommon();jr_o.jm_o3x2ds.ds.addTableUcats();jr_o.jm_o3x2ds.ds.addTableUVcats();}
var jt_Iar_dsdescr=A3xa3DataSourceCommonDescr(jr_o.jm_o3x2ds.ar);jr_o.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_vcat);jr_o.hb.setLabel("Category");jr_o.hb.setWidth(200);jr_o.hs.setEmptyDescr();jr_o.hs.setSelectedItem(jt_oAXKeyMaker.ak.makeAltKeyUVcat_ByXeid(jg_oe.jc_oEntity.jc_Typ_Category,jr_o.hs.getFilter()));jr_o.hs._hscategoryparent_setDataSource(jt_Iar_dsdescr);return true;};jr_o.hs._hscategoryparent_getSelectedItem=jr_o.hs.getSelectedItem;jr_o.hs.getSelectedItem=function(ji_bxtd)
{var jr_AKKey=jr_o.hs._hscategoryparent_getSelectedItem();return(ji_bxtd?jr_o.jm_o3x2ds.ar.getItem(jr_AKKey):jr_AKKey);};jr_o.hs.getDataSource=function(ji_type){return(jr_o.jm_o3x2ds?jr_o.jm_o3x2ds.ar:null);}
return jr_o;};function A3xa2IMgrEditSubForm()
{var jr_I={loadData:function(ji_oxe){return false;},saveToDCEntity:function(ji_odce){return false;},printHtml:function(ji_oci){return false;}};return jr_I;}
function A3xa2MgrEditSubForm_EID()
{var jr_o={jm_oxe:null,jm_o3x2hebox_enty:null,jm_o3x2hebox_enid:null,jm_o3x2hebox_egty:null,jm_o3x2hebox_egid:null,jm_o3x2hebox_Areas:null,jm_o3x2hebox_Regions:null,jm_o3x2hebox_Cities:null,jm_o3x2hebox_Countries:null,jm_o3x2hebox_States:null,jm_o3x2hebox_Categories:null,efsub:A3xa2IMgrEditSubForm()};jr_o._loadData_GEID=function(ji_bNew)
{if(!jr_o.jm_oxe)
return false;var jt_o3xxeid=jr_o.jm_oxe.Get_3xXEID();jr_o.jm_o3x2hebox_enty=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_enty.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_enty);jr_o.jm_o3x2hebox_enty.hb.setLabel("Typ");jr_o.jm_o3x2hebox_enty.hb.setSizeChars(1,3);jr_o.jm_o3x2hebox_enty.hb.setText(ji_bNew?jg_oe.jc_oEntity.jc_Typ_Enterprise:jt_o3xxeid.Get_TypEntity());jr_o.jm_o3x2hebox_enid=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_enid.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_enid);jr_o.jm_o3x2hebox_enid.hb.setLabel("Id");jr_o.jm_o3x2hebox_enid.hb.setSizeChars(4,7);jr_o.jm_o3x2hebox_enid.hb.setText(ji_bNew?"":jt_o3xxeid.Get_IdEntity());var jt_o3x2atg=A3xa3Array().O();jt_o3x2atg.ar.addItem(jg_oe.jc_oEntity.jc_tg_Major,"M:Generic Main");jt_o3x2atg.ar.addItem(jg_oe.jc_oEntity.jc_tg_Unique,"U:Unique");jt_o3x2atg.ar.addItem(jg_oe.jc_oEntity.jc_tg_Minor,"S:Generic Minor");jt_o3x2atg.ar.addItem(jg_oe.jc_oEntity.jc_tg_MinorBranch,"B:Branch Office");jt_o3x2atg.ar.addItem(jg_oe.jc_oEntity.jc_tg_MinorDestination,"T:Destination");jt_o3x2atg.ar.addItem(jg_oe.jc_oEntity.jc_tg_MinorSubsidiary,"A:Affiliated");jr_o.jm_o3x2hebox_egty=A3xa2HtmSelectBox();jr_o.jm_o3x2hebox_egty.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_egty);jr_o.jm_o3x2hebox_egty.hb.setLabel("GR");jr_o.jm_o3x2hebox_egty.hb.setWidth(40);jr_o.jm_o3x2hebox_egty.hs.setEmptyDescr();jr_o.jm_o3x2hebox_egty.hs.setSelectedItem(ji_bNew?"M":jt_o3xxeid.Get_TypGroup());jr_o.jm_o3x2hebox_egty.hs.setDataSource(jt_o3x2atg.ar);jr_o.jm_o3x2hebox_egid=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_egid.hb.setName(jg_oe.jc_oA3xaDbZero.jc_eidf_egid);jr_o.jm_o3x2hebox_egid.hb.setLabel("Id group");jr_o.jm_o3x2hebox_egid.hb.setSizeChars(3,7);jr_o.jm_o3x2hebox_egid.hb.setText(ji_bNew?"":jt_o3xxeid.Get_IdGroup());return true;};jr_o._loadData_AZNMCPSUV=function(ji_bNew)
{if(!jr_o.jm_oxe)
return false;var jt_o3xxeid=jr_o.jm_oxe.Get_3xXEID();var jt_o3xaznmc=(jt_o3xxeid?jt_o3xxeid.Get_3xAZNMC2():null);jr_o.jm_o3x2hebox_Areas=A3xa2HtmSelectBox_Areas();jr_o.jm_o3x2hebox_Areas.hs.setFilter(jr_o.jm_oxe);jr_o.jm_o3x2hebox_Areas.hs.setDataSource(null);jr_o.jm_o3x2hebox_Areas.hb.setEventChange(function(ji_xtdent_Selected)
{if(ji_xtdent_Selected&&ji_xtdent_Selected.oglr_Z)
{if(jr_o.jm_o3x2hebox_Regions)
{jr_o.jm_o3x2hebox_Regions.hs.setFilter(ji_xtdent_Selected.oglr_Z);jr_o.jm_o3x2hebox_Regions.hs.setDataSource(null);jr_o.jm_o3x2hebox_Regions.hb.updateHtml();}}
return true;});jr_o.jm_o3x2hebox_Regions=A3xa2HtmSelectBox_Regions();jr_o.jm_o3x2hebox_Regions.hs.setFilter(jr_o.jm_oxe);jr_o.jm_o3x2hebox_Regions.hs.setDataSource(null);jr_o.jm_o3x2hebox_Regions.hb.setEventChange(function(ji_xtdent_Selected)
{if(ji_xtdent_Selected&&ji_xtdent_Selected.oglr_N)
{if(jr_o.jm_o3x2hebox_Cities)
{jr_o.jm_o3x2hebox_Cities.hs.setFilter(ji_xtdent_Selected.oglr_N);jr_o.jm_o3x2hebox_Cities.hs.setDataSource(null);jr_o.jm_o3x2hebox_Cities.hb.updateHtml();}}
return true;});jr_o.jm_o3x2hebox_Cities=A3xa2HtmSelectBox_Cities();jr_o.jm_o3x2hebox_Cities.hs.setFilter(jr_o.jm_oxe);jr_o.jm_o3x2hebox_Cities.hs.setDataSource(null);jr_o.jm_o3x2hebox_Cities.hb.setEventChange(function(ji_xtdent_Selected)
{if(ji_xtdent_Selected&&ji_xtdent_Selected.oglr_C)
{if(jr_o.jm_o3x2hebox_Countries)
{jr_o.jm_o3x2hebox_Countries.hs.setFilter(ji_xtdent_Selected.oglr_C);jr_o.jm_o3x2hebox_Countries.hs.setDataSource(null);jr_o.jm_o3x2hebox_Countries.hb.updateHtml();}
if(jr_o.jm_o3x2hebox_States)
{jr_o.jm_o3x2hebox_States.hs.setFilter(ji_xtdent_Selected.oglr_C);jr_o.jm_o3x2hebox_States.hs.setDataSource(null);jr_o.jm_o3x2hebox_States.hb.updateHtml();}}
return true;});var jt_xtdent_City=jr_o.jm_o3x2hebox_Cities.hs.getSelectedItem(true);jr_o.jm_o3x2hebox_Countries=A3xa2HtmSelectBox_Countries();jr_o.jm_o3x2hebox_Countries.hs.setFilter(jt_xtdent_City?jt_xtdent_City.oglr_C:null);jr_o.jm_o3x2hebox_Countries.hs.setDataSource(null);jr_o.jm_o3x2hebox_States=A3xa2HtmSelectBox_States();jr_o.jm_o3x2hebox_States.hs.setFilter(jt_xtdent_City?jt_xtdent_City.oglr_C:null);jr_o.jm_o3x2hebox_States.hs.setDataSource(null);jr_o.jm_o3x2hebox_Categories=A3xa2HtmSelectBox_Categories();jr_o.jm_o3x2hebox_Categories.hs.setFilter(jr_o.jm_oxe);jr_o.jm_o3x2hebox_Categories.hs.setDataSource(null);return true;};jr_o.efsub.loadData=function(ji_oxe,ji_bNew)
{jr_o.jm_oxe=ji_oxe;if(!jr_o.jm_oxe)
return false;if(!jr_o._loadData_GEID(ji_bNew))
return false;return jr_o._loadData_AZNMCPSUV(ji_bNew);};jr_o.efsub.saveToDCEntity=function(ji_odce)
{if(!ji_odce)
return false;ji_odce.Get_3xXEID().Set_GEID(jr_o.jm_o3x2hebox_enty.hb.getText(),jr_o.jm_o3x2hebox_enid.hb.getText(),jr_o.jm_o3x2hebox_egty.hs.getSelectedItem(),jr_o.jm_o3x2hebox_egid.hb.getText());var jt_xtdent_Areas=jr_o.jm_o3x2hebox_Areas.hs.getSelectedItem(true);var jt_xtdent_Regions=jr_o.jm_o3x2hebox_Regions.hs.getSelectedItem(true);var jt_xtdent_Cities=jr_o.jm_o3x2hebox_Cities.hs.getSelectedItem(true);var jt_xtdent_Countries=jr_o.jm_o3x2hebox_Countries.hs.getSelectedItem(true);var jt_xtdent_States=jr_o.jm_o3x2hebox_States.hs.getSelectedItem(true);var jt_xtdent_Categories=jr_o.jm_o3x2hebox_Categories.hs.getSelectedItem(true);var jt_A=null;var jt_Z=null;var jt_N=null;var jt_M=null;var jt_C=null;var jt_P=null;var jt_S=null;var jt_U=null;var jt_V=null;if(jt_xtdent_Areas&&jt_xtdent_Areas.oglr_A)
jt_A=jt_xtdent_Areas.oglr_A.Get_3xXEID().Get_3xAZNMC2().Get_A();if(jt_xtdent_Areas&&jt_xtdent_Areas.oglr_Z)
jt_Z=jt_xtdent_Areas.oglr_Z.Get_3xXEID().Get_3xAZNMC2().Get_Z();if(jt_xtdent_Regions&&jt_xtdent_Regions.oglr_N)
jt_N=jt_xtdent_Regions.oglr_N.Get_3xXEID().Get_3xAZNMC2().Get_N();if(jt_xtdent_Regions&&jt_xtdent_Regions.oglr_M)
jt_M=jt_xtdent_Regions.oglr_M.Get_3xXEID().Get_3xAZNMC2().Get_M();if(jt_xtdent_Cities&&jt_xtdent_Cities.oglr_C)
jt_C=jt_xtdent_Cities.oglr_C.Get_3xXEID().Get_3xAZNMC2().Get_C();if(jt_xtdent_Countries&&jt_xtdent_Countries.oglr_P)
jt_P=jt_xtdent_Countries.oglr_P.Get_3xXEID().Get_3xPS2().Get_P();if(jt_xtdent_States&&jt_xtdent_States.oglr_S)
jt_S=jt_xtdent_States.oglr_S.Get_3xXEID().Get_3xPS2().Get_S();if(jt_xtdent_Categories&&jt_xtdent_Categories.oglr_U)
jt_U=jt_xtdent_Categories.oglr_U.Get_3xXEID().Get_3xCat2().Get_Ucat();if(jt_xtdent_Categories&&jt_xtdent_Categories.oglr_V)
jt_V=jt_xtdent_Categories.oglr_V.Get_3xXEID().Get_3xCat2().Get_Vcat();ji_odce.Get_3xXEID().Get_3xAZNMC2().Set_AZNMC(jt_A,jt_Z,jt_N,jt_M,jt_C);ji_odce.Get_3xXEID().Get_3xPS2().Set_PS(jt_P,jt_S);ji_odce.Get_3xXEID().Get_3xCat2().Set_Category(jt_U,jt_V);return true;};jr_o.efsub.printHtml=function(ji_oci,qi_oCellEditForm)
{if(!ji_oci)
return false;if(!(qi_oCellEditForm&&qi_oCellEditForm.length))
return false;var qi_oDivSection_IDS=jQuery("<div>");qi_oCellEditForm.append(qi_oDivSection_IDS);jr_o.jm_o3x2hebox_enty.hb.printHtml(qi_oDivSection_IDS);qi_oDivSection_IDS.append("&nbsp;");jr_o.jm_o3x2hebox_enid.hb.printHtml(qi_oDivSection_IDS);qi_oDivSection_IDS.append("&nbsp;");jr_o.jm_o3x2hebox_egty.hb.printHtml(qi_oDivSection_IDS);qi_oDivSection_IDS.append("&nbsp;");jr_o.jm_o3x2hebox_egid.hb.printHtml(qi_oDivSection_IDS);var qi_oDivSection_GEO=jQuery("<div>");qi_oCellEditForm.append(qi_oDivSection_GEO);jr_o.jm_o3x2hebox_Areas.hb.printHtml(qi_oDivSection_GEO);jr_o.jm_o3x2hebox_Regions.hb.printHtml(qi_oDivSection_GEO);jr_o.jm_o3x2hebox_Cities.hb.printHtml(qi_oDivSection_GEO);jr_o.jm_o3x2hebox_Countries.hb.printHtml(qi_oDivSection_GEO);jr_o.jm_o3x2hebox_States.hb.printHtml(qi_oDivSection_GEO);jr_o.jm_o3x2hebox_Categories.hb.printHtml(qi_oDivSection_GEO);return true;};return jr_o;}
function A3xa2MgrEditSubForm_EBIS()
{var jr_o={jm_oxe:null,jm_o3x2hebox_name:null,jm_o3x2hebox_descr:null,jm_o3x2hebox_website:null,jm_o3x2hebox_lat:null,jm_o3x2hebox_lon:null,jm_o3x2hebox_color:null,jm_o3x2hebox_created:null,jm_o3x2hebox_modified:null,efsub:A3xa2IMgrEditSubForm()};jr_o.efsub.loadData=function(ji_oxe,ji_bNew)
{jr_o.jm_oxe=ji_oxe;if(!jr_o.jm_oxe)
return false;var jt_o3xxeid=jr_o.jm_oxe.Get_3xXEID();var jt_o3xaznmc=(jt_o3xxeid?jt_o3xxeid.Get_3xAZNMC2():null);var jt_o3xebis=jr_o.jm_oxe.Get_3xEBIS();jr_o.jm_o3x2hebox_name=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_name.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebisf_name);jr_o.jm_o3x2hebox_name.hb.setLabel("Name");jr_o.jm_o3x2hebox_name.hb.setSizeChars(30,250);jr_o.jm_o3x2hebox_name.hb.setText(ji_bNew?"":jt_o3xebis.Get_Name());jr_o.jm_o3x2hebox_descr=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_descr.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebisf_descr);jr_o.jm_o3x2hebox_descr.hb.setLabel("Description");jr_o.jm_o3x2hebox_descr.hb.setSizeChars(30,250);jr_o.jm_o3x2hebox_descr.hb.setText(ji_bNew?"":jt_o3xebis.Get_Descr());jr_o.jm_o3x2hebox_website=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_website.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebisf_url);jr_o.jm_o3x2hebox_website.hb.setLabel("Website");jr_o.jm_o3x2hebox_website.hb.setSizeChars(30,250);jr_o.jm_o3x2hebox_website.hb.setText(ji_bNew?"":jt_o3xebis.Get_Website());jr_o.jm_o3x2hebox_lat=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_lat.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebisf_lat);jr_o.jm_o3x2hebox_lat.hb.setLabel("Lat");jr_o.jm_o3x2hebox_lat.hb.setSizeChars(9,9);jr_o.jm_o3x2hebox_lat.hb.setText(ji_bNew?"":jt_o3xebis.Get_Lat());jr_o.jm_o3x2hebox_lon=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_lon.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebisf_lon);jr_o.jm_o3x2hebox_lon.hb.setLabel("Lon");jr_o.jm_o3x2hebox_lon.hb.setSizeChars(9,9);jr_o.jm_o3x2hebox_lon.hb.setText(ji_bNew?"":jt_o3xebis.Get_Lon());jr_o.jm_o3x2hebox_color=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_color.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebisf_color);jr_o.jm_o3x2hebox_color.hb.setLabel("Color");jr_o.jm_o3x2hebox_color.hb.setSizeChars(6,6);jr_o.jm_o3x2hebox_color.hb.setText(ji_bNew?"":jt_o3xebis.Get_Color());jr_o.jm_o3x2hebox_created=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_created.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebisf_created);jr_o.jm_o3x2hebox_created.hb.setLabel("Created");jr_o.jm_o3x2hebox_created.hb.setSizeChars(19,19);jr_o.jm_o3x2hebox_created.hb.setText(ji_bNew?"":jt_o3xebis.Get_Created());jr_o.jm_o3x2hebox_modified=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_modified.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebisf_modified);jr_o.jm_o3x2hebox_modified.hb.setLabel("Modified");jr_o.jm_o3x2hebox_modified.hb.setSizeChars(19,19);jr_o.jm_o3x2hebox_modified.hb.setText(ji_bNew?"":jt_o3xebis.Get_Modified());return true;};jr_o.efsub.saveToDCEntity=function(ji_odce)
{if(!ji_odce)
return false;ji_odce.Get_3xEBIS().Set_Created(jr_o.jm_o3x2hebox_created.hb.getText());ji_odce.Get_3xEBIS().Set_Modified(jr_o.jm_o3x2hebox_modified.hb.getText());ji_odce.Get_3xEBIS().Set_Name(jr_o.jm_o3x2hebox_name.hb.getText());ji_odce.Get_3xEBIS().Set_Descr(jr_o.jm_o3x2hebox_descr.hb.getText());ji_odce.Get_3xEBIS().Set_Website(jr_o.jm_o3x2hebox_website.hb.getText());ji_odce.Get_3xEBIS().Set_Lat(jr_o.jm_o3x2hebox_lat.hb.getText());ji_odce.Get_3xEBIS().Set_Lon(jr_o.jm_o3x2hebox_lon.hb.getText());ji_odce.Get_3xEBIS().Set_Color(jr_o.jm_o3x2hebox_color.hb.getText());return true;};jr_o.efsub.printHtml=function(ji_oci,qi_oCellEditForm)
{if(!ji_oci)
return false;if(!(qi_oCellEditForm&&qi_oCellEditForm.length))
return false;var qi_oDivSection_MAINATTR=jQuery("<div>");qi_oCellEditForm.append(qi_oDivSection_MAINATTR);jr_o.jm_o3x2hebox_name.hb.printHtml(qi_oDivSection_MAINATTR);jr_o.jm_o3x2hebox_descr.hb.printHtml(qi_oDivSection_MAINATTR);jr_o.jm_o3x2hebox_website.hb.printHtml(qi_oDivSection_MAINATTR);jr_o.jm_o3x2hebox_lat.hb.printHtml(qi_oDivSection_MAINATTR);jr_o.jm_o3x2hebox_lon.hb.printHtml(qi_oDivSection_MAINATTR);jr_o.jm_o3x2hebox_color.hb.printHtml(qi_oDivSection_MAINATTR);jr_o.jm_o3x2hebox_created.hb.printHtml(qi_oDivSection_MAINATTR);jr_o.jm_o3x2hebox_modified.hb.printHtml(qi_oDivSection_MAINATTR);return true;};return jr_o;}
function A3xa2MgrEditSubForm_EBID()
{var jr_o={jm_oxe:null,jm_o3x2hebox_likes:null,jm_o3x2hebox_likesbonus:null,jm_o3x2hebox_rating:null,jm_o3x2hebox_clicks:null,jm_o3x2hebox_score:null,jm_o3x2hebox_scoreweight:null,jm_o3x2hebox_clicksphtime:null,efsub:A3xa2IMgrEditSubForm()};jr_o.efsub.loadData=function(ji_oxe,ji_bNew)
{jr_o.jm_oxe=ji_oxe;if(!jr_o.jm_oxe)
return false;var jt_o3xxeid=jr_o.jm_oxe.Get_3xXEID();var jt_o3xaznmc=(jt_o3xxeid?jt_o3xxeid.Get_3xAZNMC2():null);var jt_o3xebis=jr_o.jm_oxe.Get_3xEBIS();var jt_o3xebid=jr_o.jm_oxe.Get_3xEBID();jr_o.jm_o3x2hebox_likes=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_likes.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebidf_likes);jr_o.jm_o3x2hebox_likes.hb.setLabel("Likes");jr_o.jm_o3x2hebox_likes.hb.setSizeChars(5,5);jr_o.jm_o3x2hebox_likes.hb.setText(ji_bNew?"":jt_o3xebid.Get_Likes());jr_o.jm_o3x2hebox_likesbonus=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_likesbonus.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebidf_likesbonus);jr_o.jm_o3x2hebox_likesbonus.hb.setLabel("Bonus");jr_o.jm_o3x2hebox_likesbonus.hb.setSizeChars(5,5);jr_o.jm_o3x2hebox_likesbonus.hb.setText(ji_bNew?"":jt_o3xebid.Get_LikesBonus());jr_o.jm_o3x2hebox_rating=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_rating.hb.setName("rating");jr_o.jm_o3x2hebox_rating.hb.setLabel("Rating");jr_o.jm_o3x2hebox_rating.hb.setSizeChars(5,5);jr_o.jm_o3x2hebox_rating.hb.setText("");jr_o.jm_o3x2hebox_clicks=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_clicks.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebidf_clicks);jr_o.jm_o3x2hebox_clicks.hb.setLabel("Clicks");jr_o.jm_o3x2hebox_clicks.hb.setSizeChars(5,5);jr_o.jm_o3x2hebox_clicks.hb.setText(ji_bNew?"":jt_o3xebid.Get_Clicks());jr_o.jm_o3x2hebox_score=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_score.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebidf_score);jr_o.jm_o3x2hebox_score.hb.setLabel("Score");jr_o.jm_o3x2hebox_score.hb.setSizeChars(7,7);jr_o.jm_o3x2hebox_score.hb.setText(ji_bNew?"":jt_o3xebid.Get_Score());jr_o.jm_o3x2hebox_scoreweight=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_scoreweight.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebidf_scoreweight);jr_o.jm_o3x2hebox_scoreweight.hb.setLabel("Scoreweight");jr_o.jm_o3x2hebox_scoreweight.hb.setSizeChars(7,7);jr_o.jm_o3x2hebox_scoreweight.hb.setText(ji_bNew?"":jt_o3xebid.Get_ScoreWeight());jr_o.jm_o3x2hebox_clicksphtime=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_clicksphtime.hb.setName(jg_oe.jc_oA3xaDbZero.jc_ebidf_clicksphtime);jr_o.jm_o3x2hebox_clicksphtime.hb.setLabel("ClickTime");jr_o.jm_o3x2hebox_clicksphtime.hb.setSizeChars(19,19);jr_o.jm_o3x2hebox_clicksphtime.hb.setText(ji_bNew?"":jt_o3xebid.Get_ClickTime());return true;};jr_o.efsub.saveToDCEntity=function(ji_odce)
{if(!ji_odce)
return false;ji_odce.Get_3xEBID().Set_Likes(jr_o.jm_o3x2hebox_likes.hb.getText());ji_odce.Get_3xEBID().Set_LikesBonus(jr_o.jm_o3x2hebox_likesbonus.hb.getText());ji_odce.Get_3xEBID().Set_Clicks(jr_o.jm_o3x2hebox_clicks.hb.getText());ji_odce.Get_3xEBID().Set_ClickTime(jr_o.jm_o3x2hebox_clicksphtime.hb.getText());ji_odce.Get_3xEBID().Set_Score(jr_o.jm_o3x2hebox_score.hb.getText());ji_odce.Get_3xEBID().Set_ScoreWeight(jr_o.jm_o3x2hebox_scoreweight.hb.getText());return true;};jr_o.efsub.printHtml=function(ji_oci,qi_oCellEditForm)
{if(!ji_oci)
return false;if(!(qi_oCellEditForm&&qi_oCellEditForm.length))
return false;var qi_oDivSection_DYNATTR=jQuery("<div>");qi_oCellEditForm.append(qi_oDivSection_DYNATTR);jr_o.jm_o3x2hebox_likes.hb.printHtml(qi_oDivSection_DYNATTR);jr_o.jm_o3x2hebox_likesbonus.hb.printHtml(qi_oDivSection_DYNATTR);jr_o.jm_o3x2hebox_rating.hb.printHtml(qi_oDivSection_DYNATTR);jr_o.jm_o3x2hebox_clicks.hb.printHtml(qi_oDivSection_DYNATTR);jr_o.jm_o3x2hebox_score.hb.printHtml(qi_oDivSection_DYNATTR);jr_o.jm_o3x2hebox_clicksphtime.hb.printHtml(qi_oDivSection_DYNATTR);return true;};return jr_o;}
function A3xa2IMgrEditForm()
{var jr_I={loadData:function(ji_oxe){return false;},printHtml:function(ji_oci,ji_fnDoEditForm){return false;},clearHtml:function(ji_oci){return false;},getDCEntity:function(){return null;}};return jr_I;}
function A3xa2MgrEditForm()
{var jr_o={jm_oxe:null,jm_bNew:false,jm_bSubsidiary:false,jm_o3x2ef_eid:A3xa2MgrEditSubForm_EID(),jm_o3x2ef_ebis:A3xa2MgrEditSubForm_EBIS(),jm_o3x2ef_ebid:A3xa2MgrEditSubForm_EBID(),ef:A3xa2IMgrEditForm()};jr_o.ef.getDCEntity=function()
{var jr_odcUpdated=new A3xaDCEntity();if(!jr_o.jm_o3x2ef_eid.efsub.saveToDCEntity(jr_odcUpdated))
return null;if(!jr_o.jm_o3x2ef_ebis.efsub.saveToDCEntity(jr_odcUpdated))
return null;if(!jr_o.jm_o3x2ef_ebid.efsub.saveToDCEntity(jr_odcUpdated))
return null;return jr_odcUpdated;};jr_o.ef.loadData=function(ji_oxe,ji_bNew)
{jr_o.jm_bNew=ji_bNew;jr_o.jm_oxe=ji_oxe;if(!jr_o.jm_oxe)
return false;if(!jr_o.jm_o3x2ef_eid.efsub.loadData(jr_o.jm_oxe,jr_o.jm_bNew))
return false;if(!jr_o.jm_o3x2ef_ebis.efsub.loadData(jr_o.jm_oxe,jr_o.jm_bNew))
return false;if(!jr_o.jm_o3x2ef_ebid.efsub.loadData(jr_o.jm_oxe,jr_o.jm_bNew))
return false;return true;};jr_o.ef.printHtml=function(ji_oci,ji_fnDoEditForm)
{if(!ji_oci)
return false;if(!(ji_oci.qm_oCell&&ji_oci.qm_oCell.length))
return false;if(!jr_o.jm_oxe)
return false;var jt_o3xxeid=jr_o.jm_oxe.Get_3xXEID();var jt_idEditForm="efb_"+jt_o3xxeid.Get_TypEntity()+jt_o3xxeid.Get_IdEntity()+"_"+
(jt_o3xxeid.Get_TypGroup()||"M")+(jt_o3xxeid.Get_IdGroup()||"0");var qt_oDivEditForm=jQuery("#"+jt_idEditForm);if(qt_oDivEditForm&&qt_oDivEditForm.length)
return false;qt_oDivEditForm=jQuery("<div>",{id:jt_idEditForm});ji_oci.qm_oCell.append(qt_oDivEditForm);jr_o.jm_o3x2ef_eid.efsub.printHtml(ji_oci,qt_oDivEditForm);jr_o.jm_o3x2ef_ebis.efsub.printHtml(ji_oci,qt_oDivEditForm);jr_o.jm_o3x2ef_ebid.efsub.printHtml(ji_oci,qt_oDivEditForm);var qi_oDivSection_SUBMIT=jQuery("<div>");qt_oDivEditForm.append(qi_oDivSection_SUBMIT);var qi_oSubmitOK=jQuery("<button type='button'>OK</button>");qi_oDivSection_SUBMIT.append(qi_oSubmitOK);qi_oSubmitOK.on("click",function()
{if(ji_fnDoEditForm)
{ji_fnDoEditForm({bNew:jr_o.jm_bNew,b3Show:false,bSubmit:true,oxeNew:jr_o.ef.getDCEntity()});}
return false;});qi_oDivSection_SUBMIT.append("&nbsp;");var qi_oSubmitCancel=jQuery("<button type='button'>Cancel</button>");qi_oDivSection_SUBMIT.append(qi_oSubmitCancel);qi_oSubmitCancel.on("click",function()
{if(ji_fnDoEditForm)
ji_fnDoEditForm({b3Show:false});return false;});return true;};jr_o.ef.clearHtml=function(ji_oci)
{if(!(ji_oci.qm_oCell&&ji_oci.qm_oCell.length))
return false;if(!jr_o.jm_oxe)
return false;var jt_o3xxeid=jr_o.jm_oxe.Get_3xXEID();var jt_o3xaznmc=(jt_o3xxeid?jt_o3xxeid.Get_3xAZNMC2():null);var jt_idEditForm="efb_"+jt_o3xxeid.Get_TypEntity()+jt_o3xxeid.Get_IdEntity()+"_"+
(jt_o3xxeid.Get_TypGroup()||"M")+(jt_o3xxeid.Get_IdGroup()||"0");var qt_oDivEditForm=jQuery("#"+jt_idEditForm);if(qt_oDivEditForm&&qt_oDivEditForm.length)
{qt_oDivEditForm.remove();}
return true;};return jr_o;}
function A3xa2MgrEditInfoForm()
{var jr_o={jm_oxe:null,jm_bNew:false,jm_bSubsidiary:false,jm_o3xeiModified:null,jm_o3x2hebox_ei:null,jm_o3x2hebox_eityp:null,jm_o3x2hebox_eicod:null,jm_o3x2hebox_eiid:null,jm_o3x2hebox_eipar:null,jm_o3x2hebox_einfo:null,ef:A3xa2IMgrEditForm()};jr_o.ef.getDCEntity=function()
{var jr_odcUpdated=new A3xaDCEntity();if(!jr_o.jm_o3x2ef_eid.efsub.saveToDCEntity(jr_odcUpdated))
return null;if(!jr_o.jm_o3x2ef_ebis.efsub.saveToDCEntity(jr_odcUpdated))
return null;if(!jr_o.jm_o3x2ef_ebid.efsub.saveToDCEntity(jr_odcUpdated))
return null;return jr_odcUpdated;};jr_o.ef.loadData=function(ji_oxe,ji_bNew)
{jr_o.jm_bNew=ji_bNew;jr_o.jm_oxe=ji_oxe;if(!jr_o.jm_oxe)
return false;jr_o.jm_o3xeiModified=new A3xaEI();jr_o.jm_o3xeiModified.CopyFrom(jr_o.jm_oxe);var jt_o3x2aei_descr=A3xa3Array().O();var jt_o3x2aei=jr_o.jm_o3xeiModified.Get_3x2Info();var jt_count=jt_o3x2aei.ar.getCount();for(var i=0;i<jt_count;i++)
{var jt_oeifa=jt_o3x2aei.ar.getItem_ByIndex(i);var jt_m=jt_oeifa.Get_Master();var jt_smdescr=jt_m[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ]+" "+jt_m[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod]+" "+
jt_m[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id]+" "+jt_m[jg_oe.jc_oA3xaDbZero.jc_Eifa_IdParent]+" "+
jt_m[jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];var jt_mkey=jt_m[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ]+","+jt_m[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id]+","+
jt_m[jg_oe.jc_oA3xaDbZero.jc_Eifa_IdParent];jt_o3x2aei_descr.ar.addItem(jt_mkey,jt_smdescr);var jt_as=jt_oeifa.Get_Slaves();for(var s=0;jt_as&&s<jt_as.length;s++)
{var jt_s=jt_as[s];var jt_ssdescr=jt_s[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ]+" "+jt_s[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod]+" "+
jt_s[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id]+" "+jt_s[jg_oe.jc_oA3xaDbZero.jc_Eifa_IdParent]+" "+
jt_s[jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];var jt_skey=jt_s[jg_oe.jc_oA3xaDbZero.jc_Eifa_Typ]+","+jt_s[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id]+","+
jt_s[jg_oe.jc_oA3xaDbZero.jc_Eifa_IdParent];jt_o3x2aei_descr.ar.addItem(jt_skey,jt_ssdescr);}}
jr_o.jm_o3x2hebox_ei=A3xa2HtmSelectBox();jr_o.jm_o3x2hebox_ei.hb.setName(jg_oe.jc_oA3xaDbZero.jc_sEifaName);jr_o.jm_o3x2hebox_ei.hb.setLabel("Entity Info");jr_o.jm_o3x2hebox_ei.hb.setWidth(200);jr_o.jm_o3x2hebox_ei.hs.setEmptyDescr();jr_o.jm_o3x2hebox_ei.hs.setSelectedItem(null);jr_o.jm_o3x2hebox_ei.hs.setDataSource(jt_o3x2aei_descr.ar);jr_o.jm_o3x2hebox_ei.hb.setEventChange(function(ji_eikey_Selected)
{if(!ji_eikey_Selected)
return true;var jt_aeikey=ji_eikey_Selected.split(",");var jt_eityp=jt_aeikey[0];var jt_eiid=jt_aeikey[1];var jt_eipar=jt_aeikey[2];return jr_o._reloadInfo(jt_aeikey[0],jt_aeikey[1],jt_aeikey[2]);});jr_o.jm_o3x2hebox_eityp=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_eityp.hb.setName("eityp");jr_o.jm_o3x2hebox_eityp.hb.setLabel("Typ");jr_o.jm_o3x2hebox_eityp.hb.setSizeChars(1,3);jr_o.jm_o3x2hebox_eityp.hb.setText("");jr_o.jm_o3x2hebox_eicod=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_eicod.hb.setName("eicod");jr_o.jm_o3x2hebox_eicod.hb.setLabel("Cod");jr_o.jm_o3x2hebox_eicod.hb.setSizeChars(1,3);jr_o.jm_o3x2hebox_eicod.hb.setText("");jr_o.jm_o3x2hebox_eiid=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_eiid.hb.setName("eiid");jr_o.jm_o3x2hebox_eiid.hb.setLabel("Id");jr_o.jm_o3x2hebox_eiid.hb.setSizeChars(1,3);jr_o.jm_o3x2hebox_eiid.hb.setText("");jr_o.jm_o3x2hebox_eipar=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_eipar.hb.setName("eipar");jr_o.jm_o3x2hebox_eipar.hb.setLabel("Idpar");jr_o.jm_o3x2hebox_eipar.hb.setSizeChars(1,3);jr_o.jm_o3x2hebox_eipar.hb.setText("");jr_o.jm_o3x2hebox_einfo=A3xa2HtmEditBox();jr_o.jm_o3x2hebox_einfo.hb.setName("einfo");jr_o.jm_o3x2hebox_einfo.hb.setLabel("Info");jr_o.jm_o3x2hebox_einfo.hb.setSizeChars(50,1000,5);jr_o.jm_o3x2hebox_einfo.hb.setText("");return true;};jr_o._reloadInfo=function(ji_TypInfo,ji_IdInfo,ji_IdParent)
{if(!(ji_TypInfo&&ji_IdInfo))
return false;var jt_eicod="";var jt_einfo="";var jt_o3x2aoeifa=jr_o.jm_o3xeiModified.Get_3x2Info(ji_TypInfo,ji_IdParent>0?ji_IdParent:ji_IdInfo);if(!(jt_o3x2aoeifa&&jt_o3x2aoeifa.ar.getCount()>0))
return false;var jt_eim=jt_o3x2aoeifa.ar.getItem_ByIndex(0).Get_Master();if(!(ji_IdParent>0))
{jt_eicod=jt_eim[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod];jt_einfo=jt_eim[jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];}
else
{var jt_aoeifaSlaves=jt_o3x2aoeifa.ar.getItem_ByIndex(0).Get_Slaves();for(var i=0;jt_aoeifaSlaves&&i<jt_aoeifaSlaves.length;i++)
{var jt_eis=jt_aoeifaSlaves[i];if(jt_eis[jg_oe.jc_oA3xaDbZero.jc_Eifa_Id]==ji_IdInfo)
{jt_eicod=jt_eis[jg_oe.jc_oA3xaDbZero.jc_Eifa_Cod];jt_einfo=jt_eis[jg_oe.jc_oA3xaDbZero.jc_Eifa_Info];break;}}}
jr_o.jm_o3x2hebox_eityp.hb.setText(ji_TypInfo);jr_o.jm_o3x2hebox_eicod.hb.setText(jt_eicod);jr_o.jm_o3x2hebox_eiid.hb.setText(ji_IdInfo);jr_o.jm_o3x2hebox_eipar.hb.setText(ji_IdParent);jr_o.jm_o3x2hebox_einfo.hb.setText(jt_einfo);jr_o.jm_o3x2hebox_eityp.hb.updateHtml();jr_o.jm_o3x2hebox_eicod.hb.updateHtml();jr_o.jm_o3x2hebox_eiid.hb.updateHtml();jr_o.jm_o3x2hebox_eipar.hb.updateHtml();jr_o.jm_o3x2hebox_einfo.hb.updateHtml();return true;};jr_o.ef.printHtml=function(ji_oci,ji_fnDoEditForm)
{if(!ji_oci)
return false;if(!(ji_oci.qm_oCell&&ji_oci.qm_oCell.length))
return false;if(!jr_o.jm_oxe)
return false;var jt_o3xxeid=jr_o.jm_oxe.Get_3xXEID();var jt_idEditForm="eifb_"+jt_o3xxeid.Get_TypEntity()+jt_o3xxeid.Get_IdEntity()+"_"+
(jt_o3xxeid.Get_TypGroup()||"M")+(jt_o3xxeid.Get_IdGroup()||"0");var qt_oDivEditForm=jQuery("#"+jt_idEditForm);if(qt_oDivEditForm&&qt_oDivEditForm.length)
return false;qt_oDivEditForm=jQuery("<div>",{id:jt_idEditForm});ji_oci.qm_oCell.append(qt_oDivEditForm);var qi_oDivSection_EINFO=jQuery("<div>");qt_oDivEditForm.append(qi_oDivSection_EINFO);jr_o.jm_o3x2hebox_ei.hb.printHtml(qi_oDivSection_EINFO);qi_oDivSection_EINFO.append("&nbsp;");jr_o.jm_o3x2hebox_eityp.hb.printHtml(qi_oDivSection_EINFO);qi_oDivSection_EINFO.append("&nbsp;");jr_o.jm_o3x2hebox_eicod.hb.printHtml(qi_oDivSection_EINFO);qi_oDivSection_EINFO.append("&nbsp;");jr_o.jm_o3x2hebox_eiid.hb.printHtml(qi_oDivSection_EINFO);qi_oDivSection_EINFO.append("&nbsp;");jr_o.jm_o3x2hebox_eipar.hb.printHtml(qi_oDivSection_EINFO);qi_oDivSection_EINFO.append("&nbsp;");jr_o.jm_o3x2hebox_einfo.hb.printHtml(qi_oDivSection_EINFO);var qi_oDivSection_ESUBMIT=jQuery("<div>");qt_oDivEditForm.append(qi_oDivSection_ESUBMIT);var qi_oSubmitOK=jQuery("<button type='button'>OK</button>");qi_oDivSection_ESUBMIT.append(qi_oSubmitOK);qi_oSubmitOK.on("click",function()
{if(ji_fnDoEditInfoForm)
{ji_fnDoEditInfoForm({bNew:jr_o.jm_bNew,b3Show:false,bSubmit:true,oxeNew:jr_o.ef.getDCEntity()});}
return false;});qi_oDivSection_ESUBMIT.append("&nbsp;");var qi_oSubmitCancel=jQuery("<button type='button'>Cancel</button>");qi_oDivSection_ESUBMIT.append(qi_oSubmitCancel);qi_oSubmitCancel.on("click",function()
{if(ji_fnDoEditInfoForm)
ji_fnDoEditInfoForm({b3Show:false});return false;});qi_oDivSection_ESUBMIT.append("&nbsp;");var qi_oSubmitSAVE=jQuery("<button type='button'>SAVE</button>");qi_oDivSection_ESUBMIT.append(qi_oSubmitSAVE);qi_oSubmitSAVE.on("click",function()
{return false;});return true;};jr_o.ef.clearHtml=function(ji_oci)
{if(!(ji_oci.qm_oCell&&ji_oci.qm_oCell.length))
return false;if(!jr_o.jm_oxe)
return false;var jt_o3xxeid=jr_o.jm_oxe.Get_3xXEID();var jt_o3xaznmc=(jt_o3xxeid?jt_o3xxeid.Get_3xAZNMC2():null);var jt_idEditForm="eifb_"+jt_o3xxeid.Get_TypEntity()+jt_o3xxeid.Get_IdEntity()+"_"+
(jt_o3xxeid.Get_TypGroup()||"M")+(jt_o3xxeid.Get_IdGroup()||"0");var qt_oDivEditForm=jQuery("#"+jt_idEditForm);if(qt_oDivEditForm&&qt_oDivEditForm.length)
{qt_oDivEditForm.remove();}
return true;};return jr_o;}"use strict";function A3xa2IMgrPageUsersRegister()
{var jr_I={printHtml:function(){return false;},clearHtml:function(){return false;}};return jr_I;}
function A3xa2MgrPageUsersRegister()
{var jr_o={pur:A3xa2IMgrPageUsersRegister()};jr_o.pur.printHtml=function()
{$("#register").click(function()
{var jt_username=$("#username").val();var jt_email=$("#email").val();var jt_password=$("#password").val();var jt_cpassword=$("#cpassword").val();if(jt_username==""||jt_email==""||jt_password==""||jt_cpassword=="")
{alert("Please fill all fields...!!!!!!");}
else if((jt_password.length)<8)
{alert("Password should at least be 8 character in length...!!!!!!");}
else if(jt_password!=jt_cpassword)
{alert("Your passwords don't match. Try again?");}
else
{$.post(jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",{p3n:JSON.stringify({mark:"J3",oppg:"users_register",optyp:"exec",code:"",msg:"",username:jt_username,email:jt_email,pwd:jt_password},function(ji_k,ji_v)
{return ji_v;})},function(ji_response)
{var jt_oResponse=JSON.parse(ji_response,function(ji_k,ji_v)
{return ji_v;});if(jt_oResponse&&jt_oResponse.mark=="J3"&&jt_oResponse.oppg=="users_register")
{if(jt_oResponse.result=="success")
{alert(jt_oResponse.msg?jt_oResponse.msg:"User Registered");var qt_ohFormUR=$("#users_register");if(qt_ohFormUR&&qt_ohFormUR.length)
qt_ohFormUR[0].reset();var jt_oUrl=new A3xaUrl(jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"home?","");jt_oUrl.Redirect();}
else
alert(jt_oResponse.msg?jt_oResponse.msg:"Registration fails");}
else
alert("Registration Fails:"+(jt_oResponse?jt_oResponse.msg:""));});}});return true;};jr_o.pur.clearHtml=function()
{return true;};return jr_o;}
function A3xa2MgrPageUsersLogin()
{var jr_o={pul:A3xa2IMgrPageUsersRegister()};jr_o.pul.printHtml=function()
{$("#login").click(function()
{var jt_username=$("#username").val();var jt_password=$("#password").val();if(jt_username==""||jt_password=="")
{alert("Please fill all fields...!!!!!!");}
else if((jt_password.length)<8)
{alert("Password should at least 8 be character in length...!!!!!!");}
else
{$.post(jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"?",{p3n:JSON.stringify({mark:"J3",oppg:"users_login",optyp:"exec",code:"",msg:"",username:jt_username,pwd:jt_password},function(ji_k,ji_v)
{return ji_v;})},function(ji_response)
{jg_oe.CanLogInfo()&&jg_oe.LogInfo(ji_response,"","A3xa2MgrPageUsersLogin");var jt_oResponse=JSON.parse(ji_response,function(ji_k,ji_v)
{return ji_v;});if(jt_oResponse&&jt_oResponse.mark=="J3"&&jt_oResponse.oppg=="users_login")
{if(jt_oResponse.result=="success")
{alert(jt_oResponse.msg?jt_oResponse.msg:"User logged in");var qt_ohFormUR=$("#users_login");if(qt_ohFormUR&&qt_ohFormUR.length)
qt_ohFormUR[0].reset();var jt_oUrl=new A3xaUrl(jg_oe.jc_oXUR.jc_sUrlBase_A3xaFormDDAJOO+"home?","");jt_oUrl.Redirect();}
else
alert(jt_oResponse.msg?jt_oResponse.msg:"Login Fails");}
else
alert("Login Fails:"+(jt_oResponse?jt_oResponse.msg:""));});}});return true;};jr_o.pul.clearHtml=function()
{return true;};return jr_o;}"use strict";function A3xa2IMgrPageHeaderBar()
{var jr_I={printHtml:function(){return false;},};return jr_I;}
function A3xa2MgrPageHeaderBar()
{var jr_o={phb:A3xa2IMgrPageHeaderBar()};jr_o.phb.printHtml=function()
{var qt_ohphb=$("#A3xaPageHeaderBar");if(!(qt_ohphb&&qt_ohphb.length))
return false;var qt_ohW20=$("#W20Bar");if(qt_ohW20&&qt_ohW20.length)
{return true;}
else
{qt_ohW20=$("<div id='W20Bar'>");qt_ohW20.css({"display":"inline-block","vertical-align":"top"});qt_ohphb.append(qt_ohW20);if(!(qt_ohW20&&qt_ohW20.length))
return false;}
jr_o.phb._printIcon(qt_ohW20,jg_oe.jc_oIcons.jc_oIconSS_Sitemap.absid,jg_oe.jm_sDirHome+jg_oe.jm_sLang+"/sitemap","Sitemap-xml-Index-"+jg_oe.jm_sSitemapDate,"smx");var qt_ohUL=$("<div class='list-inline'>");qt_ohUL.css({"display":"inline-block","vertical-align":"top"});qt_ohW20.append(qt_ohUL);if(!(qt_ohUL&&qt_ohUL.length))
return false;var qt_ohUL2=$("<div class='list-inline'>");qt_ohUL2.css({"display":"inline-block","vertical-align":"top"});qt_ohW20.append(qt_ohUL2);if(!(qt_ohUL2&&qt_ohUL2.length))
return false;jr_o.phb._printIcon(qt_ohUL,jg_oe.jc_oIcons.jc_oIconSS_Url.absid,"http://avenidaazul.a3xa.com/","Avenida Azul 3x","a3x");jr_o.phb._printIcon(qt_ohUL,jg_oe.jc_oIcons.jc_oIconSS_Email.absid,EmailAntispam_UrlLink("avenida.azul__at__a3xa__dot__com"),"info","nfo");jr_o.phb._printIcon(qt_ohUL,jg_oe.jc_oIcons.jc_oIconSS_Email.absid,EmailAntispam_UrlLink("orapaz.webmaster__at__a3xa__dot__com"),"orapaz","orz");jr_o.phb._printIcon(qt_ohUL,jg_oe.jc_oIcons.jc_oIconSS_Skypetxt.absid,"skype:avenida.azul?call","Skype","skp");jr_o.phb._printIcon(qt_ohUL2,jg_oe.jc_oIcons.jc_oIconSS_Pinterest.absid,"https://pinterest.com/avenidaazul","Pinterest","pnt");jr_o.phb._printIcon(qt_ohUL2,jg_oe.jc_oIcons.jc_oIconSS_FacebookPage.absid,"https://www.facebook.com/AvenidaAzul.A3xa/","Facebook page","fbp");jr_o.phb._printIcon(qt_ohUL2,jg_oe.jc_oIcons.jc_oIconSS_Flickr.absid,"https://www.flickr.com/people/avenidaazul/","Flickr","fkr");jr_o.phb._printIcon(qt_ohUL2,jg_oe.jc_oIcons.jc_oIconSS_Flickr.absid,"https://www.flickr.com/avenidaazul/map","Flickr map","fkm");jr_o.phb._printIcon(qt_ohUL2,jg_oe.jc_oIcons.jc_oIconSS_Gplus.absid,"https://plus.google.com/+Avenidaazulcom","G+ page","");jr_o.phb._printIcon(qt_ohUL2,jg_oe.jc_oIcons.jc_oIconSS_Twitter.absid,"https://twitter.com/avenidaazul","Twitter","twt");jr_o.phb._printIcon(qt_ohUL2,jg_oe.jc_oIcons.jc_oIconSS_Video.absid,"https://youtube.com/avenidazul","Youtube","ytb");jr_o.phb._printIcon(qt_ohUL2,jg_oe.jc_oIcons.jc_oIconSS_WCUrl.absid,"https://en.wikipedia.org/wiki/Flush_toilet","Flush toilet","wct");var qt_ohLI_fblike=$("<div>");qt_ohLI_fblike.css({"display":"inline-block","vertical-align":"top"});qt_ohW20.append(qt_ohLI_fblike);if(!(qt_ohLI_fblike&&qt_ohLI_fblike.length))
return false;qt_ohLI_fblike.append("<iframe "+" src='//www.facebook.com/plugins/like.php?href=https%3A%2F%2Ffacebook.com%2FAvenidaAzul.A3xa%2F&amp;width&amp;layout=standard&amp;action=like&amp;show_faces=false&amp;share=false&amp;height=35' "+" scrolling='no' frameborder='0' "+" style='border:none; overflow:hidden; width:300px; height:40px;' allowTransparency='true'>");return true;};jr_o.phb._printIcon=function(qi_ohParent,ji_idIcon,ji_sUrl,ji_sTitle,ji_sAlt)
{var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xhici=jt_o3xmngic.NewSprite(ji_idIcon);jt_o3xhici.Set_UrlLink(ji_sUrl);jt_o3xhici.Set_Title(ji_sTitle,ji_sAlt);jt_o3xhici.Set_Options(null,false);var jt_ohButton=new A3xaSimpleButton3(jt_o3xhici);var qt_ohLI=$("<div>");qt_ohLI.css({"display":"inline-block","vertical-align":"top"});qi_ohParent.append(qt_ohLI);if(!(qt_ohLI&&qt_ohLI.length))
return false;jt_ohButton.PrintHtml(qt_ohLI);return true;};return jr_o;}"use strict";function A3xaTopMenu()
{this._A3xaTopMenu=function()
{};this.PrintHtml=function(qi_oParent)
{if(!(qi_oParent&&qi_oParent.length))
return false;var jt_o3xxur=jg_oApp.Get_AppXUR().Get_3xXUR();var jt_bYB=New_A3xaAZNMC_XApp(jt_o3xxur.Get_3xXEID()).IsBestFromBabylon();var jt_o3xmngic=jg_oe.Get_3xAppMngIcons();var jt_odfic=jt_o3xmngic.Get_DefIcons();var jt_o3xhici_Home=jt_o3xmngic.NewSprite(jt_odfic.jc_oIconMS_TopMenu_Home.absid);jt_o3xhici_Home.Set_Dim(24,24);jt_o3xhici_Home.Set_UrlLink(jg_oe.jm_sDirHome+jg_oe.jm_sLang+"/",false);jt_o3xhici_Home.Set_Title(jt_odfic.jc_oIconMS_TopMenu_Home.title,jt_odfic.jc_oIconMS_TopMenu_Home.alt);jt_o3xhici_Home.Set_Options(null,false);var jt_ohButton_Home=new A3xaSimpleButton3(jt_o3xhici_Home);jt_ohButton_Home.Set_Status({off:true});if(!jt_ohButton_Home.PrintHtml(qi_oParent))
return false;var jt_o3xhici_LA=jt_o3xmngic.NewSprite(jt_odfic.jc_oIconMS_TopMenu_LA.absid);jt_o3xhici_LA.Set_Dim(24,24);if(jt_bYB)
{var jt_sQS=jg_oe.jc_oUrls.jc_surlRelHomeDirDDAJOO_LA;jt_o3xhici_LA.Set_UrlLink(jg_oe.jm_sDirHome+jg_oe.jm_sLang+"/"+jt_sQS,false);}
jt_o3xhici_LA.Set_Title(jt_odfic.jc_oIconMS_TopMenu_LA.title,jt_odfic.jc_oIconMS_TopMenu_LA.alt);jt_o3xhici_LA.Set_Options(null,false);var jt_ohButton_LA=new A3xaSimpleButton3(jt_o3xhici_LA);if(jt_bYB)
jt_ohButton_LA.Set_Status({off:true});else
jt_ohButton_LA.Set_Status({on:true});if(!jt_ohButton_LA.PrintHtml(qi_oParent))
return false;var jt_o3xhici_YB=jt_o3xmngic.NewSprite(jt_odfic.jc_oIconMS_TopMenu_YB.absid);jt_o3xhici_YB.Set_Dim(24,24);if(!jt_bYB)
{var jt_sQS=jg_oe.jc_oUrls.jc_surlRelHomeDirDDAJOO_YB;jt_o3xhici_YB.Set_UrlLink(jg_oe.jm_sDirHome+jg_oe.jm_sLang+"/"+jt_sQS,false);}
jt_o3xhici_YB.Set_Title(jt_odfic.jc_oIconMS_TopMenu_YB.title,jt_odfic.jc_oIconMS_TopMenu_YB.alt);jt_o3xhici_YB.Set_Options(null,false);var jt_ohButton_YB=new A3xaSimpleButton3(jt_o3xhici_YB);if(jt_bYB)
jt_ohButton_YB.Set_Status({on:true});else
jt_ohButton_YB.Set_Status({off:true});if(!jt_ohButton_YB.PrintHtml(qi_oParent))
return false;var jt_o3xhici_D3=jt_o3xmngic.NewSprite(jt_odfic.jc_oIconMS_TopMenu_D3.absid);jt_o3xhici_D3.Set_Dim(24,24);jt_o3xhici_D3.Set_Title(jt_odfic.jc_oIconMS_TopMenu_D3.title,jt_odfic.jc_oIconMS_TopMenu_D3.alt);jt_o3xhici_D3.Set_Options(null,false);var jt_ohButton_D3=new A3xaSimpleButton3(jt_o3xhici_D3);jt_ohButton_D3.Set_Status({dis:true});if(!jt_ohButton_D3.PrintHtml(qi_oParent))
return false;return true;};this._A3xaTopMenu();}"use strict";var jg_oApp=new A3xaAppManager();function A3xaAppManager()
{A3xaEnvironment.call(this);var jt_this=this;this._A3xaAppManager=function()
{this.jc_oStorage=new A3xaDefines_Storage();this.jc_oA3xaDatabase=new A3xaDefines_A3xaDatabase();this.jc_oA3xaDbZero=new A3xaDefines_A3xaDbZero();this.jc_oEntity=new A3xaDefines_Entity();this.jc_oEntityInfo=new A3xaDefines_EntityInfo();this.jc_oHtml=new A3xaDefines_Html();this.jc_oUrls=new A3xaDefines_Urls();this.jm_oAppXUR=new A3xaAppXUR();this.jm_oAppXUR.Set_DefXUR(new A3xaDefines_XUR());this.jc_oXUR=this.jm_oAppXUR.Get_DefXUR();this.jm_oAppMngIcons=new A3xaAppMngIcons();this.jm_oAppMngIcons.Set_DefIcons(new A3xaDefines_Icons());this.jc_oIcons=this.jm_oAppMngIcons.Get_DefIcons();this.jm_oMgrStorage=new A3xaStorageManager();this.Set_Reporter(new A3xaReporter());this.Set_Database(new A3xaDbZero());this.Get_MgrStorage().EnableStorage(function(ji_bReady){return jt_this.CheckInitDone();});this.jm_o3x2Clock=A3xa2Clock();this.jm_oMgrSummary=new A3xaMgrSummary();this.jm_o3x2MgrScore=A3xa2MgrScore();};this.HostInitApplication2=function(ji_shia)
{var jt_ohia={};var jt_sMsg="";if(jQuery.type(ji_shia)==="string")
{try
{jt_ohia=JSON.parse(ji_shia,function(ji_k,ji_v)
{return ji_v;});}
catch(e)
{jt_sMsg=e.message;jt_ohia={};}}
if(!jt_ohia||jt_sMsg)
{jt_sMsg="Errors Host Initialization Data"+jt_sMsg;alert(jt_sMsg);return false;}
this.A3xaAbsEnvironment_Set_CommonValues2(jt_ohia);this.Set_Debug((jt_ohia.bDebug?1:0),{DB:3,DBT:"idb"});this.Get_AppXUR().Set_XURString(jt_ohia.xur);this.Get_AppXUR().Set_Page(jt_ohia.page);this.jm_o3x2Clock.ck.enableHost(this.Get_WebbotName()?false:true);return true;}
this.Get_ECPMgr=function()
{return(this.Get_HtmlSetEntity()?this.Get_HtmlSetEntity().Get_ECPMgr():null);};this.ConnectSDS=function()
{var jt_odb=this.Get_Database();if(!jt_odb)
return false;var jt_o3x2sdsdb=jt_odb.Get_SDSDBStore();if(!jt_o3x2sdsdb)
return false;return jt_o3x2sdsdb.db.addTablesJSDS({jp_bTyp_Common:true});};this._OnDocumentReady=function()
{var qt_hia=$("#hostinitapp");if(qt_hia&&qt_hia.length)
{qt_hia.text("");this.HostInitApplication2(qt_hia.attr("data-a3xa-hia"));}
this.CheckInitDone();return true;};this.jm_bCheckInitDone=false;this.CheckInitDone=function()
{if(this.jm_bCheckInitDone)
return false;if(!(this.IsReady()&&this.Get_MgrStorage().IsReady()))
return false;this.jm_bCheckInitDone=true;if(this.Get_AppXUR().Get_Page(0))
{if(this.Get_AppXUR().Get_Page(0)=="sitemap")
{this.ResetApp();this.Get_DataManager().ManageData();}
else
{this.DocumentShow();}}
else
{this.ResetApp();this.ShowCPTemplate();this.LogStatusBar2(new A3xaString(["Ready","Listo","Pronto","Pronto"]),false,true);var jt_oglPreloadedData=this.Get_GLPreloadedData();if(jt_oglPreloadedData&&!jQuery.isEmptyObject(jt_oglPreloadedData))
this.Get_DataManager().ManagePreloadedData();else
this.Get_DataManager().ManageData();}
return true;};this.ResetApp=function()
{if(this.Get_ECPMgr())
this.Get_ECPMgr().ResetECP();this.Set_Reporter(new A3xaReporter());return true;};this.Get_DataManager=function(ji_bNew)
{if(!this.jm_o3xDataManager||ji_bNew)
{this.jm_o3xDataManager=null;this.jm_o3xDataManager=new A3xaDataManager(function(ji_oDTStatus)
{if(ji_oDTStatus.IsOpLoad()&&ji_oDTStatus.IsDone())
{var jt_otmDocumentShow=setTimeout(function()
{jt_this.OnDataLoadedSetup();jt_this.DocumentShow();},10);}
return true;},this.Get_Database());}
return this.jm_o3xDataManager;};this.OnDataLoadedSetup=function()
{this.Set_3xXEMSC_ByXUR(this.Get_Database().Get_3xXEMSC_ByXUR());this.Get_Database().OnDataLoadedSetup();this.Get_AppXUR().OnDataLoadedSetup();this.Get_MgrSummary().MakeSummaryGlobalEnterprises(this.Get_Database(),this.Get_AppXUR().Get_3xXUR());this.Get_MgrSummary().MakeSummaryCityEnterprises(this.Get_Database(),this.Get_AppXUR().Get_3xXUR());this.Get_MgrSummary().OverrideAreaScore(this.Get_Database(),this.Get_AppXUR().Get_3xXUR());this.Get_MgrSummary().OverrideRegionScore(this.Get_Database(),this.Get_AppXUR().Get_3xXUR());this.Get_MgrSummary().OverrideCityScore(this.Get_Database(),this.Get_AppXUR().Get_3xXUR());this.Get_MgrSummary().OverrideCPScore(this.Get_Database(),this.Get_AppXUR().Get_3xXUR(),this.Get_3xXEMSC_ByXUR());this.Get_Database().ApplyFiltersAndSorting(this.Get_AppXUR().Get_3xXUR());this.Get_MgrSummary().MakeSummaryMainEnterprises(this.Get_Database(),this.Get_AppXUR().Get_3xXUR());return true;};this.DocumentShow=function()
{var jr_b=true;if(this.Get_AppXUR().Get_Page(0))
{if(this.Get_AppXUR().Get_Page(0)=="sitemap")
return this.ShowSitemap();return this.ShowSimplePage();}
try
{this.Get_AppXUR().UpdatePageTitle();this.ShowHeaderBar();var jt_oheSet=this.Get_HtmlSetEntity();if(!(jt_oheSet&&jt_oheSet.PrintHtml2(true)))
jr_b=false;if(jr_b)
{jg_oPanelControlIcons_Builder.OnPageFooterEnd();if(this.Get_ECPMgr())
{if(!this.Get_ECPMgr().ShowHtmlSelected())
jr_b=false;}
var jt_o3xAppWindow=new A3xaAppWindow();jt_o3xAppWindow.Set_EHResize(function()
{var jt_IdNarrowView=jt_oheSet.OnWindowResize(true);});}}
catch(e)
{this.ExceptionMessage(e,"ShowHtmlPage");jr_b=false;}
if(jr_b);return jr_b;};this.ShowSimplePage=function()
{this.ShowHeaderBar();if(this.Get_AppXUR().Get_Page(0)=="users")
{if(this.Get_AppXUR().Get_Page(1)=="register")
{var jt_o3x2PageUsersRegister=A3xa2MgrPageUsersRegister();jt_o3x2PageUsersRegister.pur.printHtml();}
else if(this.Get_AppXUR().Get_Page(1)=="login")
{var jt_o3x2PageUsersLogin=A3xa2MgrPageUsersLogin();jt_o3x2PageUsersLogin.pul.printHtml();}}
return true;};this.ShowHeaderBar=function()
{var jt_o3x2PageHeaderBar=A3xa2MgrPageHeaderBar();jt_o3x2PageHeaderBar.phb.printHtml();return true;};this.ShowSitemap=function()
{return true;};this.ClearView=function()
{var jt_ohse=this.Get_HtmlSetEntity();if(jt_ohse)
{var jt_o3xAppWindow=new A3xaAppWindow();jt_o3xAppWindow.Set_EHResize(null);jg_oe.LogStatusBar2(new A3xaString(["Clean App Logger","Limpia de registrador","Limpo do registrador","Pulizia Registratore"]),false,true);jt_ohse.Release(true);this.AbortHttpRequests();}
return true;};this.WriteGLRS2=function(ji_glid,ji_oglh,ji_sGLRS)
{var jr_b=false;try
{if(this.Get_Database()&&ji_glid)
jr_b=this.Get_Database().WriteGLRS2(ji_glid,ji_oglh,ji_sGLRS);}
catch(e)
{this.ExceptionMessage(e,"WriteLocalStorage");}
return jr_b;};this._ExecLogStatusBar2=function(ji_o3xsText,ji_bAsChild,ji_bClear)
{if(this.Get_ECPMgr()&&this.Get_ECPMgr().Get_AppLogger())
return this.Get_ECPMgr().Get_AppLogger().Append2(ji_o3xsText,ji_bAsChild,ji_bClear);return false;};this.OnClickTurbo=function(ji_bCurrentStatus)
{if(this.Get_WebbotName())
{alert("Turbo is not enabled for webbots");return false;}
if(!ji_bCurrentStatus)
{if(!jg_oe.Get_MgrStorage().IsTurboAvailable())
{alert("A3xaTurboZero is not allowed on your browser,"+" because you are browsing in Private-Mode and/or "+" your browser DOM-storage is switched-off");return false;}}
jg_oe.Get_MgrStorage().Set_TurboStatus(!ji_bCurrentStatus);var jt_oChangeTurboStatus=setTimeout(function()
{jt_this.ClearView();jt_this.ResetApp();jt_this.Get_DataManager(true);jt_this.Get_Database().ClearArrayDTLoad({jp_bTyp_Gold:true,jp_bTyp_Silver:true,jp_bTyp_Main:true,jp_bTyp_Unique:true,jp_bTyp_Major:true,jp_bTyp_Subry:true});jt_this.Get_DataManager().ManageData();},10);return true;};this.ShowCPTemplate=function()
{var jr_b=true;var jt_oheSet=this.Get_HtmlSetEntity();if(!jt_oheSet)
{jt_oheSet=new A3xaHtmlEntitySet();this.Set_HtmlSetEntity(jt_oheSet);}
if(!jt_oheSet.PrintHtml2(false,true))
jr_b=false;this.HideLeftPanel();return jr_b;};this.Set_ItemsNarrowView=function(ji_IdNarrowView)
{this.Set_BrowserNarrowView(ji_IdNarrowView);this.Set_PopupDimNarrowView(ji_IdNarrowView);return true;};this.Set_BrowserNarrowView=function(ji_IdNarrowView)
{if(ji_IdNarrowView==jg_oe.jc_oHtml.jc_Body_NormalWidthId)
{this.AppendPageBreadCrumbs("a3xaw20bar","a3xaw20hook");}
else if(ji_IdNarrowView==jg_oe.jc_oHtml.jc_Body_SmallWidthId)
{this.AppendPageBreadCrumbs("a3xaw20bar","a3xaw20hook");}
else if(ji_IdNarrowView==jg_oe.jc_oHtml.jc_Body_MicroWidthId)
{this.AppendPageBreadCrumbs("a3xaw20bar");}
else
return false;return true;};this.OnClickEntity_WebsiteUrl=function(ji_keyEntity,ji_TypEntity,ji_IdEntity,ji_TypInfo,ji_IdInfo,ji_CodInfo)
{try
{this.Get_MgrScore().ms.onClickEntity_WebsiteUrl(ji_keyEntity,ji_TypEntity,ji_IdEntity,ji_TypInfo,ji_IdInfo,ji_CodInfo);}
catch(e)
{this.ExceptionMessage(e,"ClickEntity");}
return true;};this._A3xaAppManager();}
